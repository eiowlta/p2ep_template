function START()
{
    screenEffectInit();
    screenFade(160, 120, rgb(255,255,255), rgb(255,255,255), sub);
    sndMusicPlay(sound_3005, 127);
    ref_3 = call(UWASABIT);
    wait(ref_3);
    objAnimRotate(obj_28, 0, 360, 0, 300, 1);
    envTriggerSet(DOORBOX, 131, 1, line, coll_0);
    envTriggerSet(OKUNOHEYA, 14, 1, line, coll_2);
    bitGet(var_0, MBIT_KUZU_HATUNEKO);
    bne(var_0, 0, label_c);
    envTriggerSet(BIGNEKO, 255, 1, collision_1, coll_1);
    b(label_e);
  label_c:
    bne(var_0, 1, label_e);
    b(label_e);
  label_e:
    objCollisionLink(line, coll_d, obj_11);
    envTriggerSet(HONDANA, 14, 1, line, coll_d);
    envTriggerSet(MAGAZIN, 14, 1, line, coll_21);
    cameraSet(southeast, 795, 0, -1300);
    li(var_0, 0);
    li(var_1, 0);
    partyMemberCheck(var_0, ulala);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, katsuya);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, baofu);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, nanjo);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, elly);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, tatsuya);
    add(var_1, var_1, var_0);
    boutrange(var_1, 0, 4, label_23);
    li(var_0, 0);
    b(label_28);
  label_23:
    ref_23 = dialogAlloc();
    ref_24 = msgShow(msg_0);
/***************************************
There are more than 4 people.
It will hang.
Get a hold of Kaneda and Kataoka.
[wait][clear]
***************************************/
    wait(ref_24);
    dialogFree(ref_23);
    b(label_28);
  label_28:
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_2d);
    bitGet(var_0, EBIT_E008C);
    bez(var_0, label_33);
    bnz(var_0, label_2f);
  label_2d:
    partyMemberCheck(var_0, tatsuya);
    bez(var_0, label_33);
  label_2f:
    ref_2f = spriteLoad(sprite_18);
    wait(ref_2f);
    unitSpawn(tatsuya, sprite_18, 860, 0, -1150, west, none);
    unitTriggerSet(tatsuya, B_TATU, 255, 1);
  label_33:
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_46);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_3e);
    partyMemberCheck(var_0, elly);
    bez(var_0, label_46);
    ref_39 = spriteLoad(sprite_23);
    wait(ref_39);
    unitSpawn(elly, sprite_23, 645, 0, -1250, south, none);
    unitTriggerSet(elly, B_ERI, 255, 1);
    b(label_46);
  label_3e:
    bne(var_0, 1, label_46);
    partyMemberCheck(var_0, nanjo);
    bez(var_0, label_46);
    ref_41 = spriteLoad(sprite_1f);
    wait(ref_41);
    unitSpawn(nanjo, sprite_1f, 675, 0, -1250, south, none);
    unitTriggerSet(nanjo, B_NANJ, 255, 1);
    b(label_46);
  label_46:
    partyMemberCheck(var_0, ulala);
    bez(var_0, label_4c);
    ref_48 = spriteLoad(sprite_6);
    wait(ref_48);
    unitSpawn(ulala, sprite_6, 930, 0, -310, south, none);
    unitTriggerSet(ulala, B_URARATI, 255, 1);
  label_4c:
    partyMemberCheck(var_0, katsuya);
    bez(var_0, label_52);
    ref_4e = spriteLoad(sprite_d);
    wait(ref_4e);
    unitSpawn(katsuya, sprite_d, 650, 30, -740, north, none);
    unitTriggerSet(katsuya, B_KATUYYY, 255, 1);
  label_52:
    partyMemberCheck(var_0, baofu);
    bez(var_0, label_58);
    ref_54 = spriteLoad(sprite_13);
    wait(ref_54);
    unitSpawn(baofu, sprite_13, 450, 0, -520, east, none);
    unitTriggerSet(baofu, B_PAO, 255, 1);
  label_58:
    ref_58 = spriteLoad(sprite_9c);
    wait(ref_58);
    unitSpawn(shopkeeper, sprite_9c, 120, 0, -1020, north, none);
    unitTriggerSet(shopkeeper, SHOP, 255, 1);
    ref_5c = spriteLoad(sprite_a9);
    wait(ref_5c);
    unitSpawn(unit_58, sprite_a9, 510, 0, -1220, south, none);
    unitTriggerSet(unit_58, WOMAN1, 255, 1);
    bitGet(var_0, MBIT_KUZU_HATUNEKO);
    bez(var_0, label_63);
    objVisible(obj_1b, false);
  label_63:
    ref_63 = spriteLoad(sprite_8b);
    wait(ref_63);
    unitSpawn(npc1, sprite_8b, 200, 0, -150, west, none);
    unitTriggerSet(npc1, MAN1, 255, 1);
    ref_67 = spriteLoad(sprite_0);
    wait(ref_67);
    ref_69 = spriteLoad(sprite_2);
    wait(ref_69);
    playerInit(south);
    controlDisable();
    screenEffectUnknown();
    screenFadeInner(rgb(0,0,0), 6, true);
    screenFadeOuter(rgb(0,0,0), 6, true);
    unitIdleOnAll();
    screenFadeWait(inner);
    screenFadeWait(outer);
    controlEnable();
}

function B_URARATI()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_f4);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_e4);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_c2);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_b2);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_a2);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_92);
    unitFacePlayer(ulala);
    ref_83 = bustupLoad(bustup_1e);
    bustupWait(ref_83);
    ref_85 = bustupAlloc(ref_83, left, rgb(0,0,0));
    bustupFade(ref_85, rgb(128,0,0), 30);
    ref_87 = dialogAlloc();
    ref_88 = msgShow(msg_1);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]You can’t trust a person named "Sneak",
[tab]can you? I wonder if [suou]-san really
[tab]trusts that person?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_1d, 1);
    wait(ref_88);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_87);
    ref_8d = bustupFade(ref_85, rgb(0,0,0), 10);
    bustupWait(ref_8d);
    bustupFree(ref_85);
    unitRestoreFacing(ulala);
    b(label_104);
  label_92:
    unitFacePlayer(ulala);
    ref_93 = bustupLoad(bustup_17);
    bustupWait(ref_93);
    ref_95 = bustupAlloc(ref_93, left, rgb(0,0,0));
    bustupFade(ref_95, rgb(128,0,0), 30);
    ref_97 = dialogAlloc();
    ref_98 = msgShow(msg_2);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab][suou]-san looks troubled.
[tab]It must be even more difficult since
[tab]I’m not involved.
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_1a, 1);
    wait(ref_98);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_97);
    ref_9d = bustupFade(ref_95, rgb(0,0,0), 10);
    bustupWait(ref_9d);
    bustupFree(ref_95);
    unitRestoreFacing(ulala);
    b(label_104);
  label_a2:
    unitFacePlayer(ulala);
    ref_a3 = bustupLoad(bustup_17);
    bustupWait(ref_a3);
    ref_a5 = bustupAlloc(ref_a3, left, rgb(0,0,0));
    bustupFade(ref_a5, rgb(128,0,0), 30);
    ref_a7 = dialogAlloc();
    ref_a8 = msgShow(msg_3);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]A normal person would not think of
[tab]making the Sumaru city float in the sky...
[tab]Can that really be done?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_a8);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_a7);
    ref_ad = bustupFade(ref_a5, rgb(0,0,0), 10);
    bustupWait(ref_ad);
    bustupFree(ref_a5);
    unitRestoreFacing(ulala);
    b(label_104);
  label_b2:
    unitFacePlayer(ulala);
    ref_b3 = bustupLoad(bustup_17);
    bustupWait(ref_b3);
    ref_b5 = bustupAlloc(ref_b3, left, rgb(0,0,0));
    bustupFade(ref_b5, rgb(128,0,0), 30);
    ref_b7 = dialogAlloc();
    ref_b8 = msgShow(msg_4);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Is that kid reminiscing? He looks like he’s
[tab]been here before... So, he must’ve been
[tab]here at the time of the Joker rumor.
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_b8);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_b7);
    ref_bd = bustupFade(ref_b5, rgb(0,0,0), 10);
    bustupWait(ref_bd);
    bustupFree(ref_b5);
    unitRestoreFacing(ulala);
    b(label_104);
  label_c2:
    unitFacePlayer(ulala);
    bitGet(var_0, MBIT_KUZU_HATUNEKO);
    bne(var_0, 0, label_d3);
    ref_c5 = bustupLoad(bustup_17);
    bustupWait(ref_c5);
    ref_c7 = bustupAlloc(ref_c5, left, rgb(0,0,0));
    bustupFade(ref_c7, rgb(128,0,0), 30);
    ref_c9 = dialogAlloc();
    ref_ca = msgShow(msg_5);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Who sets the fees on that Lucky Cat...?
[tab]What! It’s neither the ol’ guy nor Tamaki!?
[tab]Then who...? ...A person in the business?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_ca);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_c9);
    ref_cf = bustupFade(ref_c7, rgb(0,0,0), 10);
    bustupWait(ref_cf);
    bustupFree(ref_c7);
    b(label_e2);
  label_d3:
    bne(var_0, 1, label_e2);
    ref_d4 = bustupLoad(bustup_19);
    bustupWait(ref_d4);
    ref_d6 = bustupAlloc(ref_d4, left, rgb(0,0,0));
    bustupFade(ref_d6, rgb(128,0,0), 30);
    ref_d8 = dialogAlloc();
    ref_d9 = msgShow(msg_6);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]¥100 on the Other Side? That damn Nekomata!
[tab]Thinking we don’t know better!![delay(30)]
[tab]Huh, is it possibly Tamaki-chan’s suggestion...!?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2f, 1);
    wait(ref_d9);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_d8);
    ref_de = bustupFade(ref_d6, rgb(0,0,0), 10);
    bustupWait(ref_de);
    bustupFree(ref_d6);
    b(label_e2);
  label_e2:
    unitRestoreFacing(ulala);
    b(label_104);
  label_e4:
    unitFacePlayer(ulala);
    ref_e5 = bustupLoad(bustup_17);
    bustupWait(ref_e5);
    ref_e7 = bustupAlloc(ref_e5, left, rgb(0,0,0));
    bustupFade(ref_e7, rgb(128,0,0), 30);
    ref_e9 = dialogAlloc();
    ref_ea = msgShow(msg_7);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Shall we go now Ma-ya?!
[tab]Doesn’t it look bad for a mere rumor
[tab]to cause world destruction?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_ea);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_e9);
    ref_ef = bustupFade(ref_e7, rgb(0,0,0), 10);
    bustupWait(ref_ef);
    bustupFree(ref_e7);
    unitRestoreFacing(ulala);
    b(label_104);
  label_f4:
    unitFacePlayer(ulala);
    ref_f5 = bustupLoad(bustup_17);
    bustupWait(ref_f5);
    ref_f7 = bustupAlloc(ref_f5, left, rgb(0,0,0));
    bustupFade(ref_f7, rgb(128,0,0), 30);
    ref_f9 = dialogAlloc();
    ref_fa = msgShow(msg_8);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]We can’t just leave those kids alone!
[tab]Ma-ya, let’s hurry!
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2f, 1);
    wait(ref_fa);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_f9);
    ref_ff = bustupFade(ref_f7, rgb(0,0,0), 10);
    bustupWait(ref_ff);
    bustupFree(ref_f7);
    unitRestoreFacing(ulala);
    b(label_104);
  label_104:
    controlEnable();
}

function B_KATUYYY()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_163);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_153);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_143);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_133);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_123);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_113);
  label_113:
    unitFacePlayer(katsuya);
    ref_114 = bustupLoad(bustup_27);
    bustupWait(ref_114);
    ref_116 = bustupAlloc(ref_114, left, rgb(0,0,0));
    bustupFade(ref_116, rgb(128,0,0), 30);
    ref_118 = dialogAlloc();
    ref_119 = msgShow(msg_9);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]The chief was father’s best friend,
[tab]and yet, he betrayed him...
[tab]What am I to say to father?
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_119);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_118);
    ref_11e = bustupFade(ref_116, rgb(0,0,0), 10);
    bustupWait(ref_11e);
    bustupFree(ref_116);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_123:
    unitFacePlayer(katsuya);
    ref_124 = bustupLoad(bustup_21);
    bustupWait(ref_124);
    ref_126 = bustupAlloc(ref_124, left, rgb(0,0,0));
    bustupFade(ref_126, rgb(128,0,0), 30);
    ref_128 = dialogAlloc();
    ref_129 = msgShow(msg_10);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]How long was the New World Order planning
[tab]such a thing...?
[tab]Did we underestimate our enemy?
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_1a, 1);
    wait(ref_129);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_128);
    ref_12e = bustupFade(ref_126, rgb(0,0,0), 10);
    bustupWait(ref_12e);
    bustupFree(ref_126);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_133:
    unitFacePlayer(katsuya);
    ref_134 = bustupLoad(bustup_25);
    bustupWait(ref_134);
    ref_136 = bustupAlloc(ref_134, left, rgb(0,0,0));
    bustupFade(ref_136, rgb(128,0,0), 30);
    ref_138 = dialogAlloc();
    ref_139 = msgShow(msg_11);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Impossible...!!
[tab]A normal high school student shouldn’t
[tab]have any business here!
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2f, 1);
    wait(ref_139);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_138);
    ref_13e = bustupFade(ref_136, rgb(0,0,0), 10);
    bustupWait(ref_13e);
    bustupFree(ref_136);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_143:
    unitFacePlayer(katsuya);
    ref_144 = bustupLoad(bustup_21);
    bustupWait(ref_144);
    ref_146 = bustupAlloc(ref_144, left, rgb(0,0,0));
    bustupFade(ref_146, rgb(128,0,0), 30);
    ref_148 = dialogAlloc();
    ref_149 = msgShow(msg_12);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab][tatsuya] and those guys must’ve been using
[tab]this place on the Other Side like us...
[tab]However, with a difference of 900 yen.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_149);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_148);
    ref_14e = bustupFade(ref_146, rgb(0,0,0), 10);
    bustupWait(ref_14e);
    bustupFree(ref_146);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_153:
    unitFacePlayer(katsuya);
    ref_154 = bustupLoad(bustup_21);
    bustupWait(ref_154);
    ref_156 = bustupAlloc(ref_154, left, rgb(0,0,0));
    bustupFade(ref_156, rgb(128,0,0), 30);
    ref_158 = dialogAlloc();
    ref_159 = msgShow(msg_13);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]So, world destruction by a rumor...
[tab]I still can’t believe it, but
[tab]it’s possible in this situation.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_159);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_158);
    ref_15e = bustupFade(ref_156, rgb(0,0,0), 10);
    bustupWait(ref_15e);
    bustupFree(ref_156);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_163:
    unitFacePlayer(katsuya);
    ref_164 = bustupLoad(bustup_21);
    bustupWait(ref_164);
    ref_166 = bustupAlloc(ref_164, left, rgb(0,0,0));
    bustupFade(ref_166, rgb(128,0,0), 30);
    ref_168 = dialogAlloc();
    ref_169 = msgShow(msg_14);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab][tatsuya]’s friends... Amano-kun’s cohorts...
[tab]We can’t just neglect them!
[tab]Let’s go, Amano-kun.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_1a, 1);
    wait(ref_169);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_168);
    ref_16e = bustupFade(ref_166, rgb(0,0,0), 10);
    bustupWait(ref_16e);
    bustupFree(ref_166);
    unitRestoreFacing(katsuya);
    b(label_173);
  label_173:
    controlEnable();
}

function B_PAO()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_1e2);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_1d2);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_1c2);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_1b2);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_1a2);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_192);
    unitFacePlayer(baofu);
    ref_183 = bustupLoad(bustup_2d);
    bustupWait(ref_183);
    ref_185 = bustupAlloc(ref_183, left, rgb(0,0,0));
    bustupFade(ref_185, rgb(128,0,0), 30);
    ref_187 = dialogAlloc();
    ref_188 = msgShow(msg_15);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]There’s less room for opinion in a big
[tab]organization. I wouldn’t be surprised if
[tab]someone betrayed New World Order... Maybe?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1d, 1);
    wait(ref_188);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_187);
    ref_18d = bustupFade(ref_185, rgb(0,0,0), 10);
    bustupWait(ref_18d);
    bustupFree(ref_185);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_192:
    unitFacePlayer(baofu);
    ref_193 = bustupLoad(bustup_31);
    bustupWait(ref_193);
    ref_195 = bustupAlloc(ref_193, left, rgb(0,0,0));
    bustupFade(ref_195, rgb(128,0,0), 30);
    ref_197 = dialogAlloc();
    ref_198 = msgShow(msg_16);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]There’s no use in hiding it now.
[tab]Isn’t that why nothing was said,
[tab]because even [suou]’s pops knew?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1a, 1);
    wait(ref_198);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_197);
    ref_19d = bustupFade(ref_195, rgb(0,0,0), 10);
    bustupWait(ref_19d);
    bustupFree(ref_195);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1a2:
    unitFacePlayer(baofu);
    ref_1a3 = bustupLoad(bustup_2d);
    bustupWait(ref_1a3);
    ref_1a5 = bustupAlloc(ref_1a3, left, rgb(0,0,0));
    bustupFade(ref_1a5, rgb(128,0,0), 30);
    ref_1a7 = dialogAlloc();
    ref_1a8 = msgShow(msg_17);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]I admit we didn’t take the New World Order
[tab]seriously, but such an outrageous plan
[tab]is beyond the imagination.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1a8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1a7);
    ref_1ad = bustupFade(ref_1a5, rgb(0,0,0), 10);
    bustupWait(ref_1ad);
    bustupFree(ref_1a5);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1b2:
    unitFacePlayer(baofu);
    ref_1b3 = bustupLoad(bustup_31);
    bustupWait(ref_1b3);
    ref_1b5 = bustupAlloc(ref_1b3, left, rgb(0,0,0));
    bustupFade(ref_1b5, rgb(128,0,0), 30);
    ref_1b7 = dialogAlloc();
    ref_1b8 = msgShow(msg_18);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]That [suou] talks as if he knows all
[tab]about his younger brother, but, isn’t that
[tab]ignorant? Besides, he’s not normal, right?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1d, 1);
    wait(ref_1b8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1b7);
    ref_1bd = bustupFade(ref_1b5, rgb(0,0,0), 10);
    bustupWait(ref_1bd);
    bustupFree(ref_1b5);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1c2:
    unitFacePlayer(baofu);
    ref_1c3 = bustupLoad(bustup_2d);
    bustupWait(ref_1c3);
    ref_1c5 = bustupAlloc(ref_1c3, left, rgb(0,0,0));
    bustupFade(ref_1c5, rgb(128,0,0), 30);
    ref_1c7 = dialogAlloc();
    ref_1c8 = msgShow(msg_19);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Uhhuuuuuh, even on the "Other Side"...
[tab]This ol’ man is suspicious too... 
[tab]Could he already be aware about [tatsuya]?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1a, 1);
    wait(ref_1c8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1c7);
    ref_1cd = bustupFade(ref_1c5, rgb(0,0,0), 10);
    bustupWait(ref_1cd);
    bustupFree(ref_1c5);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1d2:
    unitFacePlayer(baofu);
    ref_1d3 = bustupLoad(bustup_2d);
    bustupWait(ref_1d3);
    ref_1d5 = bustupAlloc(ref_1d3, left, rgb(0,0,0));
    bustupFade(ref_1d5, rgb(128,0,0), 30);
    ref_1d7 = dialogAlloc();
    ref_1d8 = msgShow(msg_20);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]I’m not gonna die just because of a rumor.
[tab]No stupid rumor is not going to kill me...!
[tab]And I’m not gonna let the world go under.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1d, 1);
    wait(ref_1d8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1d7);
    ref_1dd = bustupFade(ref_1d5, rgb(0,0,0), 10);
    bustupWait(ref_1dd);
    bustupFree(ref_1d5);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1e2:
    unitFacePlayer(baofu);
    ref_1e3 = bustupLoad(bustup_2d);
    bustupWait(ref_1e3);
    ref_1e5 = bustupAlloc(ref_1e3, left, rgb(0,0,0));
    bustupFade(ref_1e5, rgb(128,0,0), 30);
    ref_1e7 = dialogAlloc();
    ref_1e8 = msgShow(msg_21);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Who gives a crap about the kids!? I want to
[tab]hurry and end this dumb battle. We’ll take
[tab]care of the kids along the way, got it...?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1e8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1e7);
    ref_1ed = bustupFade(ref_1e5, rgb(0,0,0), 10);
    bustupWait(ref_1ed);
    bustupFree(ref_1e5);
    unitRestoreFacing(baofu);
    b(label_1f2);
  label_1f2:
    controlEnable();
}

function B_NANJ()
{
    controlDisable();
    bitGet(var_0, MBIT_KUZU_T_TALK_N);
    bez(var_0, label_23d);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_22d);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_21d);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_20d);
    unitFacePlayer(nanjo);
    ref_1fe = bustupLoad(bustup_36);
    bustupWait(ref_1fe);
    ref_200 = bustupAlloc(ref_1fe, left, rgb(0,0,0));
    bustupFade(ref_200, rgb(128,0,0), 30);
    ref_202 = dialogAlloc();
    ref_203 = msgShow(msg_22);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]"Sneak"... the name of a coward... 
[tab]He must do more harm than good for them, 
[tab]since he speaks of himself as a coward, right?
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_1a, 1);
    wait(ref_203);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_202);
    ref_208 = bustupFade(ref_200, rgb(0,0,0), 10);
    bustupWait(ref_208);
    bustupFree(ref_200);
    unitRestoreFacing(nanjo);
    b(label_250);
  label_20d:
    unitFacePlayer(nanjo);
    ref_20e = bustupLoad(bustup_3b);
    bustupWait(ref_20e);
    ref_210 = bustupAlloc(ref_20e, left, rgb(0,0,0));
    bustupFade(ref_210, rgb(128,0,0), 30);
    ref_212 = dialogAlloc();
    ref_213 = msgShow(msg_23);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]That police chief must’ve been a weak soul.
[tab]This wouldn’t have happened if he realized
[tab]beforehand that he couldn’t be a villain...
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_6, 1);
    wait(ref_213);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_212);
    ref_218 = bustupFade(ref_210, rgb(0,0,0), 10);
    bustupWait(ref_218);
    bustupFree(ref_210);
    unitRestoreFacing(nanjo);
    b(label_250);
  label_21d:
    unitFacePlayer(nanjo);
    ref_21e = bustupLoad(bustup_36);
    bustupWait(ref_21e);
    ref_220 = bustupAlloc(ref_21e, left, rgb(0,0,0));
    bustupFade(ref_220, rgb(128,0,0), 30);
    ref_222 = dialogAlloc();
    ref_223 = msgShow(msg_24);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]So, a plan exceeding one’s existing values...
[tab]Anyways, such an idea can only strike a
[tab]big shot. Tatsuzou Sudou must be quite...
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_1a, 1);
    wait(ref_223);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_222);
    ref_228 = bustupFade(ref_220, rgb(0,0,0), 10);
    bustupWait(ref_228);
    bustupFree(ref_220);
    unitRestoreFacing(nanjo);
    b(label_250);
  label_22d:
    unitFacePlayer(nanjo);
    ref_22e = bustupLoad(bustup_36);
    bustupWait(ref_22e);
    ref_230 = bustupAlloc(ref_22e, left, rgb(0,0,0));
    bustupFade(ref_230, rgb(128,0,0), 30);
    ref_232 = dialogAlloc();
    ref_233 = msgShow(msg_25);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]That man [suou] seems as if he does not
[tab]want to talk here...
[tab]Let us make haste onward...
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_2d, 1);
    wait(ref_233);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_232);
    ref_238 = bustupFade(ref_230, rgb(0,0,0), 10);
    bustupWait(ref_238);
    bustupFree(ref_230);
    unitRestoreFacing(nanjo);
    b(label_250);
  label_23d:
    unitFaceUnit(nanjo, unit_58);
    unitFaceUnit(unit_58, nanjo);
    ref_23f = bustupLoad(bustup_36);
    bustupWait(ref_23f);
    ref_241 = bustupAlloc(ref_23f, left, rgb(0,0,0));
    bustupFade(ref_241, rgb(128,0,0), 30);
    ref_243 = dialogAlloc();
    ref_244 = msgShow(msg_26);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]Ahhh, haven’t seen you in ages.
[tab]Didn’t you go to college...
[tab]...work? ...In this place?
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_1a, 1);
    wait(ref_244);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_243);
    ref_249 = bustupFade(ref_241, rgb(0,0,0), 10);
    bustupWait(ref_249);
    bustupFree(ref_241);
    unitRestoreFacing(nanjo);
    unitRestoreFacing(unit_58);
    bitSet(LBIT_0014);
    b(label_250);
  label_250:
    controlEnable();
}

function B_ERI()
{
    controlDisable();
    bitGet(var_0, MBIT_KUZU_T_TALK_E);
    bez(var_0, label_29b);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_28b);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_27b);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_26b);
    unitFacePlayer(elly);
    ref_25c = bustupLoad(bustup_42);
    bustupWait(ref_25c);
    ref_25e = bustupAlloc(ref_25c, left, rgb(0,0,0));
    bustupFade(ref_25e, rgb(128,0,0), 30);
    ref_260 = dialogAlloc();
    ref_261 = msgShow(msg_27);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Sneak... I can see him spilling the beans.
[tab]It would be good if he tells us about the
[tab]New World Order though...
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_261);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_260);
    ref_266 = bustupFade(ref_25e, rgb(0,0,0), 10);
    bustupWait(ref_266);
    bustupFree(ref_25e);
    unitRestoreFacing(elly);
    b(label_2ae);
  label_26b:
    unitFacePlayer(elly);
    ref_26c = bustupLoad(bustup_42);
    bustupWait(ref_26c);
    ref_26e = bustupAlloc(ref_26c, left, rgb(0,0,0));
    bustupFade(ref_26e, rgb(128,0,0), 30);
    ref_270 = dialogAlloc();
    ref_271 = msgShow(msg_28);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]That police chief must’ve been weak...
[tab]If he acted as a villain, he wouldn’t have
[tab]suffered from the guilt of sin...
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_271);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_270);
    ref_276 = bustupFade(ref_26e, rgb(0,0,0), 10);
    bustupWait(ref_276);
    bustupFree(ref_26e);
    unitRestoreFacing(elly);
    b(label_2ae);
  label_27b:
    unitFacePlayer(elly);
    ref_27c = bustupLoad(bustup_3d);
    bustupWait(ref_27c);
    ref_27e = bustupAlloc(ref_27c, left, rgb(0,0,0));
    bustupFade(ref_27e, rgb(128,0,0), 30);
    ref_280 = dialogAlloc();
    ref_281 = msgShow(msg_29);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]So, a project chosen over one’s own values...
[tab]Anyway, this kind of idea would only occur
[tab]to a distinguished person.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_281);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_280);
    ref_286 = bustupFade(ref_27e, rgb(0,0,0), 10);
    bustupWait(ref_286);
    bustupFree(ref_27e);
    unitRestoreFacing(elly);
    b(label_2ae);
  label_28b:
    unitFacePlayer(elly);
    ref_28c = bustupLoad(bustup_3d);
    bustupWait(ref_28c);
    ref_28e = bustupAlloc(ref_28c, left, rgb(0,0,0));
    bustupFade(ref_28e, rgb(128,0,0), 30);
    ref_290 = dialogAlloc();
    ref_291 = msgShow(msg_30);
/***************************************
[color(yellow)]Elly[color(white)]
[tab][tatsuya]... I guess you don’t wanna talk
[tab]here... Let’s hurry.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_291);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_290);
    ref_296 = bustupFade(ref_28e, rgb(0,0,0), 10);
    bustupWait(ref_296);
    bustupFree(ref_28e);
    unitRestoreFacing(elly);
    b(label_2ae);
  label_29b:
    unitFaceUnit(elly, unit_58);
    unitFaceUnit(unit_58, elly);
    ref_29d = bustupLoad(bustup_3e);
    bustupWait(ref_29d);
    ref_29f = bustupAlloc(ref_29d, left, rgb(0,0,0));
    bustupFade(ref_29f, rgb(128,0,0), 30);
    ref_2a1 = dialogAlloc();
    ref_2a2 = msgShow(msg_31);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Oh! It’s been a while, Ms. Tamaki!
[tab]How have you been?
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_2a2);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_2a1);
    ref_2a7 = bustupFade(ref_29f, rgb(0,0,0), 10);
    bustupWait(ref_2a7);
    bustupFree(ref_29f);
    unitRestoreFacing(elly);
    unitRestoreFacing(unit_58);
    bitSet(LBIT_0015);
    b(label_2ae);
  label_2ae:
    controlEnable();
}

function B_TATU()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_2ed);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_2dd);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_2ca);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_2b9);
  label_2b9:
    unitFacePlayer(tatsuya);
    ref_2ba = bustupLoad(bustup_b);
    bustupWait(ref_2ba);
    ref_2bc = bustupAlloc(ref_2ba, right, rgb(0,0,0));
    bustupFade(ref_2bc, rgb(128,0,0), 30);
    bustupFlip(ref_2bc, true);
    ref_2bf = dialogAlloc();
    ref_2c0 = msgShow(msg_32);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]This place... It’s really changed.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_28, 1);
    wait(ref_2c0);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2bf);
    ref_2c5 = bustupFade(ref_2bc, rgb(0,0,0), 10);
    bustupWait(ref_2c5);
    bustupFree(ref_2bc);
    unitRestoreFacing(tatsuya);
    b(label_2fd);
  label_2ca:
    unitFacePlayer(tatsuya);
    ref_2cb = bustupLoad(bustup_b);
    bustupWait(ref_2cb);
    ref_2cd = bustupAlloc(ref_2cb, left, rgb(0,0,0));
    bustupFade(ref_2cd, rgb(128,0,0), 30);
    ref_2cf = dialogAlloc();
    ref_2d0 = msgShow(msg_33);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]The rumor was manipulated even on the
[tab]Other Side. Although I was helped in many
[tab]other ways, I bet they wouldn’t know me...
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2d, 1);
    wait(ref_2d0);
    ref_2d3 = msgShow(msg_34);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]But, are prices higher on "This Side"...?
[tab]That Lucky Cat asked for only 100 on
[tab]the "Other Side"...
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_1a, 1);
    wait(ref_2d3);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2cf);
    ref_2d8 = bustupFade(ref_2cd, rgb(0,0,0), 10);
    bustupWait(ref_2d8);
    bustupFree(ref_2cd);
    unitRestoreFacing(tatsuya);
    b(label_2fd);
  label_2dd:
    unitFacePlayer(tatsuya);
    ref_2de = bustupLoad(bustup_b);
    bustupWait(ref_2de);
    ref_2e0 = bustupAlloc(ref_2de, left, rgb(0,0,0));
    bustupFade(ref_2e0, rgb(128,0,0), 30);
    ref_2e2 = dialogAlloc();
    ref_2e3 = msgShow(msg_35);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]There’s no way to erase this world...
[tab]That’s what I’m fighting for.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2f, 1);
    wait(ref_2e3);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2e2);
    ref_2e8 = bustupFade(ref_2e0, rgb(0,0,0), 10);
    bustupWait(ref_2e8);
    bustupFree(ref_2e0);
    unitRestoreFacing(tatsuya);
    b(label_2fd);
  label_2ed:
    unitFacePlayer(tatsuya);
    ref_2ee = bustupLoad(bustup_b);
    bustupWait(ref_2ee);
    ref_2f0 = bustupAlloc(ref_2ee, left, rgb(0,0,0));
    bustupFade(ref_2f0, rgb(128,0,0), 30);
    ref_2f2 = dialogAlloc();
    ref_2f3 = msgShow(msg_36);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]That is HIS...
[tab]That’s Nyarlathotep’s way...
[tab]Be careful, Maya-nee.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2d, 1);
    wait(ref_2f3);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2f2);
    ref_2f8 = bustupFade(ref_2f0, rgb(0,0,0), 10);
    bustupWait(ref_2f8);
    bustupFree(ref_2f0);
    unitRestoreFacing(tatsuya);
    b(label_2fd);
  label_2fd:
    controlEnable();
}

function WOMAN1()
{
    controlDisable();
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_303);
    b(label_306);
  label_303:
    bne(var_0, 1, label_306);
    shopOverlayInit();
    b(label_306);
  label_306:
    unitFacePlayer(unit_58);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_30d);
    bitGet(var_0, MBIT_AIS_25);
    bnz(var_0, label_520);
    b(label_53c);
    b(label_31d);
  label_30d:
    bne(var_0, 1, label_31d);
    bitGet(var_0, MBIT_KUZU_KENSHOUHATU);
    bne(var_0, 0, label_313);
    bitGet(var_0, MBIT_KUZU_KENSHOUTALK);
    bez(var_0, label_33c);
    b(label_31c);
  label_313:
    bne(var_0, 1, label_31c);
    bitGet(var_0, MBIT_AIS_25);
    bne(var_0, 0, label_318);
    b(label_31d);
    b(label_31b);
  label_318:
    bne(var_0, 1, label_31b);
    b(label_32b);
    b(label_31b);
  label_31b:
    b(label_31c);
  label_31c:
    b(label_31d);
  label_31d:
    ref_31d = bustupLoad(bustup_e6);
    bustupWait(ref_31d);
    ref_31f = bustupAlloc(ref_31d, right, rgb(0,0,0));
    bustupFade(ref_31f, rgb(128,0,0), 30);
    ref_321 = dialogAlloc();
    ref_322 = msgShow(msg_37);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Hi there!
[tab]How can I help you today?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_19, 1);
    wait(ref_322);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_321);
    ref_327 = bustupFade(ref_31f, rgb(0,0,0), 10);
    bustupWait(ref_327);
    bustupFree(ref_31f);
    b(label_34b);
  label_32b:
    ref_32b = bustupLoad(bustup_e6);
    bustupWait(ref_32b);
    ref_32d = bustupAlloc(ref_32b, right, rgb(0,0,0));
    bustupFade(ref_32d, rgb(128,0,0), 30);
    ref_32f = dialogAlloc();
    ref_330 = msgShow(msg_38);
/***************************************
[tab]Oh, hi there!
[tab]Huh...? Did something happen recently?
[tab]...You’ve become so pretty!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_19, 1);
    wait(ref_330);
    ref_333 = msgShow(msg_39);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Oh, I know... Hmm, I see...
[tab]Just kidding!! Teehee...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_333);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_32f);
    ref_338 = bustupFade(ref_32d, rgb(0,0,0), 10);
    bustupWait(ref_338);
    bustupFree(ref_32d);
    b(label_34b);
  label_33c:
    ref_33c = bustupLoad(bustup_e6);
    bustupWait(ref_33c);
    ref_33e = bustupAlloc(ref_33c, right, rgb(0,0,0));
    bustupFade(ref_33e, rgb(128,0,0), 30);
    ref_340 = dialogAlloc();
    ref_341 = msgShow(msg_40);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]The rumor about the sweepstakes should
[tab]become real now. I know you’re busy, so let me
[tab]take care of the entries for you, okay?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_19, 1);
    wait(ref_341);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_340);
    ref_346 = bustupFade(ref_33e, rgb(0,0,0), 10);
    bustupWait(ref_346);
    bustupFree(ref_33e);
    bitSet(MBIT_KUZU_KENSHOUTALK);
    b(label_34b);
  label_34b:
    bitClear(LBIT_0013);
    choiceSetResult(3);
    op_105(3);
    ref_34e = bustupLoad(bustup_1);
    bustupWait(ref_34e);
    ref_350 = bustupAlloc(ref_34e, center, rgb(0,0,0));
    bustupFade(ref_350, rgb(128,0,0), 30);
    ref_352 = dialogChoiceAlloc();
    ref_353 = msgShow(msg_41);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Now, what are you going to do?
[choice(4)]Talk to Tamaki
Enter magazine sweepstakes
Ask about the sweepstakes
Nothing
[end_choice][clear]
***************************************/
    wait(ref_353);
    dialogFree(ref_352);
    ref_356 = bustupFade(ref_350, rgb(0,0,0), 10);
    bustupWait(ref_356);
    bustupFree(ref_350);
    choiceGetResult(var_0);
    bne(var_0, 0, label_35d);
    b(label_53c);
    b(label_366);
  label_35d:
    bne(var_0, 1, label_360);
    b(label_366);
    b(label_366);
  label_360:
    bne(var_0, 2, label_363);
    b(label_503);
    b(label_366);
  label_363:
    bne(var_0, 3, label_366);
    b(label_5f6);
    b(label_366);
  label_366:
    bitGet(var_0, MBIT_DMAGICK);
    bez(var_0, label_383);
    bitGet(var_0, MBIT_DPELPEL);
    bez(var_0, label_377);
    b(label_36b);
  label_36b:
    bitGet(var_0, MBIT_WORLD_OUBO);
    bne(var_0, 0, label_374);
    partyItemCount(var_d, fantasy_world);
    bne(var_d, 0, label_371);
    b(label_377);
    b(label_373);
  label_371:
    bitSet(LBIT_0003);
    b(label_373);
  label_373:
    b(label_377);
  label_374:
    bne(var_0, 1, label_377);
    bitSet(LBIT_0009);
    b(label_377);
  label_377:
    bitGet(var_0, MBIT_MRCLE_OUBO);
    bne(var_0, 0, label_380);
    partyItemCount(var_c, miracle_magazine);
    bne(var_c, 0, label_37d);
    b(label_383);
    b(label_37f);
  label_37d:
    bitSet(LBIT_0002);
    b(label_37f);
  label_37f:
    b(label_383);
  label_380:
    bne(var_0, 1, label_383);
    bitSet(LBIT_0008);
    b(label_383);
  label_383:
    bitGet(var_0, MBIT_BATLE_OUBO);
    bne(var_0, 0, label_38b);
    partyItemCount(var_b, battle_master);
    bne(var_b, 0, label_388);
    b(label_38a);
  label_388:
    bitSet(LBIT_0001);
    b(label_38a);
  label_38a:
    b(label_38e);
  label_38b:
    bne(var_0, 1, label_38e);
    bitSet(LBIT_0007);
    b(label_38e);
  label_38e:
    bitGet(var_0, LBIT_0001);
    bnz(var_0, label_3fd);
    bitGet(var_0, LBIT_0007);
    bnz(var_0, label_3a1);
  label_392:
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_411);
    bitGet(var_0, LBIT_0008);
    bnz(var_0, label_3bf);
  label_396:
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_42d);
    bitGet(var_0, LBIT_0009);
    bnz(var_0, label_3e1);
    bitGet(var_0, LBIT_0013);
    bne(var_0, 0, label_39e);
    b(label_4e7);
    b(label_3a1);
  label_39e:
    bne(var_0, 1, label_3a1);
    b(label_4f5);
    b(label_3a1);
  label_3a1:
    ref_3a1 = bustupLoad(bustup_e6);
    bustupWait(ref_3a1);
    ref_3a3 = bustupAlloc(ref_3a1, right, rgb(0,0,0));
    bustupFade(ref_3a3, rgb(128,0,0), 30);
    ref_3a5 = dialogAlloc();
    ref_3a6 = msgShow(msg_42);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]You want to enter the sweepstakes?
[tab]Let’s see, Battle Master...[delay(30)]
[tab]Oops!! No can do.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3a6);
    ref_3a9 = msgShow(msg_43);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Did you check if you won anything from the
[tab]last sweepstakes? If not, you should do so
[tab]at Kismet’s editorial department.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3a9);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitSet(LBIT_0013);
    dialogFree(ref_3a5);
    ref_3af = bustupFade(ref_3a3, rgb(0,0,0), 10);
    bustupWait(ref_3af);
    bustupFree(ref_3a3);
    bitClear(LBIT_0007);
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_3be);
    bitGet(var_0, LBIT_0008);
    bnz(var_0, label_3be);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_3be);
    bitGet(var_0, LBIT_0009);
    bnz(var_0, label_3be);
    delayClear();
    delayWait(30);
    b(label_34b);
  label_3be:
    b(label_392);
  label_3bf:
    ref_3bf = bustupLoad(bustup_e6);
    bustupWait(ref_3bf);
    ref_3c1 = bustupAlloc(ref_3bf, right, rgb(0,0,0));
    bustupFade(ref_3c1, rgb(128,0,0), 30);
    ref_3c3 = dialogAlloc();
    msgShow(msg_44);
/***************************************
[color(yellow)]Tamaki[color(white)]

***************************************/
    bitGet(var_0, LBIT_0013);
    bne(var_0, 0, label_3c9);
    msgShow(msg_45);
/***************************************
[tab]You want to enter the sweepstakes?

***************************************/
    b(label_3cc);
  label_3c9:
    bne(var_0, 1, label_3cc);
    msgShow(msg_46);
/***************************************
[tab]Oh, you want to enter another one?

***************************************/
    b(label_3cc);
  label_3cc:
    ref_3cc = msgShow(msg_47);
/***************************************
[tab]Let’s see, Miracle...[delay(30)]
[tab]Oops!! No can do.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3cc);
    ref_3cf = msgShow(msg_48);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Did you check if you won anything from the
[tab]last sweepstakes? If not, you should do so
[tab]at Kismet’s editorial department.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3cf);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitSet(LBIT_0013);
    dialogFree(ref_3c3);
    ref_3d5 = bustupFade(ref_3c1, rgb(0,0,0), 10);
    bustupWait(ref_3d5);
    bustupFree(ref_3c1);
    delayClear();
    delayWait(30);
    bitClear(LBIT_0008);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_3e0);
    bitGet(var_0, LBIT_0009);
    bnz(var_0, label_3e0);
    b(label_34b);
  label_3e0:
    b(label_396);
  label_3e1:
    ref_3e1 = bustupLoad(bustup_e6);
    bustupWait(ref_3e1);
    ref_3e3 = bustupAlloc(ref_3e1, right, rgb(0,0,0));
    bustupFade(ref_3e3, rgb(128,0,0), 30);
    ref_3e5 = dialogAlloc();
    msgShow(msg_49);
/***************************************
[color(yellow)]Tamaki[color(white)]

***************************************/
    bitGet(var_0, LBIT_0013);
    bne(var_0, 0, label_3eb);
    msgShow(msg_50);
/***************************************
[tab]You want to enter the sweepstakes?

***************************************/
    b(label_3ee);
  label_3eb:
    bne(var_0, 1, label_3ee);
    msgShow(msg_51);
/***************************************
[tab]Oh, you want to enter another one?

***************************************/
    b(label_3ee);
  label_3ee:
    ref_3ee = msgShow(msg_52);
/***************************************
[tab]Let’s see, Fantasy World...[delay(30)]
[tab]Oops!! No can do.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3ee);
    ref_3f1 = msgShow(msg_53);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Did you check if you won anything from the
[tab]last sweepstakes? If not, you should do so
[tab]at Kismet’s editorial department.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3f1);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_3e5);
    ref_3f6 = bustupFade(ref_3e3, rgb(0,0,0), 10);
    bustupWait(ref_3f6);
    bustupFree(ref_3e3);
    delayClear();
    delayWait(30);
    bitClear(LBIT_0009);
    b(label_34b);
  label_3fd:
    msgVar_Number(msgvar_1, var_b);
    ref_3fe = bustupLoad(bustup_e6);
    bustupWait(ref_3fe);
    ref_400 = bustupAlloc(ref_3fe, right, rgb(0,0,0));
    bustupFade(ref_400, rgb(128,0,0), 30);
    ref_402 = dialogAlloc();
    ref_403 = msgShow(msg_54);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Okay, you want to enter, right?
[tab]Hmmm... Battle Master is...[delay(30)]
[tab]For [var(msg_var_1)] magazines, right?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_403);
    ref_406 = msgShow(msg_55);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Send to...
[tab]Kismet Editorial Department...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_406);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_402);
    ref_40b = bustupFade(ref_400, rgb(0,0,0), 10);
    bustupWait(ref_40b);
    bustupFree(ref_400);
    bitSet(LBIT_0004);
    bitSet(LBIT_0013);
    b(label_449);
  label_411:
    msgVar_Number(msgvar_2, var_c);
    ref_412 = bustupLoad(bustup_e6);
    bustupWait(ref_412);
    ref_414 = bustupAlloc(ref_412, right, rgb(0,0,0));
    bustupFade(ref_414, rgb(128,0,0), 30);
    ref_416 = dialogAlloc();
    msgShow(msg_56);
/***************************************
[color(yellow)]Tamaki[color(white)]

***************************************/
    bitGet(var_0, LBIT_0013);
    bne(var_0, 0, label_41c);
    msgShow(msg_57);
/***************************************
[tab]You want to enter the sweepstakes?

***************************************/
    b(label_41f);
  label_41c:
    bne(var_0, 1, label_41f);
    msgShow(msg_58);
/***************************************
[tab]Oh, you want to enter another one?

***************************************/
    b(label_41f);
  label_41f:
    ref_41f = msgShow(msg_59);
/***************************************
[tab]Hmmm... Miracle magazine is...[delay(30)]
[tab]For [var(msg_var_2)] magazines, right?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_41f);
    ref_422 = msgShow(msg_60);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Send to...
[tab]Kismet Editorial Department...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_422);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_416);
    ref_427 = bustupFade(ref_414, rgb(0,0,0), 10);
    bustupWait(ref_427);
    bustupFree(ref_414);
    bitSet(LBIT_0005);
    bitSet(LBIT_0013);
    b(label_449);
  label_42d:
    msgVar_Number(msgvar_3, var_d);
    ref_42e = bustupLoad(bustup_e6);
    bustupWait(ref_42e);
    ref_430 = bustupAlloc(ref_42e, right, rgb(0,0,0));
    bustupFade(ref_430, rgb(128,0,0), 30);
    ref_432 = dialogAlloc();
    msgShow(msg_61);
/***************************************
[color(yellow)]Tamaki[color(white)]

***************************************/
    bitGet(var_0, LBIT_0013);
    bne(var_0, 0, label_438);
    msgShow(msg_62);
/***************************************
[tab]You want to enter the sweepstakes?

***************************************/
    b(label_43b);
  label_438:
    bne(var_0, 1, label_43b);
    msgShow(msg_63);
/***************************************
[tab]Oh, you want to enter another one?

***************************************/
    b(label_43b);
  label_43b:
    ref_43b = msgShow(msg_64);
/***************************************
[tab]Hmmm... Fantasy World is...[delay(30)]
[tab]For [var(msg_var_3)] magazines, right?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_43b);
    ref_43e = msgShow(msg_65);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Send to...
[tab]Kismet Editorial Department...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_43e);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_432);
    ref_443 = bustupFade(ref_430, rgb(0,0,0), 10);
    bustupWait(ref_443);
    bustupFree(ref_430);
    bitSet(LBIT_0006);
    bitSet(LBIT_0013);
    b(label_449);
  label_449:
    choiceSetResult(1);
    op_105(1);
    ref_44b = bustupLoad(bustup_1);
    bustupWait(ref_44b);
    ref_44d = bustupAlloc(ref_44b, center, rgb(0,0,0));
    bustupFade(ref_44d, rgb(128,0,0), 30);
    ref_44f = dialogChoiceAlloc();
    ref_450 = msgShow(msg_66);
/***************************************
[tab]Are you sure?
[choice(2)]Okay
No
[end_choice][clear]
***************************************/
    wait(ref_450);
    dialogFree(ref_44f);
    ref_453 = bustupFade(ref_44d, rgb(0,0,0), 10);
    bustupWait(ref_453);
    bustupFree(ref_44d);
    choiceGetResult(var_0);
    bne(var_0, 0, label_45a);
    b(label_45d);
    b(label_45d);
  label_45a:
    bne(var_0, 1, label_45d);
    b(label_4a3);
    b(label_45d);
  label_45d:
    bitGet(var_0, LBIT_0004);
    bez(var_0, label_464);
    sweepstakesEnter(battle);
    bitSet(MBIT_BATLE_OUBO);
    bitClear(LBIT_0004);
    bitClear(LBIT_0001);
    b(label_471);
  label_464:
    bitGet(var_0, LBIT_0005);
    bez(var_0, label_46b);
    sweepstakesEnter(miracle);
    bitSet(MBIT_MRCLE_OUBO);
    bitClear(LBIT_0005);
    bitClear(LBIT_0002);
    b(label_471);
  label_46b:
    bitGet(var_0, LBIT_0006);
    bez(var_0, label_471);
    sweepstakesEnter(fantasy);
    bitSet(MBIT_WORLD_OUBO);
    bitClear(LBIT_0006);
    bitClear(LBIT_0003);
  label_471:
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_487);
    bitGet(var_0, LBIT_0008);
    bnz(var_0, label_487);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_495);
    bitGet(var_0, LBIT_0009);
    bnz(var_0, label_495);
    ref_479 = bustupLoad(bustup_e6);
    bustupWait(ref_479);
    ref_47b = bustupAlloc(ref_479, right, rgb(0,0,0));
    bustupFade(ref_47b, rgb(128,0,0), 30);
    ref_47d = dialogAlloc();
    ref_47e = msgShow(msg_67);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger!
[tab]I’ll send it in.
[tab]Hope you win something!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_47e);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_47d);
    ref_483 = bustupFade(ref_47b, rgb(0,0,0), 10);
    bustupWait(ref_483);
    bustupFree(ref_47b);
    b(label_34b);
  label_487:
    ref_487 = bustupLoad(bustup_e6);
    bustupWait(ref_487);
    ref_489 = bustupAlloc(ref_487, right, rgb(0,0,0));
    bustupFade(ref_489, rgb(128,0,0), 30);
    ref_48b = dialogAlloc();
    ref_48c = msgShow(msg_68);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger! I’ll send it in.
[tab]Let’s see, what else is there...?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_48c);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_48b);
    ref_491 = bustupFade(ref_489, rgb(0,0,0), 10);
    bustupWait(ref_491);
    bustupFree(ref_489);
    b(label_392);
  label_495:
    ref_495 = bustupLoad(bustup_e6);
    bustupWait(ref_495);
    ref_497 = bustupAlloc(ref_495, right, rgb(0,0,0));
    bustupFade(ref_497, rgb(128,0,0), 30);
    ref_499 = dialogAlloc();
    ref_49a = msgShow(msg_69);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger! I’ll send it in.
[tab]Let’s see, what else is there...?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_49a);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_499);
    ref_49f = bustupFade(ref_497, rgb(0,0,0), 10);
    bustupWait(ref_49f);
    bustupFree(ref_497);
    b(label_396);
  label_4a3:
    bitGet(var_0, LBIT_0004);
    bez(var_0, label_4a8);
    bitClear(LBIT_0004);
    bitClear(LBIT_0001);
    b(label_4b1);
  label_4a8:
    bitGet(var_0, LBIT_0005);
    bez(var_0, label_4ad);
    bitClear(LBIT_0005);
    bitClear(LBIT_0002);
    b(label_4b1);
  label_4ad:
    bitGet(var_0, LBIT_0006);
    bez(var_0, label_4b1);
    bitClear(LBIT_0006);
    bitClear(LBIT_0003);
  label_4b1:
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_4c7);
    bitGet(var_0, LBIT_0008);
    bnz(var_0, label_4c7);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_4d7);
    bitGet(var_0, LBIT_0009);
    bnz(var_0, label_4d7);
    ref_4b9 = bustupLoad(bustup_e6);
    bustupWait(ref_4b9);
    ref_4bb = bustupAlloc(ref_4b9, right, rgb(0,0,0));
    bustupFade(ref_4bb, rgb(128,0,0), 30);
    ref_4bd = dialogAlloc();
    ref_4be = msgShow(msg_70);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger!
[tab]Come back when you want to enter.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_4be);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_4bd);
    ref_4c3 = bustupFade(ref_4bb, rgb(0,0,0), 10);
    bustupWait(ref_4c3);
    bustupFree(ref_4bb);
    b(label_34b);
  label_4c7:
    ref_4c7 = bustupLoad(bustup_e6);
    bustupWait(ref_4c7);
    ref_4c9 = bustupAlloc(ref_4c7, right, rgb(0,0,0));
    bustupFade(ref_4c9, rgb(128,0,0), 30);
    ref_4cb = dialogAlloc();
    ref_4cc = msgShow(msg_71);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger!
[tab]Come back when you want to enter.
[tab]Let’s see, what else is there...?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_4cc);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_4cb);
    ref_4d1 = bustupFade(ref_4c9, rgb(0,0,0), 10);
    bustupWait(ref_4d1);
    bustupFree(ref_4c9);
    delayClear();
    delayWait(30);
    b(label_392);
  label_4d7:
    ref_4d7 = bustupLoad(bustup_e6);
    bustupWait(ref_4d7);
    ref_4d9 = bustupAlloc(ref_4d7, right, rgb(0,0,0));
    bustupFade(ref_4d9, rgb(128,0,0), 30);
    ref_4db = dialogAlloc();
    ref_4dc = msgShow(msg_72);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Roger!
[tab]Come back when you want to enter.
[tab]Let’s see, what else is there...?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_4dc);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_4db);
    ref_4e1 = bustupFade(ref_4d9, rgb(0,0,0), 10);
    bustupWait(ref_4e1);
    bustupFree(ref_4d9);
    delayClear();
    delayWait(30);
    b(label_396);
  label_4e7:
    ref_4e7 = bustupLoad(bustup_e6);
    bustupWait(ref_4e7);
    ref_4e9 = bustupAlloc(ref_4e7, right, rgb(0,0,0));
    bustupFade(ref_4e9, rgb(128,0,0), 30);
    ref_4eb = dialogAlloc();
    ref_4ec = msgShow(msg_73);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Okay![delay(30)]
[tab]...But you don’t have any magazines...
[tab]Buy them at Satomi Tadashi.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_4ec);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_4eb);
    ref_4f1 = bustupFade(ref_4e9, rgb(0,0,0), 10);
    bustupWait(ref_4f1);
    bustupFree(ref_4e9);
    b(label_34b);
  label_4f5:
    ref_4f5 = bustupLoad(bustup_e6);
    bustupWait(ref_4f5);
    ref_4f7 = bustupAlloc(ref_4f5, right, rgb(0,0,0));
    bustupFade(ref_4f7, rgb(128,0,0), 30);
    ref_4f9 = dialogAlloc();
    ref_4fa = msgShow(msg_74);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]...I guess that’s it.
[tab]Hope you win something!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_4fa);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_4f9);
    ref_4ff = bustupFade(ref_4f7, rgb(0,0,0), 10);
    bustupWait(ref_4ff);
    bustupFree(ref_4f7);
    b(label_34b);
  label_503:
    ref_503 = bustupLoad(bustup_e6);
    bustupWait(ref_503);
    ref_505 = bustupAlloc(ref_503, right, rgb(0,0,0));
    bustupFade(ref_505, rgb(128,0,0), 30);
    ref_507 = dialogAlloc();
    ref_508 = msgShow(msg_75);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]A sweepstakes is kind of like a raffle. 
[tab]You send in magazines for chances to win a 
[tab]cool prize. It takes luck to win!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_508);
    ref_50b = msgShow(msg_76);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]What you do is buy a magazine at Satomi
[tab]Tadashi and give the magazine to me. 
[tab]I send it in, and you check at Kismet.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_50b);
    ref_50e = msgShow(msg_77);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Now, you can enter a particular sweepstakes
[tab]only once. You must check the results before
[tab]entering the next one. ...Why? Because!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_50e);
    ref_511 = msgShow(msg_78);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]You can enter up to 99 magazines at once.
[tab]The more you send in, the better your
[tab]chances of winning. More is better!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_511);
    ref_514 = msgShow(msg_79);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]There’s a wait before the results come in.
[tab]You can’t just stand there... Go explore
[tab]dungeons and such before checking back.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_514);
    ref_517 = msgShow(msg_80);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]The rest is perseverance and luck!
[tab]Be hopeful and you might be able to
[tab]get a rare item...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_517);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_507);
    ref_51c = bustupFade(ref_505, rgb(0,0,0), 10);
    bustupWait(ref_51c);
    bustupFree(ref_505);
    b(label_34b);
  label_520:
    ref_520 = bustupLoad(bustup_e6);
    bustupWait(ref_520);
    ref_522 = bustupAlloc(ref_520, right, rgb(0,0,0));
    bustupFade(ref_522, rgb(128,0,0), 30);
    ref_524 = dialogAlloc();
    ref_525 = msgShow(msg_81);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Huh...? Did something happen recently?
[tab]...You’ve become so pretty!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_525);
    ref_528 = msgShow(msg_82);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Oh, I know... Hmm, I see...
[tab]Just kidding!! Teehee...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_528);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_535);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_531);
    b(label_534);
  label_531:
    bne(var_0, 1, label_534);
    shopOverlayInit();
    b(label_534);
  label_534:
    b(label_537);
  label_535:
    bne(var_0, 1, label_537);
    b(label_537);
  label_537:
    dialogFree(ref_524);
    ref_538 = bustupFade(ref_522, rgb(0,0,0), 10);
    bustupWait(ref_538);
    bustupFree(ref_522);
    b(label_609);
  label_53c:
    bitGet(var_0, EBIT_E0046);
    bne(var_0, 0, label_53f);
    b(label_551);
  label_53f:
    bne(var_0, 1, label_551);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_54e);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_548);
    bitGet(var_0, MBIT_KUZU_T_TALK_E);
    bnz(var_0, label_551);
    b(label_5d7);
    b(label_54d);
  label_548:
    bne(var_0, 1, label_54d);
    bitGet(var_0, MBIT_KUZU_T_TALK_N);
    bnz(var_0, label_551);
    b(label_5bb);
    b(label_54d);
  label_54d:
    b(label_550);
  label_54e:
    bne(var_0, 1, label_550);
    b(label_550);
  label_550:
    b(label_551);
  label_551:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_5a2);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_589);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_570);
    ref_557 = bustupLoad(bustup_e6);
    bustupWait(ref_557);
    ref_559 = bustupAlloc(ref_557, right, rgb(0,0,0));
    bustupFade(ref_559, rgb(128,0,0), 30);
    ref_55b = dialogAlloc();
    ref_55c = msgShow(msg_83);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]"New World Order"? Never heard of them, but
[tab]they’re all VIP-types, right? ...Then, I’m
[tab]sure their weak points can be found soon.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_55c);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_569);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_565);
    b(label_568);
  label_565:
    bne(var_0, 1, label_568);
    shopOverlayInit();
    b(label_568);
  label_568:
    b(label_56b);
  label_569:
    bne(var_0, 1, label_56b);
    b(label_56b);
  label_56b:
    dialogFree(ref_55b);
    ref_56c = bustupFade(ref_559, rgb(0,0,0), 10);
    bustupWait(ref_56c);
    bustupFree(ref_559);
    b(label_5f3);
  label_570:
    ref_570 = bustupLoad(bustup_e6);
    bustupWait(ref_570);
    ref_572 = bustupAlloc(ref_570, right, rgb(0,0,0));
    bustupFade(ref_572, rgb(128,0,0), 30);
    ref_574 = dialogAlloc();
    ref_575 = msgShow(msg_84);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]New World Order’s goal is an ambitious one.
[tab]It was beyond my imagination...
[tab]Be careful, Amano-san.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_575);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_582);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_57e);
    b(label_581);
  label_57e:
    bne(var_0, 1, label_581);
    shopOverlayInit();
    b(label_581);
  label_581:
    b(label_584);
  label_582:
    bne(var_0, 1, label_584);
    b(label_584);
  label_584:
    dialogFree(ref_574);
    ref_585 = bustupFade(ref_572, rgb(0,0,0), 10);
    bustupWait(ref_585);
    bustupFree(ref_572);
    b(label_5f3);
  label_589:
    ref_589 = bustupLoad(bustup_e6);
    bustupWait(ref_589);
    ref_58b = bustupAlloc(ref_589, right, rgb(0,0,0));
    bustupFade(ref_58b, rgb(128,0,0), 30);
    ref_58d = dialogAlloc();
    ref_58e = msgShow(msg_85);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Regarding the town becoming Ameno Torifune,
[tab]is that the result of everyone’s rumors...?
[tab]That means... global destruction? Really!?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_58e);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_59b);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_597);
    b(label_59a);
  label_597:
    bne(var_0, 1, label_59a);
    shopOverlayInit();
    b(label_59a);
  label_59a:
    b(label_59d);
  label_59b:
    bne(var_0, 1, label_59d);
    b(label_59d);
  label_59d:
    dialogFree(ref_58d);
    ref_59e = bustupFade(ref_58b, rgb(0,0,0), 10);
    bustupWait(ref_59e);
    bustupFree(ref_58b);
    b(label_5f3);
  label_5a2:
    ref_5a2 = bustupLoad(bustup_e6);
    bustupWait(ref_5a2);
    ref_5a4 = bustupAlloc(ref_5a2, right, rgb(0,0,0));
    bustupFade(ref_5a4, rgb(128,0,0), 30);
    ref_5a6 = dialogAlloc();
    ref_5a7 = msgShow(msg_86);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]He’s still not home even in this situation.
[tab]Isn’t he worried about me?[delay(30)]
[tab]Taa-daa-shii,[delay(30)] where did you go?!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_5a7);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5b4);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5b0);
    b(label_5b3);
  label_5b0:
    bne(var_0, 1, label_5b3);
    shopOverlayInit();
    b(label_5b3);
  label_5b3:
    b(label_5b6);
  label_5b4:
    bne(var_0, 1, label_5b6);
    b(label_5b6);
  label_5b6:
    dialogFree(ref_5a6);
    ref_5b7 = bustupFade(ref_5a4, rgb(0,0,0), 10);
    bustupWait(ref_5b7);
    bustupFree(ref_5a4);
    b(label_5f3);
  label_5bb:
    ref_5bb = bustupLoad(bustup_e6);
    bustupWait(ref_5bb);
    ref_5bd = bustupAlloc(ref_5bb, right, rgb(0,0,0));
    bustupFade(ref_5bd, rgb(128,0,0), 30);
    ref_5bf = dialogAlloc();
    ref_5c0 = msgShow(msg_87);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Hey, is that you, Nanjo-kun?
[tab]Why are you with Amano-san?
[tab]Huh, and Elly? Hmmm, I see...
[wait][clear]
***************************************/
    wait(ref_5c0);
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_5c3 = msgShow(msg_88);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Nanjo-kun and Elly are alumni of St. Hermelin also.
[tab]It’s good to see that everybody’s doing fine.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_5c3);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5d0);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5cc);
    b(label_5cf);
  label_5cc:
    bne(var_0, 1, label_5cf);
    shopOverlayInit();
    b(label_5cf);
  label_5cf:
    b(label_5d2);
  label_5d0:
    bne(var_0, 1, label_5d2);
    b(label_5d2);
  label_5d2:
    dialogFree(ref_5bf);
    ref_5d3 = bustupFade(ref_5bd, rgb(0,0,0), 10);
    bustupWait(ref_5d3);
    bustupFree(ref_5bd);
    b(label_5f3);
  label_5d7:
    ref_5d7 = bustupLoad(bustup_e6);
    bustupWait(ref_5d7);
    ref_5d9 = bustupAlloc(ref_5d7, right, rgb(0,0,0));
    bustupFade(ref_5d9, rgb(128,0,0), 30);
    ref_5db = dialogAlloc();
    ref_5dc = msgShow(msg_89);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Hey, is that you, Elly?
[tab]Why are you with Amano-san?
[tab]Huh, and Nanjo-kun? Hmmm, I see...
[wait][clear]
***************************************/
    wait(ref_5dc);
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_5df = msgShow(msg_90);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Nanjo-kun and Elly are alumni of St. Hermelin also.
[tab]It’s good to see that everybody’s doing fine.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_5df);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5ec);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_5e8);
    b(label_5eb);
  label_5e8:
    bne(var_0, 1, label_5eb);
    shopOverlayInit();
    b(label_5eb);
  label_5eb:
    b(label_5ee);
  label_5ec:
    bne(var_0, 1, label_5ee);
    b(label_5ee);
  label_5ee:
    dialogFree(ref_5db);
    ref_5ef = bustupFade(ref_5d9, rgb(0,0,0), 10);
    bustupWait(ref_5ef);
    bustupFree(ref_5d9);
    b(label_5f3);
  label_5f3:
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bnz(var_0, label_34b);
    bez(var_0, label_609);
  label_5f6:
    ref_5f6 = bustupLoad(bustup_e6);
    bustupWait(ref_5f6);
    ref_5f8 = bustupAlloc(ref_5f6, right, rgb(0,0,0));
    bustupFade(ref_5f8, rgb(128,0,0), 30);
    ref_5fa = dialogAlloc();
    ref_5fb = msgShow(msg_91);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Let me know if you need help.
[tab]I will help you as much as I can.
[tab][delay(30)]...Only what I can, okay?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_5fb);
    unitAnimationPlay(unit_58, animation_0, 1);
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_602);
    b(label_605);
  label_602:
    bne(var_0, 1, label_605);
    shopOverlayInit();
    b(label_605);
  label_605:
    dialogFree(ref_5fa);
    ref_606 = bustupFade(ref_5f8, rgb(0,0,0), 10);
    bustupWait(ref_606);
    bustupFree(ref_5f8);
  label_609:
    unitRestoreFacing(unit_58);
    controlEnable();
}

function MAN1()
{
    li(var_5, 0);
    li(var_6, 0);
    li(var_7, 0);
    li(var_8, 0);
    bitGet(var_0, MBIT_KUZU_HATUNEKO);
    bne(var_0, 0, label_616);
    bitSet(MBIT_KUZU_HATUNEKO);
    envTriggerClear(collision_1, coll_1);
    b(label_628);
    b(label_628);
  label_616:
    bne(var_0, 1, label_628);
    controlDisable();
    playerConvertToUnit(maya, sprite_0, north);
    playerHide();
    unitFaceUnit(maya, npc1);
    sndMusicPlay(sound_30db, 127);
    sndVolumeFadeOff(sound_3005, 120);
    objAnimRotate(obj_6, 0, 110, 0, 30, 0);
    objAnimWait(obj_6);
    ref_61f = cameraRotateTo(3, 45);
    unitMove(maya, 300, -150, face_east, fast);
    cameraFollow(maya);
    delayClear();
    delayWait(30);
    sndMusicPlay(sound_30de, 127);
    wait(ref_61f);
    b(label_634);
    b(label_628);
  label_628:
    ref_628 = dialogAlloc();
    ref_629 = msgShow(msg_92);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Let me start over... How do you do, meow?
[tab]I’m the rumor-loving Nekomata, meow.
[tab]I collect rumors unknown to humans, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_8, 1);
    wait(ref_629);
    ref_62c = msgShow(msg_93);
/***************************************
[color(yellow)]Nekomata[color(green)]
[tab]Demon friend of the Devil Summoner Tamaki.
[tab]Likes pranks and has a weakness for money.
[tab]She knows much about rumors among demons.[color(white)]
[wait][clear]
***************************************/
    wait(ref_62c);
    ref_62e = msgShow(msg_94);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]By the way...
[tab]What do you need today, meow?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_62e);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_628);
    b(label_63e);
  label_634:
    ref_634 = dialogAlloc();
    ref_635 = msgShow(msg_95);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Meow! You’ve come again, meow!?
[tab]Did you want to hear my story, meow?
[tab]But, [delay(30)]don’t forget to knock, meow!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_635);
    ref_638 = msgShow(msg_96);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]By the way...
[tab]What do you need today, meow?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_638);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_634);
    b(label_63e);
  label_63e:
    choiceSetResult(2);
    op_105(2);
    ref_640 = bustupLoad(bustup_1);
    bustupWait(ref_640);
    ref_642 = bustupAlloc(ref_640, center, rgb(0,0,0));
    bustupFade(ref_642, rgb(128,0,0), 30);
    ref_644 = dialogChoiceAlloc();
    ref_645 = msgShow(msg_97);
/***************************************
[tab]What do you need today, meow?
[choice(3)]I want to hear rumors
I want to talk to you
Nothing
[end_choice][clear]
***************************************/
    wait(ref_645);
    dialogFree(ref_644);
    ref_648 = bustupFade(ref_642, rgb(0,0,0), 10);
    bustupWait(ref_648);
    bustupFree(ref_642);
    choiceGetResult(var_0);
    bne(var_0, 0, label_64f);
    b(label_655);
    b(label_655);
  label_64f:
    bne(var_0, 1, label_652);
    b(label_6e1);
    b(label_655);
  label_652:
    bne(var_0, 2, label_655);
    b(label_707);
    b(label_655);
  label_655:
    bitGet(var_0, EBIT_E0046);
    bez(var_0, label_664);
    bitGet(var_0, MBIT_TRI_ISATU);
    bez(var_0, label_664);
    bitGet(var_0, MBIT_HI_TRISHOKUJI);
    bez(var_0, label_664);
    bitGet(var_0, MBIT_KE_TRIKAISIN);
    bitGet(var_1, MBIT_KI_TRIKAISIN);
    add(var_1, var_1, var_0);
    bne(var_1, 0, label_662);
    li(var_5, 1);
    b(label_68d);
    b(label_664);
  label_662:
    boutrange(var_1, 1, 2, label_664);
    b(label_664);
  label_664:
    bitGet(var_0, EBIT_E0018);
    bez(var_0, label_686);
    bitGet(var_0, MBIT_KE_KAORIAROMA);
    bitGet(var_1, MBIT_KI_KAORIAROMA);
    add(var_1, var_1, var_0);
    bne(var_1, 0, label_66d);
    li(var_6, 1);
    b(label_68d);
    b(label_66f);
  label_66d:
    boutrange(var_1, 1, 2, label_66f);
    b(label_66f);
  label_66f:
    bitGet(var_0, MBIT_KE_ETEESTHE);
    bitGet(var_1, MBIT_KI_ETEESTHE);
    add(var_1, var_1, var_0);
    bne(var_1, 0, label_676);
    li(var_7, 1);
    b(label_68d);
    b(label_678);
  label_676:
    boutrange(var_1, 1, 2, label_678);
    b(label_678);
  label_678:
    bitGet(var_0, MBIT_TRI_ISATU);
    bne(var_0, 0, label_67b);
    b(label_686);
  label_67b:
    bne(var_0, 1, label_686);
    bitGet(var_0, MBIT_KE_TRISHOKUJI);
    bitGet(var_1, MBIT_KI_TRISHOKUJI);
    add(var_1, var_1, var_0);
    bne(var_1, 0, label_683);
    li(var_8, 1);
    b(label_68d);
    b(label_685);
  label_683:
    boutrange(var_1, 1, 2, label_685);
    b(label_685);
  label_685:
    b(label_686);
  label_686:
    ref_686 = dialogAlloc();
    ref_687 = msgShow(msg_98);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]I don’t have any more rumors to tell, meow.
[tab]...Sorry, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_687);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_686);
    b(label_6e0);
  label_68d:
    ref_68d = dialogAlloc();
    unitAnimationPlay(npc1, animation_1a, 1);
    rand(var_0, 11);
    boutrange(var_0, 0, 3, label_694);
    ref_691 = msgShow(msg_99);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]You want to hear a rumor, meow?
[tab]Let’s see, meow.
[tab]You tell me a rumor also, meow!
[wait][clear]
***************************************/
    wait(ref_691);
    b(label_69c);
  label_694:
    boutrange(var_0, 4, 7, label_698);
    ref_695 = msgShow(msg_100);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]You want me to tell you a rumor, meow!?
[tab]Then, tell me a rumor also, meow!
[tab]We’ll trade information, meow!
[wait][clear]
***************************************/
    wait(ref_695);
    b(label_69c);
  label_698:
    boutrange(var_0, 8, 11, label_69c);
    ref_699 = msgShow(msg_101);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]My information is special, meow♥
[tab]You have a rumor that will match it, meow?
[wait][clear]
***************************************/
    wait(ref_699);
    b(label_69c);
  label_69c:
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_68d);
    unitAnimationPlay(maya, animation_a, 1);
    delayClear();
    delayWait(20);
    unitAnimationPlay(maya, animation_2d, 1);
    delayClear();
    delayWait(60);
    unitAnimationPlay(maya, animation_a, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(npc1, animation_1a, 1);
    delayClear();
    delayWait(15);
    unitAnimationPlay(npc1, animation_0, 1);
    delayClear();
    delayWait(15);
    unitAnimationPlay(npc1, animation_1a, 1);
    delayClear();
    delayWait(15);
    unitAnimationPlay(npc1, animation_0, 1);
    delayClear();
    delayWait(15);
    ref_6b3 = dialogAlloc();
    unitAnimationPlay(npc1, animation_1a, 1);
    rand(var_0, 11);
    boutrange(var_0, 0, 3, label_6ba);
    ref_6b7 = msgShow(msg_102);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Is, is that true, meow!? 
[tab]I’ve just heard something big, meow! 
[tab]As promised, I will tell you also, meow.
[wait][clear]
***************************************/
    wait(ref_6b7);
    b(label_6c2);
  label_6ba:
    boutrange(var_0, 4, 7, label_6be);
    ref_6bb = msgShow(msg_103);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Oh, a rumor about THAT person, meow?
[tab]Hmmm, humans are strange, meow.
[tab]Now, it’s my turn, meow♥
[wait][clear]
***************************************/
    wait(ref_6bb);
    b(label_6c2);
  label_6be:
    boutrange(var_0, 8, 11, label_6c2);
    ref_6bf = msgShow(msg_104);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]I hear that rumor a lot, meow.
[tab]But I guess that’s good enough for
[tab]today, meow.
[wait][clear]
***************************************/
    wait(ref_6bf);
    b(label_6c2);
  label_6c2:
    bnz(var_5, label_6c6);
    bnz(var_6, label_6cc);
    bnz(var_7, label_6d2);
    bnz(var_8, label_6d8);
  label_6c6:
    ref_6c6 = msgShow(msg_105);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]You know a demon [color(orange)]Trish[color(white)], meow?
[tab]I heard she’s [color(orange)]reformed[color(white)]!
[tab]I just can’t believe it, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6c6);
    bitSet(MBIT_KI_TRIKAISIN);
    li(var_5, 0);
    b(label_6de);
  label_6cc:
    ref_6cc = msgShow(msg_106);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]You know a store [color(orange)]Kaori[color(white)], meow? Then,
[tab]do you know they [color(orange)]started aromatherapy[color(white)]?
[tab]I’m surprised that it works, meow!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6cc);
    bitSet(MBIT_KI_KAORIAROMA);
    li(var_6, 0);
    b(label_6de);
  label_6d2:
    ref_6d2 = msgShow(msg_107);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]That suspicious shop... What was it, meow?
[tab]Oh yeah! The beauty spa [color(orange)]Etheria[color(white)] has a
[tab][color(orange)]new beauty treatment[color(white)]. I’m excited, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6d2);
    bitSet(MBIT_KI_ETEESTHE);
    li(var_7, 0);
    b(label_6de);
  label_6d8:
    ref_6d8 = msgShow(msg_108);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Have you ever met [color(orange)]Trish[color(white)], meow?
[tab]Rumor is that [color(orange)]she’s started to sell
[tab]ice cream[color(white)] in the dungeon for a profit, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6d8);
    bitSet(MBIT_KI_TRISHOKUJI);
    li(var_8, 0);
    b(label_6de);
  label_6de:
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6b3);
  label_6e0:
    b(label_63e);
  label_6e1:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_6ff);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_6f8);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_6ee);
    ref_6e7 = dialogAlloc();
    ref_6e8 = msgShow(msg_109);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Demons are being neglected recently,
[tab]meow. What do you think of us demons?
[tab]You used to call us "comrades", meow?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6e8);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6e7);
    b(label_706);
  label_6ee:
    ref_6ee = dialogAlloc();
    ref_6ef = msgShow(msg_110);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Everybody seems to be panicking these days,
[tab]meow. What, what? Did something happen
[tab]outside, meow?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6ef);
    ref_6f2 = msgShow(msg_111);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]...Oh, it’s just about New World Order.
[tab]I knew about that from before, meow.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6f2);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6ee);
    b(label_706);
  label_6f8:
    ref_6f8 = dialogAlloc();
    ref_6f9 = msgShow(msg_112);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]I wonder what happens when the world is
[tab]destroyed? And... how about us...?
[tab]Just kidding, I’m not worried a bit!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_6f9);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6f8);
    b(label_706);
  label_6ff:
    ref_6ff = dialogAlloc();
    ref_700 = msgShow(msg_113);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]...Nya, Nya, Nyarlathotep...!!
[tab]No comment regarding that matter, meow!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_700);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6ff);
    b(label_706);
  label_706:
    b(label_63e);
  label_707:
    ref_707 = dialogAlloc();
    ref_708 = msgShow(msg_114);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]See you later, meow♥
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_8, 1);
    wait(ref_708);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_707);
    unitRestoreFacing(npc1);
    ref_70e = cameraRotateTo(5, 45);
    sndVolumeFadeOff(sound_30de, 120);
    unitMove(maya, 480, -150, face_west, fast);
    cameraFollow(maya);
    wait(ref_70e);
    sndMusicPlay(sound_3005, 127);
    sndMusicPlay(sound_30dc, 127);
    objAnimRotate(obj_6, 0, -110, 0, 30, 0);
    objAnimWait(obj_6);
    unitWait(maya);
    unitDespawn(maya, none);
    playerInit(west);
    controlEnable();
}

function SHOP()
{
    controlDisable();
    ref_71d = shopOverlayInit();
    unitFacePlayer(shopkeeper);
    bitGet(var_0, MBIT_AIS_19);
    bne(var_0, 0, label_723);
    b(label_726);
    b(label_726);
  label_723:
    bne(var_0, 1, label_726);
    b(label_73d);
    b(label_726);
  label_726:
    ref_726 = bustupLoad(bustup_e5);
    bustupWait(ref_726);
    ref_728 = bustupAlloc(ref_726, right, rgb(0,0,0));
    bustupFade(ref_728, rgb(128,0,0), 30);
    ref_72a = dialogAlloc();
    ref_72b = msgShow(msg_115);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]So you’re here...

[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    delayClear();
    delayWait(30);
    unitAnimationPlay(shopkeeper, animation_19, 1);
    wait(ref_72b);
    dialogFree(ref_72a);
    unitWait(shopkeeper);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    ref_736 = bustupFade(ref_728, rgb(0,0,0), 10);
    bustupWait(ref_736);
    bustupFree(ref_728);
    wait(ref_71d);
    shopInventory(14, shopInventory_0);
    shopRate(100);
    b(label_756);
  label_73d:
    ref_73d = bustupLoad(bustup_e5);
    bustupWait(ref_73d);
    ref_73f = bustupAlloc(ref_73d, right, rgb(0,0,0));
    bustupFade(ref_73f, rgb(128,0,0), 30);
    ref_741 = dialogAlloc();
    ref_742 = msgShow(msg_116);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Hey, you’re here. What’s wrong?
[tab]Is something troubling you? ...Okay,
[tab]I’ll help you today as a favor.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_742);
    ref_745 = msgShow(msg_117);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]But, the fee is as per usual.
[tab]You know, it’s all in the heart...
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    delayClear();
    delayWait(30);
    unitAnimationPlay(shopkeeper, animation_19, 1);
    wait(ref_745);
    dialogFree(ref_741);
    unitWait(shopkeeper);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    ref_750 = bustupFade(ref_73f, rgb(0,0,0), 10);
    bustupWait(ref_750);
    bustupFree(ref_73f);
    wait(ref_71d);
    shopInventory(14, shopInventory_0);
    shopRate(100);
  label_756:
    ref_756 = bustupLoad(bustup_e5);
    bustupWait(ref_756);
    ref_758 = bustupAlloc(ref_756, right, rgb(0,0,0));
    bustupFade(ref_758, rgb(128,0,0), 30);
    choiceSetResult(3);
    op_105(3);
    ref_75c = dialogAlloc();
    ref_75d = msgShow(msg_118);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]What business do you have with
[tab]us today?
[choice(5)]Spread rumors
Check Rumors
Talk with the Chief
Cancel
Leave the detective agency
[end_choice][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    delayClear();
    delayWait(30);
    unitAnimationPlay(shopkeeper, animation_19, 1);
    wait(ref_75d);
    li(var_1, 0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_769);
    li(var_5, 0);
    b(label_782);
  label_769:
    bne(var_0, 1, label_76c);
    li(var_5, 1);
    b(label_782);
  label_76c:
    bne(var_0, 2, label_77c);
    choiceSetResult(2);
    op_105(2);
    ref_76f = msgShow(msg_119);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]What’s on your mind?
[choice(3)]Make small talk
Ask about rumors
[if_all(EBIT_SINARIOFF)]Hidden items
[end_choice][clear]
***************************************/
    wait(ref_76f);
    choiceGetResult(var_0);
    bne(var_0, 0, label_775);
    li(var_5, 2);
    b(label_77b);
  label_775:
    bne(var_0, 1, label_778);
    li(var_5, 2000);
    b(label_77b);
  label_778:
    bne(var_0, 2, label_77b);
    li(var_5, 1000);
    b(label_77b);
  label_77b:
    b(label_782);
  label_77c:
    bne(var_0, 3, label_77f);
    li(var_5, 3);
    b(label_782);
  label_77f:
    bne(var_0, 4, label_782);
    li(var_5, 4);
    b(label_782);
  label_782:
    dialogFree(ref_75c);
    unitWait(shopkeeper);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    unitWait(shopkeeper);
    ref_786 = bustupFade(ref_758, rgb(0,0,0), 10);
    bustupWait(ref_786);
    bustupFree(ref_758);
    ref_789 = shopOpen(15);
    wait(ref_789);
}

function HA_SHOP_RESTART_0()
{
    choiceSetResult(3);
    op_105(3);
    ref_78e = bustupLoad(bustup_e5);
    bustupWait(ref_78e);
    ref_790 = bustupAlloc(ref_78e, right, rgb(0,0,0));
    bustupFade(ref_790, rgb(128,0,0), 30);
    ref_792 = dialogAlloc();
    ref_793 = msgShow(msg_120);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Anything else?
[choice(5)]Spread rumors
Check Rumors
Talk with the Chief
Cancel
Leave the detective agency
[end_choice][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_1f, 1);
    wait(ref_793);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    li(var_1, 0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_79c);
    li(var_5, 0);
    b(label_7b5);
  label_79c:
    bne(var_0, 1, label_79f);
    li(var_5, 1);
    b(label_7b5);
  label_79f:
    bne(var_0, 2, label_7af);
    choiceSetResult(2);
    op_105(2);
    ref_7a2 = msgShow(msg_121);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]What’s on your mind?
[choice(3)]Make small talk
Ask about rumors
[if_all(EBIT_SINARIOFF)]Hidden items
[end_choice][clear]
***************************************/
    wait(ref_7a2);
    choiceGetResult(var_0);
    bne(var_0, 0, label_7a8);
    li(var_5, 2);
    b(label_7ae);
  label_7a8:
    bne(var_0, 1, label_7ab);
    li(var_5, 2000);
    b(label_7ae);
  label_7ab:
    bne(var_0, 2, label_7ae);
    li(var_5, 1000);
    b(label_7ae);
  label_7ae:
    b(label_7b5);
  label_7af:
    bne(var_0, 3, label_7b2);
    li(var_5, 3);
    b(label_7b5);
  label_7b2:
    bne(var_0, 4, label_7b5);
    li(var_5, 4);
    b(label_7b5);
  label_7b5:
    dialogFree(ref_792);
    ref_7b6 = bustupFade(ref_790, rgb(0,0,0), 10);
    bustupWait(ref_7b6);
    bustupFree(ref_790);
}

function HA_SHOP_TALK_0()
{
    bitGet(var_0, EBIT_E0046);
    bne(var_0, 0, label_7bd);
    b(label_7cb);
  label_7bd:
    bne(var_0, 1, label_7cb);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_7c8);
    bitGet(var_0, MBIT_KUZU_T_TALK_N);
    bitGet(var_1, MBIT_KUZU_T_TALK_E);
    add(var_0, var_0, var_1);
    bne(var_0, 0, label_7c6);
    b(label_809);
    b(label_7c7);
  label_7c6:
    b(label_7c7);
  label_7c7:
    b(label_7ca);
  label_7c8:
    bne(var_0, 1, label_7ca);
    b(label_7ca);
  label_7ca:
    b(label_7cb);
  label_7cb:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_7fb);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_7ed);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_7df);
    ref_7d1 = bustupLoad(bustup_e5);
    bustupWait(ref_7d1);
    ref_7d3 = bustupAlloc(ref_7d1, right, rgb(0,0,0));
    bustupFade(ref_7d3, rgb(128,0,0), 30);
    ref_7d5 = dialogAlloc();
    ref_7d6 = msgShow(msg_122);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]New World Order... The organization behind
[tab]the incident... Sounds interesting.
[tab]Shall we do some research?
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_7d6);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_7d5);
    ref_7db = bustupFade(ref_7d3, rgb(0,0,0), 10);
    bustupWait(ref_7db);
    bustupFree(ref_7d3);
    b(label_816);
  label_7df:
    ref_7df = bustupLoad(bustup_e5);
    bustupWait(ref_7df);
    ref_7e1 = bustupAlloc(ref_7df, right, rgb(0,0,0));
    bustupFade(ref_7e1, rgb(128,0,0), 30);
    ref_7e3 = dialogAlloc();
    ref_7e4 = msgShow(msg_123);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Are you really going to dispute New World Order...? 
[tab]Hmmm, I’d like to check this out.
[tab]Don’t worry, I won’t forget about you guys.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_7e4);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_7e3);
    ref_7e9 = bustupFade(ref_7e1, rgb(0,0,0), 10);
    bustupWait(ref_7e9);
    bustupFree(ref_7e1);
    b(label_816);
  label_7ed:
    ref_7ed = bustupLoad(bustup_e5);
    bustupWait(ref_7ed);
    ref_7ef = bustupAlloc(ref_7ed, right, rgb(0,0,0));
    bustupFade(ref_7ef, rgb(128,0,0), 30);
    ref_7f1 = dialogAlloc();
    ref_7f2 = msgShow(msg_124);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]You’ll need realism and composure for battle. 
[tab]It is proven stupidity to rely on youth. 
[tab]You’re adults, you get it, right?
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_7f2);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_7f1);
    ref_7f7 = bustupFade(ref_7ef, rgb(0,0,0), 10);
    bustupWait(ref_7f7);
    bustupFree(ref_7ef);
    b(label_816);
  label_7fb:
    ref_7fb = bustupLoad(bustup_e5);
    bustupWait(ref_7fb);
    ref_7fd = bustupAlloc(ref_7fb, right, rgb(0,0,0));
    bustupFade(ref_7fd, rgb(128,0,0), 30);
    ref_7ff = dialogAlloc();
    ref_800 = msgShow(msg_125);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Everyone was scared silly when the dragon
[tab]appeared... Just couldn’t help confess from
[tab]the guilt. Maybe we’re meant to disappear.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_800);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_7ff);
    ref_805 = bustupFade(ref_7fd, rgb(0,0,0), 10);
    bustupWait(ref_805);
    bustupFree(ref_7fd);
    b(label_816);
  label_809:
    ref_809 = bustupLoad(bustup_e5);
    bustupWait(ref_809);
    ref_80b = bustupAlloc(ref_809, right, rgb(0,0,0));
    bustupFade(ref_80b, rgb(128,0,0), 30);
    ref_80d = dialogAlloc();
    ref_80e = msgShow(msg_126);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Tamaki and your friend knew each other,
[tab]huh... What a small world.
[tab]That would never happen to me, though...
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_80e);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_80d);
    ref_813 = bustupFade(ref_80b, rgb(0,0,0), 10);
    bustupWait(ref_813);
    bustupFree(ref_80b);
  label_816:
}

function HA_SHOP_END_0()
{
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bne(var_0, 0, label_81c);
    bitGet(var_0, MBIT_DBATOLU);
    bnz(var_0, label_82d);
    b(label_81e);
  label_81c:
    bne(var_0, 1, label_81e);
    b(label_81e);
  label_81e:
    ref_81e = bustupLoad(bustup_e5);
    bustupWait(ref_81e);
    ref_820 = bustupAlloc(ref_81e, right, rgb(0,0,0));
    bustupFade(ref_820, rgb(128,0,0), 30);
    ref_822 = dialogAlloc();
    ref_823 = msgShow(msg_127);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]We can only help you manipulate rumors.
[tab]The rest is up to you.
[tab]Then... see you later.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_823);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    shopOverlayInit();
    dialogFree(ref_822);
    ref_829 = bustupFade(ref_820, rgb(0,0,0), 10);
    bustupWait(ref_829);
    bustupFree(ref_820);
    b(label_83c);
  label_82d:
    ref_82d = bustupLoad(bustup_e5);
    bustupWait(ref_82d);
    ref_82f = bustupAlloc(ref_82d, right, rgb(0,0,0));
    bustupFade(ref_82f, rgb(128,0,0), 30);
    ref_831 = dialogAlloc();
    ref_832 = msgShow(msg_128);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]The sweepstakes... I see.
[tab]You should ask Tamaki about that.
[tab]Discuss it with her.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_24, 1);
    wait(ref_832);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    shopOverlayInit();
    dialogFree(ref_831);
    ref_838 = bustupFade(ref_82f, rgb(0,0,0), 10);
    bustupWait(ref_838);
    bustupFree(ref_82f);
    bitSet(MBIT_KUZU_KENSHOU);
  label_83c:
    bitSet(MBIT_KUZU_HATURAITEN);
    bitGet(var_0, MBIT_EXITBIT);
    bne(var_0, 0, label_842);
    unitRestoreFacing(shopkeeper);
    controlEnable();
    b(label_845);
  label_842:
    bne(var_0, 1, label_845);
    call(GOOUT);
    b(label_845);
  label_845:
}

function BIGNEKO()
{
    controlDisable();
    bitGet(var_0, MBIT_SH_S_15);
    bne(var_0, 0, label_84a);
    b(label_857);
  label_84a:
    bne(var_0, 1, label_857);
    bitGet(var_0, MBIT_SH_H_15);
    bne(var_0, 0, label_854);
    bitGet(var_0, MBIT_NEKOMATA_GET);
    bne(var_0, 0, label_851);
    b(label_858);
    b(label_853);
  label_851:
    bne(var_0, 1, label_853);
    b(label_853);
  label_853:
    b(label_856);
  label_854:
    bne(var_0, 1, label_856);
    b(label_856);
  label_856:
    b(label_857);
  label_857:
    b(label_8a4);
  label_858:
    add(var_a, var_a, 1);
    boutrange(var_a, 0, 1, label_85c);
    b(label_860);
    b(label_860);
  label_85c:
    bne(var_a, 2, label_860);
    sub(var_a, var_a, 2);
    b(label_866);
    b(label_860);
  label_860:
    ref_860 = dialogAlloc();
    ref_861 = msgShow(msg_129);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Adults insert ¥1000, meow♥
[tab]Hey, what are you waiting for, meow♥
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d4, 127);
    wait(ref_861);
    dialogFree(ref_860);
    b(label_8b8);
  label_866:
    ref_866 = dialogAlloc();
    ref_867 = msgShow(msg_130);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Meow, meow...
[tab][delay(15)]...[delay(15)]...[delay(15)]...[delay(15)]Meow, [delay(15)]Meow♥
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d4, 127);
    wait(ref_867);
    dialogFree(ref_866);
    choiceSetResult(2);
    op_105(2);
    ref_86d = bustupLoad(bustup_1);
    bustupWait(ref_86d);
    ref_86f = bustupAlloc(ref_86d, center, rgb(0,0,0));
    bustupFade(ref_86f, rgb(128,0,0), 30);
    ref_871 = dialogChoiceAlloc();
    ref_872 = msgShow(msg_131);
/***************************************
[tab].....Meow, meow♥
[choice(3)]Guess her name
Talk
Nothing
[end_choice][clear]
***************************************/
    ref_873 = textInputInit();
    wait(ref_872);
    dialogFree(ref_871);
    ref_876 = bustupFade(ref_86f, rgb(0,0,0), 10);
    bustupWait(ref_876);
    bustupFree(ref_86f);
    wait(ref_873);
    choiceGetResult(var_0);
    bne(var_0, 0, label_87e);
    b(label_885);
    b(label_885);
  label_87e:
    bne(var_0, 1, label_881);
    b(label_8a4);
    b(label_885);
  label_881:
    bne(var_0, 2, label_885);
    controlEnable();
    b(label_9d2);
    b(label_885);
  label_885:
    ref_885 = textInputPrompt();
    wait(ref_885);
    textInputCompare(msg_132, var_0);
    bne(var_0, 0, label_891);
    ref_889 = dialogAlloc();
    ref_88a = msgShow(msg_133);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Meow... meow... meow♥
[tab]I-I’m just a decoration, meow♥
[tab]...Don’t call me names, meow!!
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d4, 127);
    wait(ref_88a);
    dialogFree(ref_889);
    controlEnable();
    b(label_9d2);
    b(label_8a4);
  label_891:
    bne(var_0, 1, label_8a4);
    ref_892 = cameraRotateTo(2, 30);
    wait(ref_892);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFace(maya, west);
    ref_897 = dialogAlloc();
    ref_898 = msgShow(msg_134);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]So you found me, meow...
[tab]F-Finally, the day has come, meow...
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d7, 127);
    unitAnimationHold(maya, animation_22, -1);
    wait(ref_898);
    ref_89c = msgShow(msg_135);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]I’ll reveal my true self to you.
[tab]But, keep this a secret from Tamaki-chan!
[tab]Now...[delay(15)] come here, meow!
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d8, 127);
    wait(ref_89c);
    dialogFree(ref_897);
    bitSet(MBIT_NEKOMATA_GET);
    bitSet(MBIT_SH_HH);
    b(label_927);
    b(label_8a4);
  label_8a4:
    bitGet(var_0, MBIT_KUZU_HATUBIGNEKO);
    bne(var_0, 0, label_8b1);
    countGet(var_0, nekomata);
    bez(var_0, label_8b3);
    div(var_0, var_0, 10);
    countSet(nekomata, var_0);
    ref_8aa = dialogAlloc();
    ref_8ab = msgShow(msg_136);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Long time no see, meow♥
[tab]Adults insert ¥1000, meow♥
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d4, 127);
    wait(ref_8ab);
    dialogFree(ref_8aa);
    b(label_8b8);
    b(label_8b3);
  label_8b1:
    bne(var_0, 1, label_8b3);
    b(label_8b3);
  label_8b3:
    ref_8b3 = dialogAlloc();
    ref_8b4 = msgShow(msg_137);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Adults insert ¥1000, meow♥
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d4, 127);
    wait(ref_8b4);
    dialogFree(ref_8b3);
  label_8b8:
    bitSet(MBIT_KUZU_HATUBIGNEKO);
    shopCurrencyType(8, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    choiceSetResult(1);
    op_105(1);
    ref_8bd = bustupLoad(bustup_1);
    bustupWait(ref_8bd);
    ref_8bf = bustupAlloc(ref_8bd, center, rgb(0,0,0));
    bustupFade(ref_8bf, rgb(128,0,0), 30);
    ref_8c1 = dialogChoiceAlloc();
    ref_8c2 = msgShow(msg_138);
/***************************************
[tab]Please insert ¥1000, meow♥
[choice(2)]Insert
Don’t insert
[end_choice][clear]
***************************************/
    wait(ref_8c2);
    dialogFree(ref_8c1);
    ref_8c5 = bustupFade(ref_8bf, rgb(0,0,0), 10);
    bustupWait(ref_8c5);
    bustupFree(ref_8bf);
    choiceGetResult(var_7);
    bne(var_7, 0, label_8f8);
    partyMoneyGet(var_6);
    boutrange(var_6, 0, 999, label_8d3);
    ref_8cc = dialogAlloc();
    ref_8cd = msgShow(msg_139);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]You don’t have any money, meow♥
[tab]Lying is the root of evil, meow♥
[tab]You’re days late and dollars short♥
[wait][clear]
***************************************/
    wait(ref_8cd);
    dialogFree(ref_8cc);
    shopCurrencyDisplay(-110, 150, true);
    controlEnable();
    b(label_8f7);
  label_8d3:
    sndMusicPlay(sound_30d5, 127);
    partyMoneyAdd(-1000);
    delayClear();
    delayWait(60);
    shopCurrencyDisplay(-110, 150, true);
    countGet(var_0, nekomata);
    add(var_0, var_0, 1);
    countSet(nekomata, var_0);
    bne(var_0, 20, label_8e1);
    ref_8dc = dialogAlloc();
    ref_8dd = msgShow(msg_140);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]I’m impressed, meow♥[delay(15)]
[tab]Received ¥1000 20 times already, meow![delay(15)]
[tab]I’ll expect more from now on, meow♥
[wait][clear]
***************************************/
    wait(ref_8dd);
    dialogFree(ref_8dc);
    b(label_8f5);
  label_8e1:
    bne(var_0, 50, label_8e7);
    ref_8e2 = dialogAlloc();
    ref_8e3 = msgShow(msg_141);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Meow meow meow♥[delay(15)]
[tab]Received ¥1000 50 times already, meow![delay(15)]
[tab]How generous, onee-san! Meow♥
[wait][clear]
***************************************/
    wait(ref_8e3);
    dialogFree(ref_8e2);
    b(label_8f5);
  label_8e7:
    bne(var_0, 80, label_8ed);
    ref_8e8 = dialogAlloc();
    ref_8e9 = msgShow(msg_142);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Wonderful! Great! Meowww.[delay(15)]
[tab]Received ¥1000 80 times already, meow♥[delay(15)]
[tab]Are you scheming something, meow?
[wait][clear]
***************************************/
    wait(ref_8e9);
    dialogFree(ref_8e8);
    b(label_8f5);
  label_8ed:
    bne(var_0, 100, label_8f0);
    b(label_902);
    b(label_8f5);
  label_8f0:
    ref_8f0 = dialogAlloc();
    ref_8f1 = msgShow(msg_143);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Thank you, meow♥
[wait][clear]
***************************************/
    wait(ref_8f1);
    dialogFree(ref_8f0);
    b(label_8f5);
  label_8f5:
    controlEnable();
    b(label_8f7);
  label_8f7:
    b(label_901);
  label_8f8:
    bne(var_7, 1, label_901);
    sndMusicPlay(sound_30d6, 127);
    ref_8fa = dialogAlloc();
    ref_8fb = msgShow(msg_144);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]...[delay(15)]Cheaps-cat.
[wait][clear]
***************************************/
    wait(ref_8fb);
    dialogFree(ref_8fa);
    shopCurrencyDisplay(-110, 150, true);
    controlEnable();
    b(label_901);
  label_901:
    b(label_9d2);
  label_902:
    ref_902 = cameraRotateTo(2, 30);
    wait(ref_902);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFace(maya, west);
    ref_907 = dialogAlloc();
    ref_908 = msgShow(msg_145);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Finally the time has come, meow...[delay(15)]
[tab]The commemorative 100th time...[delay(15)]
[tab]I’ve saved up ¥100000, meow!
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d7, 127);
    unitAnimationHold(maya, animation_22, -1);
    wait(ref_908);
    ref_90c = msgShow(msg_146);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]I feel guilty from receiving your
[tab]contributions for nothing, meow.[delay(30)]
[tab]So... [delay(15)]come over here, meow!
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d8, 127);
    wait(ref_90c);
    dialogFree(ref_907);
    bitGet(var_0, MBIT_NEKO_SAGASI);
    bne(var_0, 0, label_913);
    b(label_927);
  label_913:
    bne(var_0, 1, label_927);
    bitGet(var_0, MBIT_SH_S_15);
    bne(var_0, 0, label_918);
    bitSet(MBIT_SH_H_15);
    b(label_926);
  label_918:
    bne(var_0, 1, label_926);
    bitGet(var_0, MBIT_SH_H_15);
    bne(var_0, 0, label_923);
    bitGet(var_0, MBIT_NEKOMATA_GET);
    bne(var_0, 0, label_920);
    bitSet(MBIT_NEKOMATA_GET);
    bitSet(MBIT_SH_HH);
    b(label_922);
  label_920:
    bne(var_0, 1, label_922);
    b(label_922);
  label_922:
    b(label_925);
  label_923:
    bne(var_0, 1, label_925);
    b(label_925);
  label_925:
    b(label_926);
  label_926:
    b(label_927);
  label_927:
    unitAnimationPlay(maya, animation_0, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    unitAnimationPlay(maya, animation_12, 1);
    unitWait(maya);
    unitWait(maya);
    delayClear();
    delayWait(15);
    unitMove(maya, 640, -1160, face_south, fast);
    ref_931 = cameraRotateTo(3, 60);
    cameraFollow(maya);
    wait(ref_931);
    unitWait(maya);
    unitAnimationPlay(maya, animation_28, 2);
    wait(ref_931);
    delayClear();
    delayWait(30);
    ref_939 = dialogAlloc();
    ref_93a = msgShow(msg_147);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Over here, over here, meow♥
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d8, 127);
    wait(ref_93a);
    dialogFree(ref_939);
    unitAnimationPlay(maya, animation_0, 1);
    unitWait(maya);
    delayClear();
    delayWait(15);
    ref_942 = cameraRotateTo(1, 60);
    unitMove(maya, 640, -630, face_south, fast);
    cameraFollow(maya);
    partyMemberCheck(var_0, katsuya);
    bez(var_0, label_948);
    unitMove(katsuya, 515, -740, face_south, medium);
  label_948:
    wait(ref_942);
    unitWait(maya);
    unitMove(maya, 760, -380, face_south, fast);
    cameraFollow(maya);
    wait(ref_942);
    unitWait(maya);
    unitAnimationPlay(maya, animation_28, 2);
    delayClear();
    delayWait(30);
    ref_951 = dialogAlloc();
    ref_952 = msgShow(msg_148);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]Don’t you understand, meow?
[tab]Over here, over here, meow!!
[wait][clear]
***************************************/
    sndMusicPlay(sound_30d8, 127);
    wait(ref_952);
    dialogFree(ref_951);
    unitAnimationPlay(maya, animation_0, 1);
    unitWait(maya);
    delayClear();
    delayWait(15);
    ref_95a = cameraRotateTo(7, 60);
    unitMove(maya, 760, -150, face_east, fast);
    cameraFollow(maya);
    wait(ref_95a);
    ref_95e = cameraRotateTo(5, 60);
    unitWait(maya);
    wait(ref_95e);
    unitMove(maya, 455, -150, face_east, fast);
    cameraFollow(maya);
    wait(ref_95e);
    unitWait(maya);
    delayClear();
    delayWait(30);
    sndMusicPlay(sound_30db, 127);
    sndVolumeFadeOff(sound_3005, 120);
    objAnimRotate(obj_6, 0, 110, 0, 30, 0);
    objAnimWait(obj_6);
    objVisible(obj_1b, false);
    unitMove(maya, 300, -150, face_east, fast);
    cameraFollow(maya);
    delayClear();
    delayWait(30);
    ref_970 = cameraRotateTo(3, 90);
    sndMusicPlay(sound_30de, 127);
    wait(ref_970);
    unitSpawn(unit_58, sprite_a9, 760, 0, -470, north, none);
    unitMove(unit_58, 760, -150, face_east, fast);
    unitWait(unit_58);
    unitWait(maya);
    unitMove(unit_58, 370, -150, face_east, fast);
    delayClear();
    delayWait(15);
    ref_97a = dialogAlloc();
    ref_97b = msgShow(msg_149);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Nice to meet you... [delay(30)]Meow meow!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_8, 1);
    delayClear();
    delayWait(30);
    unitFace(maya, west);
    wait(ref_97b);
    unitAnimationPlay(npc1, animation_1c, 1);
    dialogFree(ref_97a);
    unitWait(unit_58);
    unitMove(unit_58, 330, -150, face_east, fast);
    unitMove(maya, 300, -250, face_south, fast);
    unitWait(unit_58);
    unitWait(maya);
    delayClear();
    delayWait(10);
    unitFaceUnit(unit_58, npc1);
    ref_98b = bustupLoad(bustup_e6);
    bustupWait(ref_98b);
    ref_98d = bustupAlloc(ref_98b, right, rgb(0,0,0));
    bustupFade(ref_98d, rgb(128,0,0), 30);
    ref_98f = dialogAlloc();
    ref_990 = msgShow(msg_150);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Hey! What are you doing!?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_26, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(npc1, animation_1d, 1);
    wait(ref_990);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_98f);
    ref_998 = bustupFade(ref_98d, rgb(0,0,0), 10);
    bustupWait(ref_998);
    bustupFree(ref_98d);
    delayClear();
    delayWait(10);
    ref_99d = dialogAlloc();
    ref_99e = msgShow(msg_151);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]Ta, [delay(30)]Tamaki-chan!!
[tab]S... Sorry, meow.
[tab]I was so bored... I...
[wait][clear]
***************************************/
    wait(ref_99e);
    dialogFree(ref_99d);
    delayClear();
    delayWait(10);
    ref_9a3 = bustupLoad(bustup_e6);
    bustupWait(ref_9a3);
    ref_9a5 = bustupAlloc(ref_9a3, right, rgb(0,0,0));
    bustupFade(ref_9a5, rgb(128,0,0), 30);
    unitFace(unit_58, north);
    ref_9a8 = dialogAlloc();
    ref_9a9 = msgShow(msg_152);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]I’m sorry, Maya-san.
[tab]She just likes playing tricks on people.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(npc1, animation_0, 1);
    wait(ref_9a9);
    unitFace(unit_58, east);
    ref_9b0 = msgShow(msg_153);
/***************************************
[color(yellow)]Tamaki[color(white)]
[tab]Geez!!
[tab]Apologize to Maya-san too!
[tab]...My gosh!
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_26, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(npc1, animation_1d, 1);
    wait(ref_9b0);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_9a8);
    ref_9b8 = bustupFade(ref_9a5, rgb(0,0,0), 10);
    bustupWait(ref_9b8);
    bustupFree(ref_9a5);
    unitAnimationPlay(unit_58, animation_a, 1);
    unitWait(unit_58);
    unitFace(unit_58, west);
    unitMove(unit_58, 760, -150, face_north, fast);
    delayClear();
    delayWait(30);
    unitMove(maya, 300, -150, face_east, fast);
    unitWait(maya);
    unitAnimationPlay(npc1, animation_0, 1);
    unitWait(unit_58);
    unitMove(unit_58, 760, -470, face_north, fast);
    ref_9c6 = dialogAlloc();
    ref_9c7 = msgShow(msg_154);
/***************************************
[color(yellow)]Demon Rumormonger Nekomata[color(white)]
[tab]S-So-wee... As a token of
[tab]apology, I’ll tell you my most
[tab]treasured rumor, meow!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_1a, 1);
    wait(ref_9c7);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_9c6);
    unitWait(unit_58);
    unitSpawn(unit_58, sprite_a9, 510, 0, -1220, south, none);
    partyMemberCheck(var_0, katsuya);
    bez(var_0, label_9d1);
    unitSpawn(katsuya, sprite_d, 650, 30, -740, north, none);
  label_9d1:
    call(MAN1);
  label_9d2:
}

function OKUNOHEYA()
{
    bitGet(var_0, MBIT_KUZU_HATUNEKO);
    bne(var_0, 0, label_9dd);
    controlDisable();
    ref_9d6 = dialogAlloc();
    ref_9d7 = msgShow(msg_155);
/***************************************
[color(yellow)]Lucky Cat[color(white)]
[tab]That probably won’t open, meow.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_9d7);
    dialogFree(ref_9d6);
    controlEnable();
    b(label_9e0);
  label_9dd:
    bne(var_0, 1, label_9e0);
    call(MAN1);
    b(label_9e0);
  label_9e0:
}

function MESTEST1()
{
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bnz(var_0, label_9e9);
    bitSet(MBIT_HI_NANJOTOUJO);
    ref_9e4 = dialogAlloc();
    ref_9e5 = msgShow(msg_156);
/***************************************
MBIT[tab]HI[tab]NANJOTOUJO
南条出現噂:広げた
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_9e5);
    dialogFree(ref_9e4);
    b(label_a21);
  label_9e9:
    bitGet(var_0, MBIT_KUZU_KENSHOU);
    bnz(var_0, label_9f1);
    bitSet(MBIT_KUZU_KENSHOU);
    ref_9ec = dialogAlloc();
    ref_9ed = msgShow(msg_157);
/***************************************
懸賞の噂依頼
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_9ed);
    dialogFree(ref_9ec);
    b(label_a21);
  label_9f1:
    bitGet(var_0, LBIT_0010);
    bnz(var_0, label_9fd);
    bitSet(LBIT_0010);
    bitSet(MBIT_DMAGICK);
    li(var_b, 99);
    li(var_c, 0);
    li(var_d, 99);
    ref_9f8 = dialogAlloc();
    ref_9f9 = msgShow(msg_158);
/***************************************
懸賞本[tab]99・0・99
[wait][clear]
***************************************/
    wait(ref_9f9);
    dialogFree(ref_9f8);
    b(label_a21);
  label_9fd:
    bitGet(var_0, LBIT_0011);
    bnz(var_0, label_a09);
    bitSet(LBIT_0011);
    bitSet(MBIT_DPELPEL);
    li(var_b, 1);
    li(var_c, 50);
    li(var_d, 0);
    ref_a04 = dialogAlloc();
    ref_a05 = msgShow(msg_159);
/***************************************
懸賞本[tab]1・50・0
ミラクル応募可
[wait][clear]
***************************************/
    wait(ref_a05);
    dialogFree(ref_a04);
    b(label_a21);
  label_a09:
    bitGet(var_0, LBIT_0012);
    bnz(var_0, label_a14);
    bitSet(LBIT_0012);
    countGet(var_0, nekomata);
    add(var_0, var_0, 49);
    countSet(nekomata, var_0);
    ref_a0f = dialogAlloc();
    ref_a10 = msgShow(msg_160);
/***************************************
ネコカウント49増加
[wait][clear]
***************************************/
    wait(ref_a10);
    dialogFree(ref_a0f);
    b(label_a21);
  label_a14:
    bitClear(LBIT_0010);
    bitClear(LBIT_0011);
    bitClear(LBIT_0012);
    bitGet(var_0, LBIT_0013);
    bnz(var_0, label_a21);
    bitSet(LBIT_0013);
    countGet(var_0, nekomata);
    add(var_0, var_0, 49);
    countSet(nekomata, var_0);
    ref_a1d = dialogAlloc();
    ref_a1e = msgShow(msg_161);
/***************************************
ネコカウント
さらに49増加
[wait][clear]
***************************************/
    wait(ref_a1e);
    dialogFree(ref_a1d);
  label_a21:
}

function MESTEST()
{
    bitGet(var_0, MBIT_AIS_19);
    bnz(var_0, label_a2a);
    bitSet(MBIT_AIS_19);
    ref_a25 = dialogAlloc();
    ref_a26 = msgShow(msg_162);
/***************************************
MBIT[tab]AIS[tab]19
相性占いの
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a26);
    dialogFree(ref_a25);
    b(label_a79);
  label_a2a:
    bitGet(var_0, MBIT_AIS_25);
    bnz(var_0, label_a32);
    bitSet(MBIT_AIS_25);
    ref_a2d = dialogAlloc();
    ref_a2e = msgShow(msg_163);
/***************************************
MBIT[tab]AIS[tab]25
相性占いの
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a2e);
    dialogFree(ref_a2d);
    b(label_a79);
  label_a32:
    bitGet(var_0, EBIT_E006F);
    bnz(var_0, label_a3a);
    bitSet(EBIT_E006F);
    ref_a35 = dialogAlloc();
    ref_a36 = msgShow(msg_164);
/***************************************
EBIT[tab]E006F
「研究施設・TV局クリア」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a36);
    dialogFree(ref_a35);
    b(label_a79);
  label_a3a:
    bitGet(var_0, EBIT_E0077);
    bnz(var_0, label_a42);
    bitSet(EBIT_E0077);
    ref_a3d = dialogAlloc();
    ref_a3e = msgShow(msg_165);
/***************************************
EBIT[tab]E0077
「スマイル平坂クリア・Katsuya離脱」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a3e);
    dialogFree(ref_a3d);
    b(label_a79);
  label_a42:
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_a4a);
    bitSet(EBIT_E007A);
    ref_a45 = dialogAlloc();
    ref_a46 = msgShow(msg_166);
/***************************************
EBIT[tab]E007A
「野音クリア・Katsuya編入」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a46);
    dialogFree(ref_a45);
    b(label_a79);
  label_a4a:
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_a52);
    bitSet(EBIT_E007B);
    ref_a4d = dialogAlloc();
    ref_a4e = msgShow(msg_167);
/***************************************
EBIT[tab]E007B
「竜蔵と殺し屋の電話を盗聴」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a4e);
    dialogFree(ref_a4d);
    b(label_a79);
  label_a52:
    bitGet(var_0, EBIT_E007F);
    bnz(var_0, label_a5a);
    bitSet(EBIT_E007F);
    ref_a55 = dialogAlloc();
    ref_a56 = msgShow(msg_168);
/***************************************
EBIT[tab]E007F
「廃工場クリア・Baofu編入」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a56);
    dialogFree(ref_a55);
    b(label_a79);
  label_a5a:
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_a62);
    bitSet(EBIT_E008C);
    ref_a5d = dialogAlloc();
    ref_a5e = msgShow(msg_169);
/***************************************
EBIT[tab]E008C
「海底遺跡クリア」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a5e);
    dialogFree(ref_a5d);
    b(label_a79);
  label_a62:
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_a6a);
    bitSet(EBIT_E009F);
    ref_a65 = dialogAlloc();
    ref_a66 = msgShow(msg_170);
/***************************************
EBIT[tab]E009F
「岩戸山クリア・南条かエリー離脱・達哉編入」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a66);
    dialogFree(ref_a65);
    b(label_a79);
  label_a6a:
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_a72);
    bitSet(EBIT_E00AF);
    ref_a6d = dialogAlloc();
    ref_a6e = msgShow(msg_171);
/***************************************
EBIT[tab]E00AF
「アメノトリフネクリア」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a6e);
    dialogFree(ref_a6d);
    b(label_a79);
  label_a72:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_a79);
    bitSet(EBIT_E00B8);
    ref_a75 = dialogAlloc();
    ref_a76 = msgShow(msg_172);
/***************************************
EBIT[tab]E00B8
「珠「瑠城クリア」
びっとお~んッ!!
[wait][clear]
***************************************/
    wait(ref_a76);
    dialogFree(ref_a75);
  label_a79:
}

function DOORBOX()
{
    controlDisable();
    sndMusicPlay(sound_30d9, 127);
    objAnimRotate(obj_5b, 0, 70, 0, 30, 0);
    objAnimRotate(obj_5a, 0, -70, 0, 30, 0);
    objAnimWait(obj_5b);
    objAnimWait(obj_5a);
    call(GOOUT);
}

function GOOUT()
{
    bitGet(var_0, EBIT_E00AF);
    bne(var_0, 0, label_a85);
    b(label_a8d);
  label_a85:
    bne(var_0, 1, label_a8d);
    bitGet(var_0, MBIT_KE_SKYMAP);
    bne(var_0, 0, label_a89);
    b(label_a8c);
  label_a89:
    bne(var_0, 1, label_a8c);
    bitSet(TBIT_KARI014);
    b(label_a8c);
  label_a8c:
    b(label_a8d);
  label_a8d:
    bitGet(var_0, LBIT_0014);
    bez(var_0, label_a90);
    bitSet(MBIT_KUZU_T_TALK_N);
  label_a90:
    bitGet(var_0, LBIT_0015);
    bez(var_0, label_a93);
    bitSet(MBIT_KUZU_T_TALK_E);
  label_a93:
    bitClear(MBIT_EXITBIT);
    mapLoad(rengedai, 0, 0);
}

function warp1()
{
    call(DOORBOX);
}

function HA_SHOP_EXPLAIN_0()
{
    ref_a98 = dialogAlloc();
    ref_a99 = msgShow(msg_173);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]Want the lowdown on rumors?
[wait][clear][color(yellow)]Chief Todoroki[color(white)]
[tab]Ask me to spread a rumor of your choice and
[tab]I’ll do it. Not for free, mind you.
[wait][clear][color(yellow)]Chief Todoroki[color(white)]
[tab]You’ll need to bring me rumors you hear from
[tab]rumormongers.
[wait][clear][color(yellow)]Chief Todoroki[color(white)]
[tab]There are rumormongers everywhere in Sumaru.
[tab]Dig a little and you’ll find them.
[wait][clear][color(yellow)]Chief Todoroki[color(white)]
[tab]You can remind yourself which rumors are
[tab]already circulating by asking me to Check
[tab]rumors.
[wait][clear][color(yellow)]Chief Todoroki[color(white)]
[tab]Not only can you remember which rumors I’ve
[tab]been putting out there for you, you can see
[tab]which ones demons are spreading.
[wait][clear]
***************************************/
    wait(ref_a99);
    dialogFree(ref_a98);
}

function HONDANA()
{
    bitGet(var_0, EBIT_E0038);
    bne(var_0, 0, label_aa6);
    controlDisable();
    ref_aa0 = dialogAlloc();
    ref_aa1 = msgShow(msg_174);
/***************************************
[color(yellow)]Bookshelf[color(white)]
[tab][color(green)]A sliding bookshelf.
[tab]It looks like it can move...[color(white)]
[wait][clear]
***************************************/
    wait(ref_aa1);
    dialogFree(ref_aa0);
    controlEnable();
    b(label_ac4);
  label_aa6:
    bne(var_0, 1, label_ac4);
    bitGet(var_0, MBIT_KUZUNOHA_MAG);
    bne(var_0, 0, label_abb);
    bitGet(var_0, LBIT_0010);
    bne(var_0, 0, label_ab2);
    controlDisable();
    sndMusicPlay(sound_30dd, 127);
    objAnimTranslate(obj_11, 0, 0, 90, 30);
    objAnimWait(obj_11);
    bitSet(LBIT_0010);
    controlEnable();
    b(label_aba);
  label_ab2:
    bne(var_0, 1, label_aba);
    controlDisable();
    ref_ab4 = dialogAlloc();
    ref_ab5 = msgShow(msg_175);
/***************************************
[color(yellow)]Bookshelf[color(white)]
[tab][color(green)]A sliding shelf, but it doesn’t seem to move.[color(white)]
[wait][clear]
***************************************/
    wait(ref_ab5);
    dialogFree(ref_ab4);
    controlEnable();
    b(label_aba);
  label_aba:
    b(label_ac3);
  label_abb:
    bne(var_0, 1, label_ac3);
    controlDisable();
    ref_abd = dialogAlloc();
    ref_abe = msgShow(msg_176);
/***************************************
[color(yellow)]Bookshelf[color(white)]
[tab][color(green)]A sliding shelf, but it doesn’t seem to move.[color(white)]
[wait][clear]
***************************************/
    wait(ref_abe);
    dialogFree(ref_abd);
    controlEnable();
    b(label_ac3);
  label_ac3:
    b(label_ac4);
  label_ac4:
}

function MAGAZIN()
{
    bitGet(var_0, EBIT_E0038);
    bne(var_0, 0, label_ac8);
    b(label_ad8);
  label_ac8:
    bne(var_0, 1, label_ad8);
    bitGet(var_0, MBIT_KUZUNOHA_MAG);
    bne(var_0, 0, label_ad5);
    controlDisable();
    msgVarSet(msgvar_1, 87);
    ref_acd = dialogAlloc();
    ref_ace = msgShow(msg_177);
/***************************************
[color(yellow)]Bookshelf[color(white)]
[tab][color(green)]Maya got [item_with_type(item_fffe)].[color(white)]
[wait][clear]
***************************************/
    wait(ref_ace);
    dialogFree(ref_acd);
    partyItemAdd(sumaru_magazine, 1);
    bitSet(MBIT_KUZUNOHA_MAG);
    controlEnable();
    b(label_ad7);
  label_ad5:
    bne(var_0, 1, label_ad7);
    b(label_ad7);
  label_ad7:
    b(label_ad8);
  label_ad8:
}

function UWASABIT()
{
    bitGet(var_0, MBIT_zody_2F);
    bne(var_0, 0, label_adc);
    b(label_ae9);
  label_adc:
    bne(var_0, 1, label_ae9);
    bitGet(var_0, MBIT_KI_ZODI2F);
    bne(var_0, 0, label_ae0);
    b(label_ae8);
  label_ae0:
    bne(var_0, 1, label_ae8);
    bitGet(var_0, MBIT_KE_ZODI2F);
    bne(var_0, 0, label_ae5);
    bitClear(MBIT_KI_ZODI2F);
    b(label_ae7);
  label_ae5:
    bne(var_0, 1, label_ae7);
    b(label_ae7);
  label_ae7:
    b(label_ae8);
  label_ae8:
    b(label_ae9);
  label_ae9:
    bitGet(var_0, EBIT_E007A);
    bne(var_0, 0, label_aec);
    b(label_af9);
  label_aec:
    bne(var_0, 1, label_af9);
    bitGet(var_0, MBIT_KE_HANAKOTOBA);
    bne(var_0, 0, label_af6);
    bitGet(var_0, MBIT_KI_HANAKOTOBA);
    bne(var_0, 0, label_af2);
    b(label_af5);
  label_af2:
    bne(var_0, 1, label_af5);
    bitClear(MBIT_KI_HANAKOTOBA);
    b(label_af5);
  label_af5:
    b(label_af8);
  label_af6:
    bne(var_0, 1, label_af8);
    b(label_af8);
  label_af8:
    b(label_af9);
  label_af9:
    bitGet(var_0, EBIT_E0088);
    bne(var_0, 0, label_afc);
    b(label_b0d);
  label_afc:
    bne(var_0, 1, label_b0d);
    bitGet(var_0, MBIT_KE_DEVIL6);
    bitGet(var_1, MBIT_KE_DEVIL7);
    add(var_0, var_0, var_1);
    bne(var_0, 0, label_b0b);
    bitGet(var_0, MBIT_KI_DEVIL6);
    bitGet(var_1, MBIT_KI_DEVIL7);
    add(var_0, var_0, var_1);
    bne(var_0, 0, label_b06);
    b(label_b0a);
  label_b06:
    bne(var_0, 1, label_b0a);
    bitClear(MBIT_KI_DEVIL6);
    bitClear(MBIT_KI_DEVIL7);
    b(label_b0a);
  label_b0a:
    b(label_b0c);
  label_b0b:
    b(label_b0c);
  label_b0c:
    b(label_b0d);
  label_b0d:
    bitGet(var_0, EBIT_E006F);
    bne(var_0, 0, label_b10);
    b(label_b1d);
  label_b10:
    bne(var_0, 1, label_b1d);
    bitGet(var_0, MBIT_KE_DEVIL3);
    bne(var_0, 0, label_b1a);
    bitGet(var_0, MBIT_KI_DEVIL3);
    bne(var_0, 0, label_b16);
    b(label_b19);
  label_b16:
    bne(var_0, 1, label_b19);
    bitClear(MBIT_KI_DEVIL3);
    b(label_b19);
  label_b19:
    b(label_b1c);
  label_b1a:
    bne(var_0, 1, label_b1c);
    b(label_b1c);
  label_b1c:
    b(label_b1d);
  label_b1d:
    bitGet(var_0, EBIT_E004E);
    bne(var_0, 0, label_b20);
    b(label_b2d);
  label_b20:
    bne(var_0, 1, label_b2d);
    bitGet(var_0, MBIT_KE_DEVIL2);
    bne(var_0, 0, label_b2a);
    bitGet(var_0, MBIT_KI_DEVIL2);
    bne(var_0, 0, label_b26);
    b(label_b29);
  label_b26:
    bne(var_0, 1, label_b29);
    bitClear(MBIT_KI_DEVIL2);
    b(label_b29);
  label_b29:
    b(label_b2c);
  label_b2a:
    bne(var_0, 1, label_b2c);
    b(label_b2c);
  label_b2c:
    b(label_b2d);
  label_b2d:
}

function DECIDE_ROHA()
{
    choiceSetResult(1);
    op_105(1);
    msgVar_Number(msgvar_0, var_6);
    unitFacePlayer(shopkeeper);
    ref_b32 = bustupLoad(bustup_e5);
    bustupWait(ref_b32);
    ref_b34 = bustupAlloc(ref_b32, left, rgb(0,0,0));
    bustupFade(ref_b34, rgb(128,0,0), 30);
    ref_b36 = dialogAlloc();
    ref_b37 = msgShow(msg_178);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]I need ¥[var(msg_var_0)] to spread this rumor.
[tab]Do you want me to do it?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_b37);
    choiceGetResult(var_7);
    bne(var_7, 0, label_b3d);
    li(var_7, 1);
    b(label_b40);
  label_b3d:
    bne(var_7, 1, label_b40);
    li(var_7, 0);
    b(label_b40);
  label_b40:
    wait(ref_b37);
    dialogFree(ref_b36);
    ref_b42 = bustupFade(ref_b34, rgb(0,0,0), 10);
    bustupWait(ref_b42);
    bustupFree(ref_b34);
}

function DECIDE()
{
    choiceSetResult(1);
    op_105(1);
    msgVar_Number(msgvar_0, var_6);
    unitFacePlayer(shopkeeper);
    ref_b4a = bustupLoad(bustup_e5);
    bustupWait(ref_b4a);
    ref_b4c = bustupAlloc(ref_b4a, left, rgb(0,0,0));
    bustupFade(ref_b4c, rgb(128,0,0), 30);
    ref_b4e = dialogAlloc();
    ref_b4f = msgShow(msg_179);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]I need ¥[var(msg_var_0)] to spread this rumor.
[tab]Do you want me to do it?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_b4f);
    choiceGetResult(var_7);
    bne(var_7, 0, label_b55);
    li(var_7, 1);
    b(label_b58);
  label_b55:
    bne(var_7, 1, label_b58);
    li(var_7, 0);
    b(label_b58);
  label_b58:
    wait(ref_b4f);
    dialogFree(ref_b4e);
    ref_b5a = bustupFade(ref_b4c, rgb(0,0,0), 10);
    bustupWait(ref_b5a);
    bustupFree(ref_b4c);
}

function DECIDE_2()
{
    choiceSetResult(1);
    op_105(1);
    msgVar_Number(msgvar_0, var_6);
    unitFacePlayer(shopkeeper);
    ref_b62 = bustupLoad(bustup_e5);
    bustupWait(ref_b62);
    ref_b64 = bustupAlloc(ref_b62, left, rgb(0,0,0));
    bustupFade(ref_b64, rgb(128,0,0), 30);
    ref_b66 = dialogAlloc();
    ref_b67 = msgShow(msg_180);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]I don’t know the outcome of this rumor...
[tab]I need ¥[var(msg_var_0)] to spread this rumor.
[tab]Do you want me to do it?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_b67);
    choiceGetResult(var_7);
    bne(var_7, 0, label_b6d);
    li(var_7, 1);
    b(label_b70);
  label_b6d:
    bne(var_7, 1, label_b70);
    li(var_7, 0);
    b(label_b70);
  label_b70:
    wait(ref_b67);
    dialogFree(ref_b66);
    ref_b72 = bustupFade(ref_b64, rgb(0,0,0), 10);
    bustupWait(ref_b72);
    bustupFree(ref_b64);
}

function NOMONEY()
{
    unitFacePlayer(shopkeeper);
    ref_b77 = bustupLoad(bustup_e5);
    bustupWait(ref_b77);
    ref_b79 = bustupAlloc(ref_b77, left, rgb(0,0,0));
    bustupFade(ref_b79, rgb(128,0,0), 30);
    ref_b7b = dialogAlloc();
    ref_b7c = msgShow(msg_181);
/***************************************
[color(yellow)]Chief Todoroki[color(white)]
[tab]You don’t have enough money. [wait][clear]
***************************************/
    wait(ref_b7c);
    dialogFree(ref_b7b);
    ref_b7f = bustupFade(ref_b79, rgb(0,0,0), 10);
    bustupWait(ref_b7f);
    bustupFree(ref_b79);
}
