function START()
{
    screenEffectInit();
    screenFade(160, 120, rgb(255,255,255), rgb(255,255,255), sub);
    levelFootstepSet(sfx_15);
    dngRoomSet(233);
    dngRoomDraw();
    bitClear(LBIT_0002);
    bitClear(LBIT_0003);
    bitGet(var_0, MBIT_MUZANNEN);
    bne(var_0, 0, label_d);
    ref_9 = sndLoad(sound_3054);
    wait(ref_9);
    sndMusicPlay(sound_3054, 127);
    b(label_f);
  label_d:
    bne(var_0, 1, label_f);
    b(label_f);
  label_f:
    call(MODERU);
    envTriggerSet(BLACK, 56, 1, line, coll_1d);
    envTriggerSet(BLACK, 28, 1, line, coll_1c);
    envTriggerSet(BLACK, 28, 1, line, coll_1b);
    envTriggerSet(BLACK, 28, 1, line, coll_1a);
    envTriggerSet(BLACK, 28, 1, line, coll_19);
    envTriggerSet(BLACK, 14, 1, line, coll_1f);
    envTriggerSet(BINGO, 255, 1, collision_2, coll_1);
    envTriggerSet(POKER01, 56, 1, collision_2, coll_d);
    envTriggerSet(POKER02, 56, 1, collision_2, coll_c);
    envTriggerSet(POKER03, 56, 1, collision_2, coll_9);
    envTriggerSet(POKER04, 56, 1, collision_2, coll_e);
    envTriggerSet(POKER05, 56, 1, collision_2, coll_f);
    envTriggerSet(POKER06, 131, 1, collision_2, coll_10);
    envTriggerSet(POKER07, 131, 1, collision_2, coll_11);
    envTriggerSet(POKER08, 131, 1, collision_2, coll_12);
    envTriggerSet(POKER09, 131, 1, collision_2, coll_13);
    envTriggerSet(POKER10, 131, 1, collision_2, coll_14);
    envTriggerSet(SUROTTO01, 224, 1, line, coll_28);
    envTriggerSet(SUROTTO02, 224, 1, line, coll_29);
    envTriggerSet(SUROTTO03, 224, 1, line, coll_2a);
    envTriggerSet(SUROTTO04, 224, 1, line, coll_2b);
    envTriggerSet(SUROTTO05, 224, 1, line, coll_34);
    envTriggerSet(SUROTTO06, 224, 1, line, coll_2d);
    envTriggerSet(SUROTTO07, 224, 1, line, coll_35);
    envTriggerSet(SUROTTO08, 224, 1, line, coll_36);
    envTriggerSet(DENGENOFF, 14, 1, collision_2, coll_7);
    envTriggerSet(DENGENOFF, 224, 1, collision_2, coll_2);
    envTriggerSet(DENGENOFF, 14, 1, collision_2, coll_b);
    envTriggerSet(DENGENOFF, 131, 1, collision_2, coll_8);
    envTriggerSet(DENGENOFF, 224, 1, collision_2, coll_a);
    envTriggerSet(DENGENOFF, 224, 1, collision_2, coll_6);
    li(var_0, 0);
    partyMemberCheck(var_0, ulala);
    add(var_5, var_5, var_0);
    bez(var_0, label_37);
    ref_33 = spriteLoad(sprite_6);
    wait(ref_33);
    unitSpawn(ulala, sprite_6, 491, 0, -1458, south, none);
    unitTriggerSet(ulala, B_URARATI, 255, 1);
  label_37:
    partyMemberCheck(var_0, katsuya);
    add(var_5, var_5, var_0);
    bez(var_0, label_3e);
    ref_3a = spriteLoad(sprite_d);
    wait(ref_3a);
    unitSpawn(katsuya, sprite_d, 1140, 0, -826, west, none);
    unitTriggerSet(katsuya, B_KATUYYY, 255, 1);
  label_3e:
    partyMemberCheck(var_0, baofu);
    add(var_5, var_5, var_0);
    bez(var_0, label_45);
    ref_41 = spriteLoad(sprite_13);
    wait(ref_41);
    unitSpawn(baofu, sprite_13, 1337, 0, -1403, south, none);
    unitTriggerSet(baofu, B_PAO, 255, 1);
  label_45:
    partyMemberCheck(var_0, nanjo);
    add(var_5, var_5, var_0);
    bez(var_0, label_4c);
    ref_48 = spriteLoad(sprite_1f);
    wait(ref_48);
    unitSpawn(nanjo, sprite_1f, 424, 0, -760, west, none);
    unitTriggerSet(nanjo, B_NANJ, 255, 1);
  label_4c:
    partyMemberCheck(var_0, elly);
    add(var_5, var_5, var_0);
    bez(var_0, label_53);
    ref_4f = spriteLoad(sprite_23);
    wait(ref_4f);
    unitSpawn(elly, sprite_23, 1255, 0, -182, north, none);
    unitTriggerSet(elly, B_ERI, 255, 1);
  label_53:
    partyMemberCheck(var_0, tatsuya);
    add(var_5, var_5, var_0);
    bez(var_0, label_5b);
    ref_56 = spriteLoad(sprite_18);
    wait(ref_56);
    unitSpawn(tatsuya, sprite_18, 261, -30, -571, south, none);
    unitTriggerSet(tatsuya, B_TATU, 255, 1);
    b(label_64);
  label_5b:
    bitGet(var_0, EBIT_E008C);
    bne(var_0, 0, label_5e);
    b(label_64);
  label_5e:
    bne(var_0, 1, label_64);
    ref_5f = spriteLoad(sprite_18);
    wait(ref_5f);
    unitSpawn(tatsuya, sprite_18, 261, -30, -571, south, none);
    unitTriggerSet(tatsuya, B_TATU, 255, 1);
    b(label_64);
  label_64:
    boutrange(var_5, 0, 4, label_67);
    li(var_0, 0);
    b(label_6c);
  label_67:
    ref_67 = dialogAlloc();
    ref_68 = msgShow(msg_0);
/***************************************
There is more than 4 members in the party.
[tab]It will hang at this rate.
[tab]Please inform Kaneda and Kataoka.
[wait][clear]
***************************************/
    wait(ref_68);
    dialogFree(ref_67);
    b(label_6c);
  label_6c:
    bitGet(var_0, EBIT_E008F);
    bne(var_0, 0, label_6f);
    b(label_7b);
  label_6f:
    bne(var_0, 1, label_7b);
    bitGet(var_0, MBIT_MUSSI_OREIGET);
    bne(var_0, 0, label_73);
    b(label_7a);
  label_73:
    bne(var_0, 1, label_7a);
    ref_74 = spriteLoad(sprite_af);
    wait(ref_74);
    unitSpawn(npc5, sprite_af, 1500, 0, -150, north, none);
    unitTriggerSet(npc5, KEKEKE, 255, 1);
    b(label_7f);
    b(label_7a);
  label_7a:
    b(label_7b);
  label_7b:
    ref_7b = spriteLoad(sprite_cf);
    wait(ref_7b);
    unitSpawn(npc5, sprite_cf, 330, 0, -820, south, none);
    unitTriggerSet(npc5, KEIBIIN, 255, 1);
  label_7f:
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_85);
    ref_81 = spriteLoad(sprite_96);
    wait(ref_81);
    unitSpawn(shopkeeper, sprite_96, 149, 0, -1144, west, none);
    envTriggerSet(SHOPBOX, 14, 1, line, coll_14);
  label_85:
    ref_85 = spriteLoad(sprite_ca);
    wait(ref_85);
    unitSpawn(npc1, sprite_ca, 769, 0, -642, north, none);
    unitPalette(npc1, 2);
    unitTriggerSet(npc1, GYAMBURU, 255, 1);
    envTriggerSet(DOORBOX, 131, 1, line, coll_25);
    envTriggerSet(HAZIKIDO, 56, 1, line, coll_26);
    ref_8c = spriteLoad(sprite_0);
    wait(ref_8c);
    ref_8e = spriteLoad(sprite_2);
    wait(ref_8e);
    ref_90 = spriteLoad(sprite_94);
    wait(ref_90);
    bitGet(var_0, MBIT_MUZANNEN);
    bne(var_0, 0, label_af);
    bitClear(EBIT_NOSAVE_B);
    bitGet(var_0, MBIT_MUCHARER_2);
    bne(var_0, 0, label_a5);
    bitGet(var_0, MBIT_MUCHARER_1);
    bne(var_0, 0, label_9b);
    b(label_b2);
    b(label_a4);
  label_9b:
    bne(var_0, 1, label_a4);
    bitGet(var_0, IBIT_RUMOR_KIBA);
    bne(var_0, 0, label_a0);
    b(label_d5);
    b(label_a3);
  label_a0:
    bne(var_0, 1, label_a3);
    b(label_dd);
    b(label_a3);
  label_a3:
    b(label_a4);
  label_a4:
    b(label_ae);
  label_a5:
    bne(var_0, 1, label_ae);
    bitGet(var_0, IBIT_RUMOR_TAXIH);
    bne(var_0, 0, label_aa);
    b(label_d5);
    b(label_ad);
  label_aa:
    bne(var_0, 1, label_ad);
    b(label_dd);
    b(label_ad);
  label_ad:
    b(label_ae);
  label_ae:
    b(label_b2);
  label_af:
    bne(var_0, 1, label_b2);
    b(label_d5);
    b(label_b2);
  label_b2:
    timerClear();
    bitGet(var_0, MBIT_MUCLI_R2);
    bnz(var_0, label_c4);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_c7);
    bitGet(var_0, MBIT_MUR2_SETUMEI);
    bnz(var_0, label_c7);
    bitGet(var_0, MBIT_HI_DEVIL9);
    bnz(var_0, label_c7);
    bitGet(var_0, MBIT_MUCLE_R1);
    bnz(var_0, label_c4);
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_c7);
    bitGet(var_0, MBIT_MUR1_SETUMEI);
    bnz(var_0, label_c7);
    bitGet(var_0, MBIT_HI_DEVIL5);
    bnz(var_0, label_c7);
    b(label_c4);
  label_c4:
    unitSpawn(npc4, sprite_94, 907, 0, -51, north, none);
    unitPalette(npc4, 3);
    b(label_c8);
  label_c7:
    unitSpawn(npc4, sprite_94, 1068, 0, -172, east, none);
  label_c8:
    unitPalette(npc4, 3);
    unitTriggerSet(npc4, KAKARIIN, 255, 1);
    bitGet(var_2, MBIT_MUTALKTENSH);
    bne(var_2, 0, label_cf);
    cameraSet(southwest, 798, 0, -1524);
    playerInit(south);
    b(label_d3);
  label_cf:
    bne(var_2, 1, label_d3);
    cameraSet(southwest, 335, 0, -1125);
    playerInit(east);
    b(label_d3);
  label_d3:
    li(var_2, 1);
    b(label_e4);
  label_d5:
    timerClear();
    unitSpawn(npc4, sprite_94, 1068, 0, -172, east, none);
    unitPalette(npc4, 3);
    unitTriggerSet(npc4, KAKARIIN, 255, 1);
    cameraSet(northeast, 900, 0, -172);
    playerInit(west);
    li(var_2, 2);
    b(label_e4);
  label_dd:
    timerClear();
    unitSpawn(npc4, sprite_94, 907, 0, -51, north, none);
    unitPalette(npc4, 3);
    unitTriggerSet(npc4, KAKARIIN, 255, 1);
    cameraSet(northeast, 900, 0, -203);
    playerInit(south);
    li(var_2, 3);
  label_e4:
    controlDisable();
    screenEffectUnknown();
    screenFadeInner(rgb(0,0,0), 6, true);
    screenFadeOuter(rgb(0,0,0), 6, true);
    unitIdleOnAll();
    screenFadeWait(inner);
    screenFadeWait(outer);
    bne(var_2, 1, label_ee);
    controlEnable();
    b(label_f4);
  label_ee:
    bne(var_2, 2, label_f1);
    call(BCOUS_BOX);
    b(label_f4);
  label_f1:
    bne(var_2, 3, label_f4);
    call(CCOUS_BOX);
    b(label_f4);
  label_f4:
}

function BCOUS_BOX()
{
    bitGet(var_0, MBIT_MUZANNEN);
    bne(var_0, 0, label_f8);
    b(label_fc);
  label_f8:
    bne(var_0, 1, label_fc);
    bitClear(MBIT_MUZANNEN);
    b(label_116);
    b(label_fc);
  label_fc:
    bitGet(var_0, MBIT_MUCHARER_2);
    bne(var_0, 0, label_ff);
    b(label_103);
  label_ff:
    bne(var_0, 1, label_103);
    bitClear(MBIT_MUCHARER_2);
    b(label_10d);
    b(label_103);
  label_103:
    b(label_104);
  label_104:
    ref_104 = dialogAlloc();
    ref_105 = msgShow(msg_1);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh, oh giving up already?
[tab]Or was it just practice?
[tab]Iâ€™m rooting for you!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_105);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_104);
    bitClear(MBIT_MUCHARER_1);
    bitClear(MBIT_DUN_KOMARITRI);
    b(label_116);
  label_10d:
    bitClear(MBIT_MUCHARER_2);
    ref_10e = dialogAlloc();
    ref_10f = msgShow(msg_2);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh, oh giving up already? Even this
[tab]customer has problems the second round.
[tab]But now is the time to come back!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_10f);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_10e);
    bitClear(MBIT_MUCHARER_2);
    bitClear(MBIT_DUN_KYE_01);
  label_116:
    controlEnable();
}

function CCOUS_BOX()
{
    bitGet(var_0, MBIT_MUCHARER_2);
    bnz(var_0, label_143);
    bitSet(MBIT_MUCLE_R1);
    bitClear(MBIT_MUCHARER_1);
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_120 = dialogAlloc();
    ref_121 = msgShow(msg_3);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Bravo!!
[tab]Whoâ€™s Bravo? ...Youâ€™re Bravo!!
[tab]Congratulations!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]I would like to give you your prize,
[tab]but this is Mu Continent...
[tab]That would be just too boring.
[wait][clear][color(yellow)]Worker[color(white)]
[tab]How much it will be, is completely up to
[tab]the customer. Rapidly hit the X button
[tab]to increase your winnings!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Youâ€™ve only got 10 seconds!!
[tab]Are your fingers ready...?
[tab]Here we go!! ...START!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_121);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_120);
    ref_126 = dialogAlloc();
    call(TIMEBOX);
    li(var_4, 500);
  label_129:
    msgVar_Number(msgvar_0, var_4);
    ref_12a = msgShow(msg_4);
/***************************************
[delay(0)][unk2f(0)] Â¥[var(msg_var_0)][wait][clear]
***************************************/
    wait(ref_12a);
    add(var_4, var_4, 500);
    bnz(var_3, label_12f);
    b(label_129);
  label_12f:
    sub(var_4, var_4, 500);
    ref_130 = msgShow(msg_5);
/***************************************
[color(yellow)]Worker[color(white)]
[tab][delay(2)][unk2f(2)]Itâ€™s over now!!
***************************************/
    wait(ref_130);
    delayClear();
    delayWait(120);
    ref_134 = msgShow(msg_6);
/***************************************
[wait][clear]
***************************************/
    wait(ref_134);
    dialogFree(ref_126);
    msgVar_Number(msgvar_1, var_4);
    partyMoneyAdd(var_4);
    ref_139 = dialogAlloc();
    ref_13a = msgShow(msg_7);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Tally of your winnings is...
[tab]Itâ€™s, itâ€™s, itâ€™s Â¥[var(msg_var_1)]!!
[tab]You arenâ€™t using Auto-fire are you!?
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Oh well!
[tab]Our customers are gods!
[tab]Thank you for choosing us!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_13a);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_139);
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_16a);
  label_143:
    bitSet(MBIT_MUCLI_R2);
    bitClear(MBIT_MUCHARER_2);
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_149 = dialogAlloc();
    ref_14a = msgShow(msg_8);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Yahoo!!
[tab]Congratulations!
[tab]CONGRATULATIONS!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Youâ€™re incredible, absolutely incredible!!
[tab]Even as a woman, I feel your stoutness!!
[tab]Excellent!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]For you who have gotten the item, it is
[tab]time for you to be rewarded!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Here we go... How much you will win is
[tab]entirely up to you! Win lots of money by
[tab]tapping the X button rapidly.
[wait][clear][color(yellow)]Worker[color(white)]
[tab]You got approximately 10 seconds!!
[tab]Are you ready to start twitching...?
[tab]Get ready... START!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_14a);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_149);
    ref_14f = dialogAlloc();
    call(TIMEBOX);
    li(var_4, 10000);
  label_152:
    msgVar_Number(msgvar_0, var_4);
    ref_153 = msgShow(msg_9);
/***************************************
[delay(0)][unk2f(0)]Â¥[var(msg_var_0)][wait][clear]
***************************************/
    wait(ref_153);
    add(var_4, var_4, 500);
    bnz(var_3, label_158);
    b(label_152);
  label_158:
    sub(var_4, var_4, 500);
    ref_159 = msgShow(msg_10);
/***************************************
[color(yellow)]Worker[color(white)]
[tab][delay(2)][unk2f(2)]Itâ€™s over now!!
***************************************/
    wait(ref_159);
    delayClear();
    delayWait(120);
    ref_15d = msgShow(msg_11);
/***************************************
[wait][clear]
***************************************/
    wait(ref_15d);
    dialogFree(ref_14f);
    msgVar_Number(msgvar_1, var_4);
    partyMoneyAdd(var_4);
    ref_162 = dialogAlloc();
    ref_163 = msgShow(msg_12);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Tally of your winnings is...
[tab]Itâ€™s, itâ€™s, itâ€™s Â¥[var(msg_var_1)]!!
[tab]You arenâ€™t using Auto-fire are you!?
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Oh well!
[tab]Our customers are gods!
[tab]Thank you for choosing us!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]By the way, today is the last day
[tab]for the "special campaign"!
[tab]Thank you for all of this time!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_163);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_162);
    unitDespawn(maya, none);
    playerInit(south);
  label_16a:
    controlEnable();
}

function KAKARIIN()
{
    controlDisable();
    bitGet(var_0, MBIT_MUCLI_R2);
    bnz(var_0, label_17e);
    bitGet(var_0, LBIT_0003);
    bnz(var_0, label_187);
    bitGet(var_0, MBIT_MUR2_SETUMEI);
    bnz(var_0, label_190);
    bitGet(var_0, MBIT_HI_DEVIL9);
    bnz(var_0, label_1da);
    bitGet(var_0, MBIT_MUCLE_R1);
    bnz(var_0, label_24a);
    bitGet(var_0, LBIT_0002);
    bnz(var_0, label_253);
    bitGet(var_0, MBIT_MUR1_SETUMEI);
    bnz(var_0, label_25c);
    bitGet(var_0, MBIT_HI_DEVIL5);
    bnz(var_0, label_2a9);
    b(label_31b);
  label_17e:
    unitFacePlayer(npc4);
    ref_17f = dialogAlloc();
    ref_180 = msgShow(msg_13);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]The "special campaign" is finished.
[tab]So, back here is still under construction.
[tab]It canâ€™t be opened...
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_180);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_17f);
    unitRestoreFacing(npc4);
    b(label_324);
  label_187:
    unitFacePlayer(npc4);
    ref_188 = dialogAlloc();
    ref_189 = msgShow(msg_14);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Round 2 is much more harsh than the first!
[tab]But Iâ€™m sure you can pull through!!
[tab]Hereâ€™s some lip serviceâ™¥
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_189);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_188);
    unitRestoreFacing(npc4);
    b(label_324);
  label_190:
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_194 = dialogAlloc();
    ref_195 = msgShow(msg_15);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Time attack dungeon, Round 2...
[tab]Steal the Taxi Hat!!
[tab]A much harder, much hotter attraction!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_195);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_194);
    choiceSetResult(1);
    op_105(1);
    ref_19c = bustupLoad(bustup_1);
    bustupWait(ref_19c);
    ref_19e = bustupAlloc(ref_19c, center, rgb(0,0,0));
    bustupFade(ref_19e, rgb(128,0,0), 30);
    ref_1a0 = dialogChoiceAlloc();
    ref_1a1 = msgShow(msg_16);
/***************************************
[tab]Will you challenge?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_1a1);
    dialogFree(ref_1a0);
    ref_1a4 = bustupFade(ref_19e, rgb(0,0,0), 10);
    bustupWait(ref_1a4);
    bustupFree(ref_19e);
    choiceGetResult(var_0);
    bne(var_0, 0, label_1ab);
    b(label_1b4);
    b(label_1ad);
  label_1ab:
    bne(var_0, 1, label_1ad);
    b(label_1ad);
  label_1ad:
    ref_1ad = dialogAlloc();
    ref_1ae = msgShow(msg_17);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Argh...
[tab]That is a very sad story...
[tab]I am very depressed...
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_1ae);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_1ad);
    b(label_1d6);
  label_1b4:
    bitSet(LBIT_0003);
    ref_1b5 = dialogAlloc();
    unitAnimationPlay(npc4, animation_21, 1);
    ref_1b7 = msgShow(msg_18);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh!! Youâ€™re a nice buddy!!

***************************************/
    wait(ref_1b7);
    unitFace(npc4, east);
    unitAnimationPlay(npc4, animation_21, 1);
    ref_1bb = msgShow(msg_19);
/***************************************
[tab]Now, this door that isnâ€™t even
[tab]sacred or scary will now open!!
[wait][clear]
***************************************/
    wait(ref_1bb);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_1b5);
    ref_1bf = cameraMoveTo(895, 0, -95, 60);
    ref_1c0 = cameraRotateTo(1, 60);
    wait(ref_1c0);
    objAnimTranslate(obj_1b, -80, 0, 0, 60);
    objAnimTranslate(obj_1c, 80, 0, 0, 60);
    sndMusicPlay(sound_3073, 127);
    objAnimWait(obj_1b);
    objAnimWait(obj_1c);
    wait(ref_1bf);
    envTriggerSet(GOTODANG, 56, 2, line, coll_26);
    unitFaceUnit(npc4, maya);
    ref_1ca = dialogAlloc();
    ref_1cb = msgShow(msg_20);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Now, it has opened...!
[tab]The moment you step in, the game starts!!
[tab]Keep trying till you drop!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_1cb);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_1ca);
    ref_1d0 = cameraLookAtUnit(maya, 0, 60);
    wait(ref_1d0);
    unitAnimationPlay(maya, animation_24, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
  label_1d6:
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_324);
  label_1da:
    controlDisable();
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_1df = dialogAlloc();
    ref_1e0 = msgShow(msg_21);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Ta-DA!!
[tab]Whatâ€™s Ta-DA? ...Youâ€™re Ta-DA!!
[tab]How Ta-DA? ...This Ta-DA!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Finally, Round 2!
[tab]Mu Continent Time Attack Dungeon...
[tab]The Cursed Taxi Cap competition has begun!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_1e0);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_1df);
    choiceSetResult(1);
    op_105(1);
    ref_1e7 = bustupLoad(bustup_1);
    bustupWait(ref_1e7);
    ref_1e9 = bustupAlloc(ref_1e7, center, rgb(0,0,0));
    bustupFade(ref_1e9, rgb(128,0,0), 30);
    ref_1eb = dialogChoiceAlloc();
    ref_1ec = msgShow(msg_22);
/***************************************
[tab]Listen to the instructions!!
[choice(2)]Listen
Donâ€™t listen
[end_choice][clear]
***************************************/
    wait(ref_1ec);
    dialogFree(ref_1eb);
    ref_1ef = bustupFade(ref_1e9, rgb(0,0,0), 10);
    bustupWait(ref_1ef);
    bustupFree(ref_1e9);
    choiceGetResult(var_0);
    bne(var_0, 0, label_1f6);
    b(label_203);
    b(label_1f8);
  label_1f6:
    bne(var_0, 1, label_1f8);
    b(label_1f8);
  label_1f8:
    unitAnimationPlay(maya, animation_29, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_1fc = dialogAlloc();
    ref_1fd = msgShow(msg_23);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh...
[tab]That is too bad.
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_1fd);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_1fc);
    b(label_246);
  label_203:
    bitSet(MBIT_MUR2_SETUMEI);
    ref_204 = dialogAlloc();
    ref_205 = msgShow(msg_24);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Behind that door, is a bigger maze than
[tab]before. At the end, thereâ€™s a much more
[tab]brutal boss monster waiting.
[wait][clear][color(yellow)]Worker[color(white)]
[tab]If you are able to defeat the monster,
[tab]and bring back the secret treasure...
[tab]You will once again receive a reward!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]But of course there is a time limit!!
[tab]If you donâ€™t return in time, youâ€™re out!!
[tab]Even if youâ€™ve defeated the monster!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]If that happens, there will be no reward,
[tab]and you lose the treasure. You CANâ€™T save
[tab]in there, But you CAN come back out!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_205);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_204);
    choiceSetResult(1);
    op_105(1);
    ref_20c = bustupLoad(bustup_1);
    bustupWait(ref_20c);
    ref_20e = bustupAlloc(ref_20c, center, rgb(0,0,0));
    bustupFade(ref_20e, rgb(128,0,0), 30);
    ref_210 = dialogChoiceAlloc();
    ref_211 = msgShow(msg_25);
/***************************************
[tab]Now hero, move on to the sacred fight!!
[choice(2)]Challenge
Quit
[end_choice][clear]
***************************************/
    wait(ref_211);
    dialogFree(ref_210);
    ref_214 = bustupFade(ref_20e, rgb(0,0,0), 10);
    bustupWait(ref_214);
    bustupFree(ref_20e);
    choiceGetResult(var_0);
    bne(var_0, 0, label_21b);
    b(label_228);
    b(label_21d);
  label_21b:
    bne(var_0, 1, label_21d);
    b(label_21d);
  label_21d:
    unitAnimationPlay(maya, animation_29, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_221 = dialogAlloc();
    ref_222 = msgShow(msg_26);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Argh...
[tab]That is a very sad story...
[tab]I am very depressed...
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_222);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_221);
    b(label_246);
  label_228:
    bitSet(LBIT_0003);
    ref_229 = dialogAlloc();
    unitAnimationPlay(npc4, animation_21, 1);
    ref_22b = msgShow(msg_27);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh!! Youâ€™re a nice buddy!!

***************************************/
    wait(ref_22b);
    unitFace(npc4, east);
    unitAnimationPlay(npc4, animation_21, 1);
    ref_22f = msgShow(msg_28);
/***************************************
[tab]Now, the door thatâ€™s not sacred or scary,
[tab]is opening!!
[wait][clear]
***************************************/
    wait(ref_22f);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_229);
    ref_233 = cameraMoveTo(895, 0, -95, 60);
    ref_234 = cameraRotateTo(1, 60);
    wait(ref_234);
    objAnimTranslate(obj_1b, -80, 0, 0, 60);
    objAnimTranslate(obj_1c, 80, 0, 0, 60);
    sndMusicPlay(sound_3073, 127);
    objAnimWait(obj_1b);
    objAnimWait(obj_1c);
    wait(ref_233);
    envTriggerSet(GOTODANG, 56, 2, line, coll_26);
    unitFaceUnit(npc4, maya);
    ref_23e = dialogAlloc();
    ref_23f = msgShow(msg_29);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Now, it has opened...!
[tab]The moment you step in, the game starts!!
[tab]Keep trying till you drop!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_23f);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_23e);
    ref_244 = cameraLookAtUnit(maya, 0, 60);
    wait(ref_244);
  label_246:
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_324);
  label_24a:
    unitFacePlayer(npc4);
    ref_24b = dialogAlloc();
    ref_24c = msgShow(msg_30);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Our next opening is...
[tab]still undetermined!!
[tab]Stay tuned...!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_24c);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_24b);
    unitRestoreFacing(npc4);
    b(label_324);
  label_253:
    unitFacePlayer(npc4);
    ref_254 = dialogAlloc();
    ref_255 = msgShow(msg_31);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Lately I hear rumors of people seeing real
[tab]monsters in there! Iâ€™m sure itâ€™s not true...
[tab]But usually, these things come true!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_255);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_254);
    unitRestoreFacing(npc4);
    b(label_324);
  label_25c:
    controlDisable();
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_261 = dialogAlloc();
    ref_262 = msgShow(msg_32);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Welcome!!
[tab]WELCOME!! ...Right now,
[tab]the dungeon can be enjoyed for free!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_262);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_261);
    choiceSetResult(1);
    op_105(1);
    ref_269 = bustupLoad(bustup_1);
    bustupWait(ref_269);
    ref_26b = bustupAlloc(ref_269, center, rgb(0,0,0));
    bustupFade(ref_26b, rgb(128,0,0), 30);
    ref_26d = dialogChoiceAlloc();
    ref_26e = msgShow(msg_33);
/***************************************
[tab]Now hero, move on to the sacred fight!!
[choice(2)]Challenge
Quit
[end_choice][clear]
***************************************/
    wait(ref_26e);
    dialogFree(ref_26d);
    ref_271 = bustupFade(ref_26b, rgb(0,0,0), 10);
    bustupWait(ref_271);
    bustupFree(ref_26b);
    choiceGetResult(var_0);
    bne(var_0, 0, label_278);
    b(label_286);
    b(label_27a);
  label_278:
    bne(var_0, 1, label_27a);
    b(label_27a);
  label_27a:
    unitAnimationPlay(maya, animation_29, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_27e = dialogAlloc();
    ref_27f = msgShow(msg_34);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Thatâ€™s too bad!!
[tab]If you change your mind...
[tab]Câ€™mon back, baby...!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_27f);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_27e);
    unitRestoreFacing(npc4);
    b(label_2a5);
  label_286:
    bitSet(LBIT_0002);
    ref_287 = dialogAlloc();
    unitAnimationPlay(npc4, animation_21, 1);
    ref_289 = msgShow(msg_35);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh you are a nice gal!

***************************************/
    wait(ref_289);
    unitFace(npc4, east);
    unitAnimationPlay(npc4, animation_21, 1);
    ref_28d = msgShow(msg_36);
/***************************************
[tab]Now, this door that isnâ€™t even
[tab]sacred or scary will now open!!
[wait][clear]
***************************************/
    wait(ref_28d);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_287);
    ref_291 = cameraMoveTo(895, 0, -95, 60);
    ref_292 = cameraRotateTo(1, 60);
    wait(ref_292);
    objAnimTranslate(obj_1b, -80, 0, 0, 60);
    objAnimTranslate(obj_1c, 80, 0, 0, 60);
    sndMusicPlay(sound_3073, 127);
    objAnimWait(obj_1b);
    objAnimWait(obj_1c);
    wait(ref_291);
    envTriggerSet(GOTODANG, 56, 2, line, coll_26);
    unitFaceUnit(npc4, maya);
    ref_29c = dialogAlloc();
    ref_29d = msgShow(msg_37);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]The moment you step in, the game starts!!
[tab]Keep trying till you drop!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_29d);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_29c);
    ref_2a2 = cameraLookAtUnit(maya, 0, 60);
    wait(ref_2a2);
    unitRestoreFacing(npc4);
  label_2a5:
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_324);
  label_2a9:
    controlDisable();
    unitFacePlayer(npc4);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, npc4);
    ref_2ae = dialogAlloc();
    ref_2af = msgShow(msg_38);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh so lucky!!
[tab]Whoâ€™s so lucky? ...Youâ€™re so lucky!!
[tab]How lucky? ...This lucky!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]Here at Mu Continent...
[tab]We are having a "special campaign"!!
[tab]Find out what it is!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_2af);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_2ae);
    choiceSetResult(1);
    op_105(1);
    ref_2b6 = bustupLoad(bustup_1);
    bustupWait(ref_2b6);
    ref_2b8 = bustupAlloc(ref_2b6, center, rgb(0,0,0));
    bustupFade(ref_2b8, rgb(128,0,0), 30);
    ref_2ba = dialogChoiceAlloc();
    ref_2bb = msgShow(msg_39);
/***************************************
[tab]Will you listen to the explanation?
[choice(2)]Listen
Donâ€™t listen
[end_choice][clear]
***************************************/
    wait(ref_2bb);
    dialogFree(ref_2ba);
    ref_2be = bustupFade(ref_2b8, rgb(0,0,0), 10);
    bustupWait(ref_2be);
    bustupFree(ref_2b8);
    choiceGetResult(var_0);
    bne(var_0, 0, label_2c5);
    b(label_2d3);
    b(label_2c7);
  label_2c5:
    bne(var_0, 1, label_2c7);
    b(label_2c7);
  label_2c7:
    unitAnimationPlay(maya, animation_29, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_2cb = dialogAlloc();
    ref_2cc = msgShow(msg_40);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]You are a very
[tab]unlucky customer!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_2cc);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_2cb);
    unitRestoreFacing(npc4);
    b(label_316);
  label_2d3:
    bitSet(MBIT_MUR1_SETUMEI);
    ref_2d4 = dialogAlloc();
    ref_2d5 = msgShow(msg_41);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh you are lucky gal...!
[tab]Behind that door, is a big dungeon!! At the
[tab]end, thereâ€™s a brutal boss monster waiting!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]If you are able to defeat the monster,
[tab]and bring back the secret treasure...
[tab]You will receive a reward!!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]But of course there is a time limit!!
[tab]If you donâ€™t return in time, youâ€™re out!!
[tab]Even if youâ€™ve defeated the monster!
[wait][clear][color(yellow)]Worker[color(white)]
[tab]If that happens, there will be no reward,
[tab]and you lose the treasure. You CANâ€™T save
[tab]in there, But you CAN come back out!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_2d5);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_2d4);
    choiceSetResult(1);
    op_105(1);
    ref_2dc = bustupLoad(bustup_1);
    bustupWait(ref_2dc);
    ref_2de = bustupAlloc(ref_2dc, center, rgb(0,0,0));
    bustupFade(ref_2de, rgb(128,0,0), 30);
    ref_2e0 = dialogChoiceAlloc();
    ref_2e1 = msgShow(msg_42);
/***************************************
[tab]Now hero, move on to the sacred fight!!
[choice(2)]Challenge
Quit
[end_choice][clear]
***************************************/
    wait(ref_2e1);
    dialogFree(ref_2e0);
    ref_2e4 = bustupFade(ref_2de, rgb(0,0,0), 10);
    bustupWait(ref_2e4);
    bustupFree(ref_2de);
    choiceGetResult(var_0);
    bne(var_0, 0, label_2eb);
    b(label_2f8);
    b(label_2ed);
  label_2eb:
    bne(var_0, 1, label_2ed);
    b(label_2ed);
  label_2ed:
    unitAnimationPlay(maya, animation_29, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_2f1 = dialogAlloc();
    ref_2f2 = msgShow(msg_43);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Thatâ€™s too bad!!
[tab]If you change your mind...
[tab]Câ€™mon back, baby...!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_2f2);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_2f1);
    b(label_316);
  label_2f8:
    bitSet(LBIT_0002);
    ref_2f9 = dialogAlloc();
    unitAnimationPlay(npc4, animation_21, 1);
    ref_2fb = msgShow(msg_44);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]Oh you are a nice gal!

***************************************/
    wait(ref_2fb);
    unitFace(npc4, east);
    unitAnimationPlay(npc4, animation_21, 1);
    ref_2ff = msgShow(msg_45);
/***************************************
[tab]Now, this door that isnâ€™t even
[tab]sacred or scary will now open!!
[wait][clear]
***************************************/
    wait(ref_2ff);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_2f9);
    ref_303 = cameraMoveTo(895, 0, -95, 60);
    ref_304 = cameraRotateTo(1, 60);
    wait(ref_304);
    objAnimTranslate(obj_1b, -80, 0, 0, 60);
    objAnimTranslate(obj_1c, 80, 0, 0, 60);
    sndMusicPlay(sound_3073, 127);
    objAnimWait(obj_1b);
    objAnimWait(obj_1c);
    wait(ref_303);
    envTriggerSet(GOTODANG, 56, 2, line, coll_26);
    unitFaceUnit(npc4, maya);
    ref_30e = dialogAlloc();
    ref_30f = msgShow(msg_46);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]The moment you step in, the game starts!!
[tab]Keep trying till you drop!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_30f);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_30e);
    ref_314 = cameraLookAtUnit(maya, 0, 60);
    wait(ref_314);
  label_316:
    unitDespawn(maya, none);
    playerInit(south);
    unitRestoreFacing(npc4);
    controlDisable();
    b(label_324);
  label_31b:
    controlDisable();
    unitFacePlayer(npc4);
    ref_31d = dialogAlloc();
    ref_31e = msgShow(msg_47);
/***************************************
[color(yellow)]Worker[color(white)]
[tab]From here on is under construction!!
[tab]Huh? Will it always be under construction?
[tab]Of course not!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc4, animation_21, 1);
    wait(ref_31e);
    unitAnimationPlay(npc4, animation_0, 1);
    dialogFree(ref_31d);
    unitRestoreFacing(npc4);
  label_324:
    controlEnable();
}

function DOORBOX()
{
    controlDisable();
    objAnimTranslate(obj_1e, 80, 0, 0, 30);
    objAnimTranslate(obj_1d, -80, 0, 0, 30);
    sndMusicPlay(sound_3073, 127);
    objAnimWait(obj_1e);
    objAnimWait(obj_1d);
    call(EXITBOX);
}

function warp1()
{
    call(DOORBOX);
}

function EXITBOX()
{
    bitClear(MBIT_EXITBIT);
    mapLoad(yumezaki, 27, 2);
}

function TIMEBOX()
{
    shopCurrencyType(5, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    li(var_5, 10);
  label_336:
    delayClear();
    delayWait(60);
    sub(var_5, var_5, 1);
    beq(var_5, 0, label_33b);
    b(label_336);
  label_33b:
    li(var_3, 1);
    shopCurrencyDisplay(-110, 150, true);
}

function B_URARATI()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_34c);
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_3cc);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_3b1);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_3a1);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_38e);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_37e);
    b(label_367);
  label_34c:
    unitFacePlayer(ulala);
    ref_34d = bustupLoad(bustup_18);
    bustupWait(ref_34d);
    ref_34f = bustupAlloc(ref_34d, left, rgb(0,0,0));
    bustupFade(ref_34f, rgb(128,0,0), 30);
    ref_351 = dialogAlloc();
    ref_352 = msgShow(msg_48);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Oh gambling...
[tab]Iâ€™ve got a thing for gambling...
[tab]Letâ€™s see, which-one-should-I-play?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_30, 1);
    wait(ref_352);
    ref_355 = bustupFade(ref_34f, rgb(0,0,0), 10);
    bustupWait(ref_355);
    bustupFree(ref_34f);
    ref_358 = bustupLoad(bustup_1b);
    bustupWait(ref_358);
    ref_35a = bustupAlloc(ref_358, left, rgb(0,0,0));
    bustupFade(ref_35a, rgb(128,0,0), 30);
    unitFace(ulala, east);
    ref_35d = msgShow(msg_49);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]...Um, what the? Whereâ€™s the cashier?
[tab]Then, I canâ€™t get coins!
[tab]Isnâ€™t this a casino?
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_35d);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_351);
    ref_362 = bustupFade(ref_35a, rgb(0,0,0), 10);
    bustupWait(ref_362);
    bustupFree(ref_35a);
    unitFace(ulala, south);
    b(label_3db);
  label_367:
    unitFacePlayer(ulala);
    ref_368 = bustupLoad(bustup_18);
    bustupWait(ref_368);
    ref_36a = bustupAlloc(ref_368, left, rgb(0,0,0));
    bustupFade(ref_36a, rgb(128,0,0), 30);
    ref_36c = dialogAlloc();
    unitAnimationPlay(ulala, animation_30, 1);
    ref_36e = msgShow(msg_50);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Casino at a time like this, 
[tab]thatâ€™s Ma-ya for you. Anytime, anywhere, 
[tab]"Letâ€™s think positive!"... I canâ€™t lose either!
[wait][clear]
***************************************/
    wait(ref_36e);
    unitAnimationPlay(ulala, animation_28, 1);
    ref_371 = msgShow(msg_51);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Letâ€™s see...
[tab]Which game will I play today...

***************************************/
    wait(ref_371);
    unitAnimationHold(ulala, animation_18, -1);
    ref_374 = msgShow(msg_52);
/***************************************
[tab]I shall become a millionaire!
[wait][clear]
***************************************/
    wait(ref_374);
    unitAnimationStop(ulala);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_36c);
    ref_379 = bustupFade(ref_36a, rgb(0,0,0), 10);
    bustupWait(ref_379);
    bustupFree(ref_36a);
    unitRestoreFacing(ulala);
    b(label_3db);
  label_37e:
    unitFacePlayer(ulala);
    ref_37f = bustupLoad(bustup_1a);
    bustupWait(ref_37f);
    ref_381 = bustupAlloc(ref_37f, left, rgb(0,0,0));
    bustupFade(ref_381, rgb(128,0,0), 30);
    ref_383 = dialogAlloc();
    ref_384 = msgShow(msg_53);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab](sigh)...
[tab]I was doing so good at bingo...
[tab]I shouldnâ€™t have betted on red...
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2e, 1);
    wait(ref_384);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_383);
    ref_389 = bustupFade(ref_381, rgb(0,0,0), 10);
    bustupWait(ref_389);
    bustupFree(ref_381);
    unitRestoreFacing(ulala);
    b(label_3db);
  label_38e:
    unitFacePlayer(ulala);
    ref_38f = bustupLoad(bustup_17);
    bustupWait(ref_38f);
    ref_391 = bustupAlloc(ref_38f, left, rgb(0,0,0));
    bustupFade(ref_391, rgb(128,0,0), 30);
    ref_393 = dialogAlloc();
    unitAnimationPlay(ulala, animation_2d, 1);
    ref_395 = msgShow(msg_54);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab][tatsuya]-kun looks so serious...

***************************************/
    wait(ref_395);
    unitAnimationPlay(ulala, animation_28, 1);
    ref_398 = msgShow(msg_55);
/***************************************
[tab]Uh... maybe I shouldnâ€™t be playing...
[tab]I should limit myself...
[wait][clear]
***************************************/
    wait(ref_398);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_393);
    ref_39c = bustupFade(ref_391, rgb(0,0,0), 10);
    bustupWait(ref_39c);
    bustupFree(ref_391);
    unitRestoreFacing(ulala);
    b(label_3db);
  label_3a1:
    unitFacePlayer(ulala);
    ref_3a2 = bustupLoad(bustup_1f);
    bustupWait(ref_3a2);
    ref_3a4 = bustupAlloc(ref_3a2, left, rgb(0,0,0));
    bustupFade(ref_3a4, rgb(128,0,0), 30);
    ref_3a6 = dialogAlloc();
    ref_3a7 = msgShow(msg_56);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Youâ€™re quite amazing, being able to gamble
[tab]after hearing a story like that.
[tab]Well... so am I but...
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_1d, 1);
    wait(ref_3a7);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_3a6);
    ref_3ac = bustupFade(ref_3a4, rgb(0,0,0), 10);
    bustupWait(ref_3ac);
    bustupFree(ref_3a4);
    unitRestoreFacing(ulala);
    b(label_3db);
  label_3b1:
    unitFacePlayer(ulala);
    ref_3b2 = bustupLoad(bustup_18);
    bustupWait(ref_3b2);
    ref_3b4 = bustupAlloc(ref_3b2, left, rgb(0,0,0));
    bustupFade(ref_3b4, rgb(128,0,0), 30);
    ref_3b6 = dialogAlloc();
    unitAnimationPlay(ulala, animation_30, 1);
    ref_3b8 = msgShow(msg_57);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Hey Ma-ya!!
[tab]I just got lucky![wait][clear]
***************************************/
    wait(ref_3b8);
    ref_3ba = bustupFade(ref_3b4, rgb(0,0,0), 10);
    bustupWait(ref_3ba);
    bustupFree(ref_3b4);
    ref_3bd = bustupLoad(bustup_1b);
    bustupWait(ref_3bd);
    ref_3bf = bustupAlloc(ref_3bd, left, rgb(0,0,0));
    bustupFade(ref_3bf, rgb(128,0,0), 30);
    unitAnimationHold(ulala, animation_21, -1);
    ref_3c2 = msgShow(msg_58);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Maybe I shouldnâ€™t use up
[tab]my luck here.
[wait][clear]
***************************************/
    wait(ref_3c2);
    unitAnimationStop(ulala);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_3b6);
    ref_3c7 = bustupFade(ref_3bf, rgb(0,0,0), 10);
    bustupWait(ref_3c7);
    bustupFree(ref_3bf);
    unitRestoreFacing(ulala);
    b(label_3db);
  label_3cc:
    unitFacePlayer(ulala);
    ref_3cd = bustupLoad(bustup_17);
    bustupWait(ref_3cd);
    ref_3cf = bustupAlloc(ref_3cd, left, rgb(0,0,0));
    bustupFade(ref_3cf, rgb(128,0,0), 30);
    ref_3d1 = dialogAlloc();
    ref_3d2 = msgShow(msg_59);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Life is just a big gamble after all.
[tab]Nobody knows... what is going to happen
[tab]afterwards...
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_3d2);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_3d1);
    ref_3d7 = bustupFade(ref_3cf, rgb(0,0,0), 10);
    bustupWait(ref_3d7);
    bustupFree(ref_3cf);
    unitRestoreFacing(ulala);
  label_3db:
    controlEnable();
}

function B_KATUYYY()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_3eb);
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_45f);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_44f);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_43f);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_41b);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_40b);
    b(label_3fb);
  label_3eb:
    unitFacePlayer(katsuya);
    ref_3ec = bustupLoad(bustup_21);
    bustupWait(ref_3ec);
    ref_3ee = bustupAlloc(ref_3ec, left, rgb(0,0,0));
    bustupFade(ref_3ee, rgb(128,0,0), 30);
    ref_3f0 = dialogAlloc();
    ref_3f1 = msgShow(msg_60);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Most places like this donâ€™t allow young
[tab]children after 6 PM.
[wait][clear][color(yellow)]Katsuya[color(white)]
[tab]However... there are kids who donâ€™t follow
[tab]that rule. Many fake their age. You can tell
[tab]most of them by their voice though.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_3f1);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_3f0);
    ref_3f6 = bustupFade(ref_3ee, rgb(0,0,0), 10);
    bustupWait(ref_3f6);
    bustupFree(ref_3ee);
    unitRestoreFacing(katsuya);
    b(label_46e);
  label_3fb:
    unitFacePlayer(katsuya);
    ref_3fc = bustupLoad(bustup_21);
    bustupWait(ref_3fc);
    ref_3fe = bustupAlloc(ref_3fc, left, rgb(0,0,0));
    bustupFade(ref_3fe, rgb(128,0,0), 30);
    ref_400 = dialogAlloc();
    ref_401 = msgShow(msg_61);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Amano-kun, I understand that you are upset
[tab]right now, but escaping reality is
[tab]not going to solve anything.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_401);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_400);
    ref_406 = bustupFade(ref_3fe, rgb(0,0,0), 10);
    bustupWait(ref_406);
    bustupFree(ref_3fe);
    unitRestoreFacing(katsuya);
    b(label_46e);
  label_40b:
    unitFacePlayer(katsuya);
    ref_40c = bustupLoad(bustup_21);
    bustupWait(ref_40c);
    ref_40e = bustupAlloc(ref_40c, left, rgb(0,0,0));
    bustupFade(ref_40e, rgb(128,0,0), 30);
    ref_410 = dialogAlloc();
    ref_411 = msgShow(msg_62);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]I donâ€™t expect you to follow my orders...
[tab]but... just donâ€™t over exert yourself.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_1a, 1);
    wait(ref_411);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_410);
    ref_416 = bustupFade(ref_40e, rgb(0,0,0), 10);
    bustupWait(ref_416);
    bustupFree(ref_40e);
    unitRestoreFacing(katsuya);
    b(label_46e);
  label_41b:
    bitGet(var_0, EBIT_E0096);
    bne(var_0, 0, label_42d);
    unitFacePlayer(katsuya);
    ref_41e = bustupLoad(bustup_21);
    bustupWait(ref_41e);
    ref_420 = bustupAlloc(ref_41e, left, rgb(0,0,0));
    bustupFade(ref_420, rgb(128,0,0), 30);
    ref_422 = dialogAlloc();
    ref_423 = msgShow(msg_63);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Before, [tatsuya] would have
[tab]frequently come here...
[tab]But now... what has happened to him?
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_1a, 1);
    wait(ref_423);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_422);
    ref_428 = bustupFade(ref_420, rgb(0,0,0), 10);
    bustupWait(ref_428);
    bustupFree(ref_420);
    unitRestoreFacing(katsuya);
    b(label_43e);
  label_42d:
    bne(var_0, 1, label_43e);
    unitFacePlayer(katsuya);
    unitAnimationPlay(katsuya, animation_10, 1);
    ref_430 = bustupLoad(bustup_23);
    bustupWait(ref_430);
    ref_432 = bustupAlloc(ref_430, left, rgb(0,0,0));
    bustupFade(ref_432, rgb(128,0,0), 30);
    ref_434 = dialogAlloc();
    ref_435 = msgShow(msg_64);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Amano-kun... You are more interested in
[tab]gambling than [tatsuya]â€™s story...?
[wait][clear]
***************************************/
    wait(ref_435);
    dialogFree(ref_434);
    ref_438 = bustupFade(ref_432, rgb(0,0,0), 10);
    bustupWait(ref_438);
    bustupFree(ref_432);
    unitAnimationPlay(katsuya, animation_a, 1);
    unitRestoreFacing(katsuya);
    b(label_43e);
  label_43e:
    b(label_46e);
  label_43f:
    unitFacePlayer(katsuya);
    ref_440 = bustupLoad(bustup_21);
    bustupWait(ref_440);
    ref_442 = bustupAlloc(ref_440, left, rgb(0,0,0));
    bustupFade(ref_442, rgb(128,0,0), 30);
    ref_444 = dialogAlloc();
    ref_445 = msgShow(msg_65);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]I bet you enjoyed gambling on the
[tab]"Other Side" too...
[tab]I donâ€™t have to ask [tatsuya] to tell.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_445);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_444);
    ref_44a = bustupFade(ref_442, rgb(0,0,0), 10);
    bustupWait(ref_44a);
    bustupFree(ref_442);
    unitRestoreFacing(katsuya);
    b(label_46e);
  label_44f:
    unitFacePlayer(katsuya);
    ref_450 = bustupLoad(bustup_21);
    bustupWait(ref_450);
    ref_452 = bustupAlloc(ref_450, left, rgb(0,0,0));
    bustupFade(ref_452, rgb(128,0,0), 30);
    ref_454 = dialogAlloc();
    ref_455 = msgShow(msg_66);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Sometimes Iâ€™m amazed by your nerves.
[tab]I wouldnâ€™t be able to play around while the
[tab]city is floating, and the world is ending...
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_1d, 1);
    wait(ref_455);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_454);
    ref_45a = bustupFade(ref_452, rgb(0,0,0), 10);
    bustupWait(ref_45a);
    bustupFree(ref_452);
    unitRestoreFacing(katsuya);
    b(label_46e);
  label_45f:
    unitFacePlayer(katsuya);
    ref_460 = bustupLoad(bustup_21);
    bustupWait(ref_460);
    ref_462 = bustupAlloc(ref_460, left, rgb(0,0,0));
    bustupFade(ref_462, rgb(128,0,0), 30);
    ref_464 = dialogAlloc();
    ref_465 = msgShow(msg_67);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]We still have work to do.
[tab]Donâ€™t play too much.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_465);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_464);
    ref_46a = bustupFade(ref_462, rgb(0,0,0), 10);
    bustupWait(ref_46a);
    bustupFree(ref_462);
    unitRestoreFacing(katsuya);
  label_46e:
    controlEnable();
}

function B_PAO()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_47e);
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_4e1);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_4d1);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_4c1);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_4ae);
    bitGet(var_0, EBIT_E007F);
    bnz(var_0, label_49e);
    b(label_48e);
  label_47e:
    unitFacePlayer(baofu);
    ref_47f = bustupLoad(bustup_31);
    bustupWait(ref_47f);
    ref_481 = bustupAlloc(ref_47f, left, rgb(0,0,0));
    bustupFade(ref_481, rgb(128,0,0), 30);
    ref_483 = dialogAlloc();
    ref_484 = msgShow(msg_68);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Iâ€™ve heard a rumor that this is a casino.
[tab]The information was in bits and pieces...
[tab]like "slots are easy", or "bingo cashes in."
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_484);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_483);
    ref_489 = bustupFade(ref_481, rgb(0,0,0), 10);
    bustupWait(ref_489);
    bustupFree(ref_481);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_48e:
    unitFacePlayer(baofu);
    ref_48f = bustupLoad(bustup_31);
    bustupWait(ref_48f);
    ref_491 = bustupAlloc(ref_48f, left, rgb(0,0,0));
    bustupFade(ref_491, rgb(128,0,0), 30);
    ref_493 = dialogAlloc();
    ref_494 = msgShow(msg_69);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Is this the time to be playing at a casino?
[tab]I feel I just saw the connection between
[tab]you and Serizawa...
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1d, 1);
    wait(ref_494);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_493);
    ref_499 = bustupFade(ref_491, rgb(0,0,0), 10);
    bustupWait(ref_499);
    bustupFree(ref_491);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_49e:
    unitFacePlayer(baofu);
    ref_49f = bustupLoad(bustup_2d);
    bustupWait(ref_49f);
    ref_4a1 = bustupAlloc(ref_49f, left, rgb(0,0,0));
    bustupFade(ref_4a1, rgb(128,0,0), 30);
    ref_4a3 = dialogAlloc();
    ref_4a4 = msgShow(msg_70);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Hmph...
[tab]Iâ€™m not in the mood to play right now.
[tab]Do it on your own.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1a, 1);
    wait(ref_4a4);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_4a3);
    ref_4a9 = bustupFade(ref_4a1, rgb(0,0,0), 10);
    bustupWait(ref_4a9);
    bustupFree(ref_4a1);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_4ae:
    unitFacePlayer(baofu);
    ref_4af = bustupLoad(bustup_2d);
    bustupWait(ref_4af);
    ref_4b1 = bustupAlloc(ref_4af, left, rgb(0,0,0));
    bustupFade(ref_4b1, rgb(128,0,0), 30);
    ref_4b3 = dialogAlloc();
    unitAnimationPlay(baofu, animation_28, 1);
    ref_4b5 = msgShow(msg_71);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Games nowadays are all machines...

***************************************/
    wait(ref_4b5);
    unitAnimationPlay(baofu, animation_1d, 1);
    ref_4b8 = msgShow(msg_72);
/***************************************
[tab]So damn cheap...
[wait][clear]
***************************************/
    wait(ref_4b8);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_4b3);
    ref_4bc = bustupFade(ref_4b1, rgb(0,0,0), 10);
    bustupWait(ref_4bc);
    bustupFree(ref_4b1);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_4c1:
    unitFacePlayer(baofu);
    ref_4c2 = bustupLoad(bustup_2d);
    bustupWait(ref_4c2);
    ref_4c4 = bustupAlloc(ref_4c2, left, rgb(0,0,0));
    bustupFade(ref_4c4, rgb(128,0,0), 30);
    ref_4c6 = dialogAlloc();
    ref_4c7 = msgShow(msg_73);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]It may be just me, but I canâ€™t get in the
[tab]mood to gamble against a machine.
[tab]...Except for maybe slot machines.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1a, 1);
    wait(ref_4c7);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_4c6);
    ref_4cc = bustupFade(ref_4c4, rgb(0,0,0), 10);
    bustupWait(ref_4cc);
    bustupFree(ref_4c4);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_4d1:
    unitFacePlayer(baofu);
    ref_4d2 = bustupLoad(bustup_2e);
    bustupWait(ref_4d2);
    ref_4d4 = bustupAlloc(ref_4d2, left, rgb(0,0,0));
    bustupFade(ref_4d4, rgb(128,0,0), 30);
    ref_4d6 = dialogAlloc();
    ref_4d7 = msgShow(msg_74);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Shit...
[tab]Why does Serizawa get hot and I...
[tab]Thatâ€™s not fair...
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2f, 1);
    wait(ref_4d7);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_4d6);
    ref_4dc = bustupFade(ref_4d4, rgb(0,0,0), 10);
    bustupWait(ref_4dc);
    bustupFree(ref_4d4);
    unitRestoreFacing(baofu);
    b(label_4f0);
  label_4e1:
    unitFacePlayer(baofu);
    ref_4e2 = bustupLoad(bustup_2d);
    bustupWait(ref_4e2);
    ref_4e4 = bustupAlloc(ref_4e2, left, rgb(0,0,0));
    bustupFade(ref_4e4, rgb(128,0,0), 30);
    ref_4e6 = dialogAlloc();
    ref_4e7 = msgShow(msg_75);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Casino at a time like this...
[tab]Heh, well do as you wish...
[tab]I wonâ€™t stop you.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1d, 1);
    wait(ref_4e7);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_4e6);
    ref_4ec = bustupFade(ref_4e4, rgb(0,0,0), 10);
    bustupWait(ref_4ec);
    bustupFree(ref_4e4);
    unitRestoreFacing(baofu);
  label_4f0:
    controlEnable();
}

function B_NANJ()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_4fa);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_52b);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_51d);
    b(label_50a);
  label_4fa:
    unitFacePlayer(nanjo);
    ref_4fb = bustupLoad(bustup_36);
    bustupWait(ref_4fb);
    ref_4fd = bustupAlloc(ref_4fb, left, rgb(0,0,0));
    bustupFade(ref_4fd, rgb(128,0,0), 30);
    ref_4ff = dialogAlloc();
    ref_500 = msgShow(msg_76);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]I had an old comrade who would set the
[tab]mission aside and go to the arcade...
[tab]Donâ€™t tell me you are like that, too.
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_1a, 1);
    wait(ref_500);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_4ff);
    ref_505 = bustupFade(ref_4fd, rgb(0,0,0), 10);
    bustupWait(ref_505);
    bustupFree(ref_4fd);
    unitRestoreFacing(nanjo);
    b(label_53a);
  label_50a:
    unitFacePlayer(nanjo);
    ref_50b = bustupLoad(bustup_36);
    bustupWait(ref_50b);
    ref_50d = bustupAlloc(ref_50b, left, rgb(0,0,0));
    bustupFade(ref_50d, rgb(128,0,0), 30);
    ref_50f = dialogAlloc();
    unitAnimationPlay(nanjo, animation_1a, 1);
    ref_511 = msgShow(msg_77);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]In a hard battle, occasional
[tab]relaxation can be understandable...

***************************************/
    wait(ref_511);
    unitAnimationPlay(nanjo, animation_1b, 1);
    ref_514 = msgShow(msg_78);
/***************************************
[tab]However! Discretion is an important factor.
[wait][clear]
***************************************/
    wait(ref_514);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_50f);
    ref_518 = bustupFade(ref_50d, rgb(0,0,0), 10);
    bustupWait(ref_518);
    bustupFree(ref_50d);
    unitRestoreFacing(nanjo);
    b(label_53a);
  label_51d:
    ref_51d = bustupLoad(bustup_36);
    bustupWait(ref_51d);
    ref_51f = bustupAlloc(ref_51d, left, rgb(0,0,0));
    bustupFade(ref_51f, rgb(128,0,0), 30);
    ref_521 = dialogAlloc();
    ref_522 = msgShow(msg_79);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]For one to accomplish oneâ€™s goal...
[tab]strong luck is also needed...
[tab]Some training here may be beneficial.
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_1a, 1);
    wait(ref_522);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_521);
    ref_527 = bustupFade(ref_51f, rgb(0,0,0), 10);
    bustupWait(ref_527);
    bustupFree(ref_51f);
    b(label_53a);
  label_52b:
    unitFacePlayer(nanjo);
    ref_52c = bustupLoad(bustup_36);
    bustupWait(ref_52c);
    ref_52e = bustupAlloc(ref_52c, left, rgb(0,0,0));
    bustupFade(ref_52e, rgb(128,0,0), 30);
    ref_530 = dialogAlloc();
    ref_531 = msgShow(msg_80);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]I am in no mood to play.
[tab]Please let me be for now.
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_6, 1);
    wait(ref_531);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_530);
    ref_536 = bustupFade(ref_52e, rgb(0,0,0), 10);
    bustupWait(ref_536);
    bustupFree(ref_52e);
    unitRestoreFacing(nanjo);
  label_53a:
    controlEnable();
}

function B_ERI()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_544);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_574);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_564);
    b(label_554);
  label_544:
    unitFacePlayer(elly);
    ref_545 = bustupLoad(bustup_3e);
    bustupWait(ref_545);
    ref_547 = bustupAlloc(ref_545, left, rgb(0,0,0));
    bustupFade(ref_547, rgb(128,0,0), 30);
    ref_549 = dialogAlloc();
    ref_54a = msgShow(msg_81);
/***************************************
[color(yellow)]Elly[color(white)]
[tab](giggle) The latest bingo games sure
[tab]have interesting gimmicks.
[tab]Just watching it like this is fun.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_23, 1);
    wait(ref_54a);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_549);
    ref_54f = bustupFade(ref_547, rgb(0,0,0), 10);
    bustupWait(ref_54f);
    bustupFree(ref_547);
    unitRestoreFacing(elly);
    b(label_583);
  label_554:
    unitFacePlayer(elly);
    ref_555 = bustupLoad(bustup_42);
    bustupWait(ref_555);
    ref_557 = bustupAlloc(ref_555, left, rgb(0,0,0));
    bustupFade(ref_557, rgb(128,0,0), 30);
    ref_559 = dialogAlloc();
    ref_55a = msgShow(msg_82);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Does the situation outside, mean nothing
[tab]to these people...
[tab]This is a complex frame of mind...
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_28, 1);
    wait(ref_55a);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_559);
    ref_55f = bustupFade(ref_557, rgb(0,0,0), 10);
    bustupWait(ref_55f);
    bustupFree(ref_557);
    unitRestoreFacing(elly);
    b(label_583);
  label_564:
    unitFacePlayer(elly);
    ref_565 = bustupLoad(bustup_3e);
    bustupWait(ref_565);
    ref_567 = bustupAlloc(ref_565, left, rgb(0,0,0));
    bustupFade(ref_567, rgb(128,0,0), 30);
    ref_569 = dialogAlloc();
    ref_56a = msgShow(msg_83);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Before I gamble, I always check my fortune
[tab]reading for that day...
[tab]If Iâ€™m going to play, I would rather win.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_23, 1);
    wait(ref_56a);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_569);
    ref_56f = bustupFade(ref_567, rgb(0,0,0), 10);
    bustupWait(ref_56f);
    bustupFree(ref_567);
    unitRestoreFacing(elly);
    b(label_583);
  label_574:
    unitFacePlayer(elly);
    ref_575 = bustupLoad(bustup_42);
    bustupWait(ref_575);
    ref_577 = bustupAlloc(ref_575, left, rgb(0,0,0));
    bustupFade(ref_577, rgb(128,0,0), 30);
    ref_579 = dialogAlloc();
    ref_57a = msgShow(msg_84);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Iâ€™m sorry...
[tab]Can you let me be alone for a while?
[tab]I want to think about something.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_6, 1);
    wait(ref_57a);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_579);
    ref_57f = bustupFade(ref_577, rgb(0,0,0), 10);
    bustupWait(ref_57f);
    bustupFree(ref_577);
    unitRestoreFacing(elly);
  label_583:
    controlEnable();
}

function B_TATU()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_58f);
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_5e1);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_5d1);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_5c1);
    b(label_5b0);
  label_58f:
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_5a0);
    ref_591 = bustupLoad(bustup_b);
    bustupWait(ref_591);
    ref_593 = bustupAlloc(ref_591, right, rgb(0,0,0));
    bustupFade(ref_593, rgb(128,0,0), 30);
    bustupFlip(ref_593, true);
    ref_596 = dialogAlloc();
    ref_597 = msgShow(msg_85);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Itâ€™s not a casino on "This Side"...
[tab]Well... itâ€™s better that way.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_1a, 1);
    wait(ref_597);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_596);
    ref_59c = bustupFade(ref_593, rgb(0,0,0), 10);
    bustupWait(ref_59c);
    bustupFree(ref_593);
    b(label_5af);
  label_5a0:
    bne(var_0, 1, label_5af);
    ref_5a1 = bustupLoad(bustup_b);
    bustupWait(ref_5a1);
    ref_5a3 = bustupAlloc(ref_5a1, left, rgb(0,0,0));
    bustupFade(ref_5a3, rgb(128,0,0), 30);
    ref_5a5 = dialogAlloc();
    ref_5a6 = msgShow(msg_86);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Itâ€™s not a casino on "This Side"...
[tab]Well... itâ€™s better that way.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_1a, 1);
    wait(ref_5a6);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_5a5);
    ref_5ab = bustupFade(ref_5a3, rgb(0,0,0), 10);
    bustupWait(ref_5ab);
    bustupFree(ref_5a3);
    b(label_5af);
  label_5af:
    b(label_5f0);
  label_5b0:
    unitFacePlayer(tatsuya);
    ref_5b1 = bustupLoad(bustup_10);
    bustupWait(ref_5b1);
    ref_5b3 = bustupAlloc(ref_5b1, right, rgb(0,0,0));
    bustupFade(ref_5b3, rgb(128,0,0), 30);
    bustupFlip(ref_5b3, true);
    ref_5b6 = dialogAlloc();
    ref_5b7 = msgShow(msg_87);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]As we speak, the world is headed towards
[tab]destruction...
[tab]I should... do this alone...
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_6, 1);
    wait(ref_5b7);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_5b6);
    ref_5bc = bustupFade(ref_5b3, rgb(0,0,0), 10);
    bustupWait(ref_5bc);
    bustupFree(ref_5b3);
    unitRestoreFacing(tatsuya);
    b(label_5f0);
  label_5c1:
    unitFacePlayer(tatsuya);
    ref_5c2 = bustupLoad(bustup_d);
    bustupWait(ref_5c2);
    ref_5c4 = bustupAlloc(ref_5c2, left, rgb(0,0,0));
    bustupFade(ref_5c4, rgb(128,0,0), 30);
    ref_5c6 = dialogAlloc();
    ref_5c7 = msgShow(msg_88);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Even now,
[tab]this world is slowly extinguishing...
[tab]We canâ€™t waste any time.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2f, 1);
    wait(ref_5c7);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_5c6);
    ref_5cc = bustupFade(ref_5c4, rgb(0,0,0), 10);
    bustupWait(ref_5cc);
    bustupFree(ref_5c4);
    unitRestoreFacing(tatsuya);
    b(label_5f0);
  label_5d1:
    unitFacePlayer(tatsuya);
    ref_5d2 = bustupLoad(bustup_b);
    bustupWait(ref_5d2);
    ref_5d4 = bustupAlloc(ref_5d2, left, rgb(0,0,0));
    bustupFade(ref_5d4, rgb(128,0,0), 30);
    ref_5d6 = dialogAlloc();
    ref_5d7 = msgShow(msg_89);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Baofu-san, you seem to be playing the slot
[tab]machine a lot... Shouldnâ€™t you be careful?
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2d, 1);
    wait(ref_5d7);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_5d6);
    ref_5dc = bustupFade(ref_5d4, rgb(0,0,0), 10);
    bustupWait(ref_5dc);
    bustupFree(ref_5d4);
    unitRestoreFacing(tatsuya);
    b(label_5f0);
  label_5e1:
    unitFacePlayer(tatsuya);
    ref_5e2 = bustupLoad(bustup_b);
    bustupWait(ref_5e2);
    ref_5e4 = bustupAlloc(ref_5e2, left, rgb(0,0,0));
    bustupFade(ref_5e4, rgb(128,0,0), 30);
    ref_5e6 = dialogAlloc();
    ref_5e7 = msgShow(msg_90);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Heâ€™s still waiting for us to
[tab]arrive even now.
[tab]Letâ€™s hurry, Maya-nee!
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2f, 1);
    wait(ref_5e7);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_5e6);
    ref_5ec = bustupFade(ref_5e4, rgb(0,0,0), 10);
    bustupWait(ref_5ec);
    bustupFree(ref_5e4);
    unitRestoreFacing(tatsuya);
  label_5f0:
    controlEnable();
}

function GYAMBURU()
{
    controlDisable();
    bitGet(var_0, MBIT_SH_S_05);
    bne(var_0, 0, label_5f6);
    b(label_603);
  label_5f6:
    bne(var_0, 1, label_603);
    bitGet(var_0, MBIT_SH_H_05);
    bne(var_0, 0, label_600);
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_5fd);
    b(label_604);
    b(label_5ff);
  label_5fd:
    bne(var_0, 1, label_5ff);
    b(label_5ff);
  label_5ff:
    b(label_602);
  label_600:
    bne(var_0, 1, label_602);
    b(label_602);
  label_602:
    b(label_603);
  label_603:
    b(label_64f);
  label_604:
    add(var_a, var_a, 1);
    boutrange(var_a, 0, 1, label_608);
    b(label_60c);
    b(label_60c);
  label_608:
    bne(var_a, 2, label_60c);
    sub(var_a, var_a, 2);
    b(label_615);
    b(label_60c);
  label_60c:
    unitFacePlayer(npc1);
    ref_60d = dialogAlloc();
    ref_60e = msgShow(msg_91);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]
[tab]Gambling is a manâ€™s dream!
[tab]Gambling is my life!!
[tab]Mmmmm... I am filled with life right now.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_60e);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_60d);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_615:
    unitFacePlayer(npc1);
    ref_616 = dialogAlloc();
    ref_617 = msgShow(msg_92);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]
[tab]Mm...? What is it?
[tab]Do you want something from me?
[tab]I will accept any kind of action.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_617);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_616);
    choiceSetResult(2);
    op_105(2);
    ref_61e = bustupLoad(bustup_1);
    bustupWait(ref_61e);
    ref_620 = bustupAlloc(ref_61e, center, rgb(0,0,0));
    bustupFade(ref_620, rgb(128,0,0), 30);
    ref_622 = dialogChoiceAlloc();
    ref_623 = msgShow(msg_93);
/***************************************
[tab]What do you need?
[choice(3)]Guess name
Talk
Nothing
[end_choice][clear]
***************************************/
    ref_624 = textInputInit();
    wait(ref_623);
    dialogFree(ref_622);
    ref_627 = bustupFade(ref_620, rgb(0,0,0), 10);
    bustupWait(ref_627);
    bustupFree(ref_620);
    wait(ref_624);
    choiceGetResult(var_0);
    bne(var_0, 0, label_62f);
    b(label_637);
    b(label_636);
  label_62f:
    bne(var_0, 1, label_633);
    unitRestoreFacing(npc1);
    b(label_64f);
    b(label_636);
  label_633:
    bne(var_0, 2, label_636);
    unitRestoreFacing(npc1);
    b(label_636);
  label_636:
    b(label_6dd);
  label_637:
    ref_637 = textInputPrompt();
    wait(ref_637);
    textInputCompare(msg_94, var_0);
    bne(var_0, 0, label_643);
    ref_63b = dialogAlloc();
    ref_63c = msgShow(msg_95);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]
[tab]What...?
[tab]Who is that.
[tab]I know no such person.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_63c);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_63b);
    unitRestoreFacing(npc1);
    b(label_64e);
  label_643:
    bne(var_0, 1, label_64e);
    ref_644 = dialogAlloc();
    ref_645 = msgShow(msg_96);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]
[tab]Argh!? H... How do you know my name...?
[tab]What? Man-search?
[tab]Is there a listing for me?
[wait][clear][color(yellow)]Gonzo Satsuma[color(white)]
[tab]Th... Then that must mean... my wife...
[tab]My gawd!! If she finds out Iâ€™ve been cominâ€™
[tab]here... sheâ€™ll beat the hell out of me again.
[wait][clear][color(yellow)]Gonzo Satsuma[color(white)]
[tab]Hey... you, I thank you for letting me know.
[tab]But, please donâ€™t tell my wife about this!
[tab]Iâ€™ll tell Shiraishi myself!
[wait][clear][color(yellow)]Gonzo Satsuma[color(white)]
[tab]Gambling is a world for men, and men only...
[tab]Women and children just donâ€™t understand.
[tab]Ha... hahahaha.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_645);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_644);
    bitSet(MBIT_SATUMA_GET);
    bitSet(MBIT_SH_HH);
    unitRestoreFacing(npc1);
    b(label_64e);
  label_64e:
    b(label_6dd);
  label_64f:
    bitGet(var_0, MBIT_KE_MU);
    bez(var_0, label_65c);
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_6ce);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_6be);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_6ae);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_69e);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_68e);
    b(label_675);
  label_65c:
    unitFacePlayer(npc1);
    ref_65d = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_662);
    msgShow(msg_97);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_665);
  label_662:
    bne(var_0, 1, label_665);
    msgShow(msg_98);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_665);
  label_665:
    ref_665 = msgShow(msg_99);
/***************************************
[tab]I heard a casino can be enjoyed here,
[tab]so Iâ€™ve come this far...
[tab]It must have been a baseless rumor.
[wait][clear]
***************************************/
    wait(ref_665);
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_66b);
    msgShow(msg_100);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_66e);
  label_66b:
    bne(var_0, 1, label_66e);
    msgShow(msg_101);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_66e);
  label_66e:
    ref_66e = msgShow(msg_102);
/***************************************
[tab]I heard you are supposed to use exclusive
[tab]coins for these games, but I donâ€™t even
[tab]see a cashier.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_66e);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_65d);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_675:
    unitFacePlayer(npc1);
    ref_676 = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_67b);
    msgShow(msg_103);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_67e);
  label_67b:
    bne(var_0, 1, label_67e);
    msgShow(msg_104);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_67e);
  label_67e:
    ref_67e = msgShow(msg_105);
/***************************************
[tab]New World Order is collecting "Kegare" from
[tab]people... Sinful humans are indeed the
[tab]perfect material to collect Kegare from...
[wait][clear]
***************************************/
    wait(ref_67e);
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_684);
    msgShow(msg_106);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_687);
  label_684:
    bne(var_0, 1, label_687);
    msgShow(msg_107);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_687);
  label_687:
    ref_687 = msgShow(msg_108);
/***************************************
[tab]Actually, "impurity" is not a proper way
[tab]to describe it. Everyone lives off greed.
[tab]To deny that is to deny life...
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_687);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_676);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_68e:
    unitFacePlayer(npc1);
    ref_68f = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_694);
    msgShow(msg_109);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_697);
  label_694:
    bne(var_0, 1, label_697);
    msgShow(msg_110);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_697);
  label_697:
    ref_697 = msgShow(msg_111);
/***************************************
[tab]As long as I seek to be the top gambler,
[tab]I must put my life on the line.
[tab]That is what a battle is all about.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_697);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_68f);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_69e:
    unitFacePlayer(npc1);
    ref_69f = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_6a4);
    msgShow(msg_112);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_6a7);
  label_6a4:
    bne(var_0, 1, label_6a7);
    msgShow(msg_113);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_6a7);
  label_6a7:
    ref_6a7 = msgShow(msg_114);
/***************************************
[tab]Sometimes, when there is confusion in
[tab]society, it is the confusion in peopleâ€™s
[tab]minds that causes chaos. I despise that.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_6a7);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_69f);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_6ae:
    unitFacePlayer(npc1);
    ref_6af = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_6b4);
    msgShow(msg_115);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_6b7);
  label_6b4:
    bne(var_0, 1, label_6b7);
    msgShow(msg_116);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_6b7);
  label_6b7:
    ref_6b7 = msgShow(msg_117);
/***************************************
[tab]I donâ€™t know what the people are making a
[tab]big deal out of right now, but that too is
[tab]caused by confusion. I have no interest.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_6b7);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6af);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_6be:
    unitFacePlayer(npc1);
    ref_6bf = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_6c4);
    msgShow(msg_118);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_6c7);
  label_6c4:
    bne(var_0, 1, label_6c7);
    msgShow(msg_119);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_6c7);
  label_6c7:
    ref_6c7 = msgShow(msg_120);
/***************************************
[tab]Will the world really cease to exist...?
[tab]You want to make a bet...?
[tab](snicker)...
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_6c7);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6bf);
    unitRestoreFacing(npc1);
    b(label_6dd);
  label_6ce:
    unitFacePlayer(npc1);
    ref_6cf = dialogAlloc();
    bitGet(var_0, MBIT_SATUMA_GET);
    bne(var_0, 0, label_6d4);
    msgShow(msg_121);
/***************************************
[color(yellow)]Inveterate gambler[color(white)]

***************************************/
    b(label_6d7);
  label_6d4:
    bne(var_0, 1, label_6d7);
    msgShow(msg_122);
/***************************************
[color(yellow)]Gonzo Satsuma[color(white)]

***************************************/
    b(label_6d7);
  label_6d7:
    ref_6d7 = msgShow(msg_123);
/***************************************
[tab]I saw a brave young girl outside. She was
[tab]using a sword and fighting against the
[tab]Tenchu Army... Whatâ€™s that going to change?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_6, 1);
    wait(ref_6d7);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_6cf);
    unitRestoreFacing(npc1);
  label_6dd:
    controlEnable();
}

function SHOPBOX()
{
    controlDisable();
    ref_6e0 = shopOverlayInit();
    unitFacePlayer(shopkeeper);
    bitGet(var_0, MBIT_MUTALKTENSH);
    bne(var_0, 0, label_6ec);
    bitGet(var_0, MBIT_AIS_26);
    bne(var_0, 0, label_6e8);
    b(label_6f5);
    b(label_6eb);
  label_6e8:
    bne(var_0, 1, label_6eb);
    b(label_71f);
    b(label_6eb);
  label_6eb:
    b(label_6f5);
  label_6ec:
    bne(var_0, 1, label_6f5);
    bitGet(var_0, MBIT_AIS_26);
    bne(var_0, 0, label_6f1);
    b(label_772);
    b(label_6f4);
  label_6f1:
    bne(var_0, 1, label_6f4);
    b(label_749);
    b(label_6f4);
  label_6f4:
    b(label_6f5);
  label_6f5:
    ref_6f5 = bustupLoad(bustup_f6);
    bustupWait(ref_6f5);
    ref_6f7 = bustupAlloc(ref_6f5, right, rgb(0,0,0));
    bustupFade(ref_6f7, rgb(128,0,0), 30);
    ref_6f9 = dialogAlloc();
    ref_6fa = msgShow(msg_124);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Welcome to the Mu Continent.
[tab]Coin and prize exchanges are
[tab]over here.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_6fa);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_6f9);
    ref_6ff = bustupFade(ref_6f7, rgb(0,0,0), 10);
    bustupWait(ref_6ff);
    bustupFree(ref_6f7);
    bitSet(MBIT_MUTALKTENSH);
    wait(ref_6e0);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_708);
    shopInventory(13, shopInventory_0);
    b(label_71d);
  label_708:
    bne(var_0, 1, label_71d);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_713);
    bitGet(var_0, EBIT_NANJOCLEAR);
    bne(var_0, 0, label_70f);
    shopInventory(13, shopInventory_2);
    b(label_712);
  label_70f:
    bne(var_0, 1, label_712);
    shopInventory(13, shopInventory_3);
    b(label_712);
  label_712:
    b(label_71c);
  label_713:
    bne(var_0, 1, label_71c);
    bitGet(var_0, EBIT_ERICLEAR);
    bne(var_0, 0, label_718);
    shopInventory(13, shopInventory_1);
    b(label_71b);
  label_718:
    bne(var_0, 1, label_71b);
    shopInventory(13, shopInventory_3);
    b(label_71b);
  label_71b:
    b(label_71c);
  label_71c:
    b(label_71d);
  label_71d:
    shopRate(100);
    b(label_79a);
  label_71f:
    ref_71f = bustupLoad(bustup_f6);
    bustupWait(ref_71f);
    ref_721 = bustupAlloc(ref_71f, right, rgb(0,0,0));
    bustupFade(ref_721, rgb(128,0,0), 30);
    ref_723 = dialogAlloc();
    ref_724 = msgShow(msg_125);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Welcome to the Mu Continent.
[tab]Coin and prize exchanges are
[tab]over here.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]...Uh... you... huh?
[tab]I feel we are very compatible...
[tab]Am I thinking weird?
[wait][clear][color(yellow)]Manager[color(white)]
[tab]It may be weird, but looks like we have
[tab]good compatibility... So Iâ€™ll have to give
[tab]you a discount.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_724);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_723);
    ref_729 = bustupFade(ref_721, rgb(0,0,0), 10);
    bustupWait(ref_729);
    bustupFree(ref_721);
    bitSet(MBIT_MUTALKTENSH);
    wait(ref_6e0);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_732);
    shopInventory(13, shopInventory_0);
    b(label_747);
  label_732:
    bne(var_0, 1, label_747);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_73d);
    bitGet(var_0, EBIT_NANJOCLEAR);
    bne(var_0, 0, label_739);
    shopInventory(13, shopInventory_2);
    b(label_73c);
  label_739:
    bne(var_0, 1, label_73c);
    shopInventory(13, shopInventory_3);
    b(label_73c);
  label_73c:
    b(label_746);
  label_73d:
    bne(var_0, 1, label_746);
    bitGet(var_0, EBIT_ERICLEAR);
    bne(var_0, 0, label_742);
    shopInventory(13, shopInventory_1);
    b(label_745);
  label_742:
    bne(var_0, 1, label_745);
    shopInventory(13, shopInventory_3);
    b(label_745);
  label_745:
    b(label_746);
  label_746:
    b(label_747);
  label_747:
    shopRate(80);
    b(label_79a);
  label_749:
    ref_749 = bustupLoad(bustup_f6);
    bustupWait(ref_749);
    ref_74b = bustupAlloc(ref_749, right, rgb(0,0,0));
    bustupFade(ref_74b, rgb(128,0,0), 30);
    ref_74d = dialogAlloc();
    ref_74e = msgShow(msg_126);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Human relations have a lot to do with
[tab]compatibility. Hey, donâ€™t ya think weâ€™re a
[tab]perfect match? So Iâ€™ll give you a discount.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_74e);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_74d);
    ref_753 = bustupFade(ref_74b, rgb(0,0,0), 10);
    bustupWait(ref_753);
    bustupFree(ref_74b);
    wait(ref_6e0);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_75b);
    shopInventory(13, shopInventory_0);
    b(label_770);
  label_75b:
    bne(var_0, 1, label_770);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_766);
    bitGet(var_0, EBIT_NANJOCLEAR);
    bne(var_0, 0, label_762);
    shopInventory(13, shopInventory_2);
    b(label_765);
  label_762:
    bne(var_0, 1, label_765);
    shopInventory(13, shopInventory_3);
    b(label_765);
  label_765:
    b(label_76f);
  label_766:
    bne(var_0, 1, label_76f);
    bitGet(var_0, EBIT_ERICLEAR);
    bne(var_0, 0, label_76b);
    shopInventory(13, shopInventory_1);
    b(label_76e);
  label_76b:
    bne(var_0, 1, label_76e);
    shopInventory(13, shopInventory_3);
    b(label_76e);
  label_76e:
    b(label_76f);
  label_76f:
    b(label_770);
  label_770:
    shopRate(80);
    b(label_79a);
  label_772:
    ref_772 = bustupLoad(bustup_f6);
    bustupWait(ref_772);
    ref_774 = bustupAlloc(ref_772, right, rgb(0,0,0));
    bustupFade(ref_774, rgb(128,0,0), 30);
    ref_776 = dialogAlloc();
    ref_777 = msgShow(msg_127);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Oh youâ€™ve come!
[tab]...So, what do you need?
[tab]I got a pretty good guess though.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_777);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_776);
    ref_77c = bustupFade(ref_774, rgb(0,0,0), 10);
    bustupWait(ref_77c);
    bustupFree(ref_774);
    wait(ref_6e0);
    bitGet(var_0, EBIT_E009F);
    bne(var_0, 0, label_784);
    shopInventory(13, shopInventory_0);
    b(label_799);
  label_784:
    bne(var_0, 1, label_799);
    bitGet(var_0, MBIT_HI_NANJOTOUJO);
    bne(var_0, 0, label_78f);
    bitGet(var_0, EBIT_NANJOCLEAR);
    bne(var_0, 0, label_78b);
    shopInventory(13, shopInventory_2);
    b(label_78e);
  label_78b:
    bne(var_0, 1, label_78e);
    shopInventory(13, shopInventory_3);
    b(label_78e);
  label_78e:
    b(label_798);
  label_78f:
    bne(var_0, 1, label_798);
    bitGet(var_0, EBIT_ERICLEAR);
    bne(var_0, 0, label_794);
    shopInventory(13, shopInventory_1);
    b(label_797);
  label_794:
    bne(var_0, 1, label_797);
    shopInventory(13, shopInventory_3);
    b(label_797);
  label_797:
    b(label_798);
  label_798:
    b(label_799);
  label_799:
    shopRate(100);
  label_79a:
    choiceSetResult(3);
    op_105(3);
    ref_79c = bustupLoad(bustup_f6);
    bustupWait(ref_79c);
    ref_79e = bustupAlloc(ref_79c, right, rgb(0,0,0));
    bustupFade(ref_79e, rgb(128,0,0), 30);
    ref_7a0 = dialogAlloc();
    ref_7a1 = msgShow(msg_128);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]So whatâ€™ll it be?
[choice(5)]Buy coins
Redeem for prizes
Talk to the manager
Never mind
Leave
[end_choice][clear]
***************************************/
    wait(ref_7a1);
    li(var_1, 0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_7a8);
    li(var_5, 0);
    b(label_7cb);
  label_7a8:
    bne(var_0, 1, label_7b5);
    li(var_5, 1);
    choiceSetResult(12);
    op_105(12);
    ref_7ac = msgShow(msg_129);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]What kind of prizes do you want?
[choice(5)][if(EBIT_SINARIOFF)]Hidden items
Redeem for items
[if_all(EBIT_SINARIOFF)]Redeem for weapons
Redeem for accessories
Redeem for cards
[end_choice][clear]
***************************************/
    wait(ref_7ac);
    choiceGetResult(var_5);
    bne(var_5, 0, label_7b2);
    li(var_5, 1000);
    b(label_7b4);
  label_7b2:
    add(var_5, var_5, 10);
    b(label_7b4);
  label_7b4:
    b(label_7cb);
  label_7b5:
    bne(var_0, 2, label_7c5);
    choiceSetResult(2);
    op_105(2);
    ref_7b8 = msgShow(msg_130);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]What do you want to talk about?
[choice(3)]Make small talk
Ask about coins and prizes
[if(EBIT_SINARIOFF)]Hidden items
[end_choice][clear]
***************************************/
    wait(ref_7b8);
    choiceGetResult(var_0);
    bne(var_0, 0, label_7be);
    li(var_5, 2);
    b(label_7c4);
  label_7be:
    bne(var_0, 1, label_7c1);
    li(var_5, 2000);
    b(label_7c4);
  label_7c1:
    bne(var_0, 2, label_7c4);
    li(var_5, 1000);
    b(label_7c4);
  label_7c4:
    b(label_7cb);
  label_7c5:
    bne(var_0, 3, label_7c8);
    li(var_5, 3);
    b(label_7cb);
  label_7c8:
    bne(var_0, 4, label_7cb);
    li(var_5, 4);
    b(label_7cb);
  label_7cb:
    dialogFree(ref_7a0);
    ref_7cc = bustupFade(ref_79e, rgb(0,0,0), 10);
    bustupWait(ref_7cc);
    bustupFree(ref_79e);
    ref_7cf = shopOpen(12);
    wait(ref_7cf);
}

function HA_SHOP_RESTART_0()
{
    ref_7d2 = bustupLoad(bustup_f6);
    bustupWait(ref_7d2);
    ref_7d4 = bustupAlloc(ref_7d2, right, rgb(0,0,0));
    bustupFade(ref_7d4, rgb(128,0,0), 30);
    choiceSetResult(3);
    op_105(3);
    ref_7d8 = dialogAlloc();
    ref_7d9 = msgShow(msg_131);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]What? You still want something?[delay(15)]
[tab]...Nah, just kidding. Whatâ€™ll it be?
[choice(5)]Buy coins
Redeem for prizes
Talk to the manager
Never mind
Leave
[end_choice][clear]
***************************************/
    wait(ref_7d9);
    li(var_1, 0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_7e0);
    li(var_5, 0);
    b(label_803);
  label_7e0:
    bne(var_0, 1, label_7ed);
    li(var_5, 1);
    choiceSetResult(12);
    op_105(12);
    ref_7e4 = msgShow(msg_132);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]What kind of prizes do you want?
[choice(5)][if(EBIT_SINARIOFF)]Hidden items
Redeem for items
[if_all(EBIT_SINARIOFF)]Redeem for weapons
Redeem for accessories
Redeem for cards
[end_choice][clear]
***************************************/
    wait(ref_7e4);
    choiceGetResult(var_5);
    bne(var_5, 0, label_7ea);
    li(var_5, 1000);
    b(label_7ec);
  label_7ea:
    add(var_5, var_5, 10);
    b(label_7ec);
  label_7ec:
    b(label_803);
  label_7ed:
    bne(var_0, 2, label_7fd);
    choiceSetResult(2);
    op_105(2);
    ref_7f0 = msgShow(msg_133);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]What do you want to talk about?
[choice(3)]Make small talk
Ask about coins and prizes
[if(EBIT_SINARIOFF)]Hidden items
[end_choice][clear]
***************************************/
    wait(ref_7f0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_7f6);
    li(var_5, 2);
    b(label_7fc);
  label_7f6:
    bne(var_0, 1, label_7f9);
    li(var_5, 2000);
    b(label_7fc);
  label_7f9:
    bne(var_0, 2, label_7fc);
    li(var_5, 1000);
    b(label_7fc);
  label_7fc:
    b(label_803);
  label_7fd:
    bne(var_0, 3, label_800);
    li(var_5, 3);
    b(label_803);
  label_800:
    bne(var_0, 4, label_803);
    li(var_5, 4);
    b(label_803);
  label_803:
    dialogFree(ref_7d8);
    ref_804 = bustupFade(ref_7d4, rgb(0,0,0), 10);
    bustupWait(ref_804);
    bustupFree(ref_7d4);
}

function HA_SHOP_TALK_0()
{
    bitGet(var_0, MBIT_KI_DEVIL5);
    bne(var_0, 0, label_80b);
    b(label_824);
  label_80b:
    bne(var_0, 1, label_824);
    bitGet(var_0, MBIT_MUSSI_TANEAKA);
    bne(var_0, 0, label_821);
    ref_80e = bustupLoad(bustup_f6);
    bustupWait(ref_80e);
    ref_810 = bustupAlloc(ref_80e, right, rgb(0,0,0));
    bustupFade(ref_810, rgb(128,0,0), 30);
    ref_812 = dialogAlloc();
    ref_813 = msgShow(msg_134);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]...What? Back here? Mussie?
[tab]Oh that, itâ€™s just a paper cut out.
[tab]For decoration.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_813);
    ref_816 = msgShow(msg_135);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Well made, isnâ€™t it?
[tab]If a child saw it, it would cry, right?
[tab]...Or is that saying too much?
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_816);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_812);
    ref_81b = bustupFade(ref_810, rgb(0,0,0), 10);
    bustupWait(ref_81b);
    bustupFree(ref_810);
    bitSet(MBIT_MUSSI_TANEAKA);
    b(label_89d);
    b(label_823);
  label_821:
    bne(var_0, 1, label_823);
    b(label_823);
  label_823:
    b(label_824);
  label_824:
    bitGet(var_0, MBIT_KI_DEVIL9);
    bne(var_0, 0, label_827);
    b(label_840);
  label_827:
    bne(var_0, 1, label_840);
    bitGet(var_0, MBIT_TAXI_TANEAKA);
    bne(var_0, 0, label_83d);
    ref_82a = bustupLoad(bustup_f6);
    bustupWait(ref_82a);
    ref_82c = bustupAlloc(ref_82a, right, rgb(0,0,0));
    bustupFade(ref_82c, rgb(128,0,0), 30);
    ref_82e = dialogAlloc();
    ref_82f = msgShow(msg_136);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Huh? ...Whatâ€™s a "Cursed Taxi"?
[tab]That accident that killed some people?
[tab]I donâ€™t know anything about it.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_82f);
    ref_832 = msgShow(msg_137);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Youâ€™re probably thinking of a taxi that
[tab]crashed near that road before...
[tab]How could a car run indoors anyway?
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_832);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_82e);
    ref_837 = bustupFade(ref_82c, rgb(0,0,0), 10);
    bustupWait(ref_837);
    bustupFree(ref_82c);
    bitSet(MBIT_TAXI_TANEAKA);
    b(label_89d);
    b(label_83f);
  label_83d:
    bne(var_0, 1, label_83f);
    b(label_83f);
  label_83f:
    b(label_840);
  label_840:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_890);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_882);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_874);
    bitGet(var_0, EBIT_E008C);
    bnz(var_0, label_866);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_858);
    ref_84a = bustupLoad(bustup_f6);
    bustupWait(ref_84a);
    ref_84c = bustupAlloc(ref_84a, right, rgb(0,0,0));
    bustupFade(ref_84c, rgb(128,0,0), 30);
    ref_84e = dialogAlloc();
    ref_84f = msgShow(msg_138);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]The couple that was back there went to the
[tab]Seminar. Well... they can go if they want,
[tab]but I wonâ€™t. Iâ€™m still working right now.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_84f);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_84e);
    ref_854 = bustupFade(ref_84c, rgb(0,0,0), 10);
    bustupWait(ref_854);
    bustupFree(ref_84c);
    b(label_89d);
  label_858:
    ref_858 = bustupLoad(bustup_f6);
    bustupWait(ref_858);
    ref_85a = bustupAlloc(ref_858, right, rgb(0,0,0));
    bustupFade(ref_85a, rgb(128,0,0), 30);
    ref_85c = dialogAlloc();
    ref_85d = msgShow(msg_139);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]The legend of Torifune and New World Order...
[tab]This city is so lively...
[tab]So is this place though.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_85d);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_85c);
    ref_862 = bustupFade(ref_85a, rgb(0,0,0), 10);
    bustupWait(ref_862);
    bustupFree(ref_85a);
    b(label_89d);
  label_866:
    ref_866 = bustupLoad(bustup_f6);
    bustupWait(ref_866);
    ref_868 = bustupAlloc(ref_866, right, rgb(0,0,0));
    bustupFade(ref_868, rgb(128,0,0), 30);
    ref_86a = dialogAlloc();
    ref_86b = msgShow(msg_140);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Is it true Wang Long is going to destroy the world...? 
[tab]Wang Long is fortune telling, right? 
[tab]How can it do anything to the world?
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_86b);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_86a);
    ref_870 = bustupFade(ref_868, rgb(0,0,0), 10);
    bustupWait(ref_870);
    bustupFree(ref_868);
    b(label_89d);
  label_874:
    ref_874 = bustupLoad(bustup_f6);
    bustupWait(ref_874);
    ref_876 = bustupAlloc(ref_874, right, rgb(0,0,0));
    bustupFade(ref_876, rgb(128,0,0), 30);
    ref_878 = dialogAlloc();
    ref_879 = msgShow(msg_141);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]I heard this rumor... Iâ€™m in really depressed
[tab]mode now. Itâ€™s nothing major, but it seems
[tab]they are digging the Torifune at Narumi.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]Is the rumor of the destruction true too?
[tab]Being saved by riding the Torifune sounds
[tab]a little fishy... I donâ€™t like it.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_879);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_878);
    ref_87e = bustupFade(ref_876, rgb(0,0,0), 10);
    bustupWait(ref_87e);
    bustupFree(ref_876);
    b(label_89d);
  label_882:
    ref_882 = bustupLoad(bustup_f6);
    bustupWait(ref_882);
    ref_884 = bustupAlloc(ref_882, right, rgb(0,0,0));
    bustupFade(ref_884, rgb(128,0,0), 30);
    ref_886 = dialogAlloc();
    ref_887 = msgShow(msg_142);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Have you ever had a dream about the city
[tab]flying in the air? ...No right? Even if so,
[tab]itâ€™s just a dream... But it was flying...
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_887);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_886);
    ref_88c = bustupFade(ref_884, rgb(0,0,0), 10);
    bustupWait(ref_88c);
    bustupFree(ref_884);
    b(label_89d);
  label_890:
    ref_890 = bustupLoad(bustup_f6);
    bustupWait(ref_890);
    ref_892 = bustupAlloc(ref_890, right, rgb(0,0,0));
    bustupFade(ref_892, rgb(128,0,0), 30);
    ref_894 = dialogAlloc();
    ref_895 = msgShow(msg_143);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]I wear glasses,
[tab]but my eyesight is rather good.
[tab]I was looking at the sky... then I saw...
[wait][clear][color(yellow)]Manager[color(white)]
[tab]It was a road. Not just a road, it was a
[tab]road in the sky, like a maze...
[tab]Itâ€™s true, itâ€™s true, believe me!
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_895);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    dialogFree(ref_894);
    ref_89a = bustupFade(ref_892, rgb(0,0,0), 10);
    bustupWait(ref_89a);
    bustupFree(ref_892);
  label_89d:
}

function HA_SHOP_END_0()
{
    ref_89e = bustupLoad(bustup_f6);
    bustupWait(ref_89e);
    ref_8a0 = bustupAlloc(ref_89e, right, rgb(0,0,0));
    bustupFade(ref_8a0, rgb(128,0,0), 30);
    ref_8a2 = dialogAlloc();
    ref_8a3 = msgShow(msg_144);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Iâ€™m sure youâ€™ve got other things to do,
[tab]but come here again.
[tab]Iâ€™ll treat you right.
[wait][clear]
***************************************/
    unitAnimationPlay(shopkeeper, animation_21, 1);
    wait(ref_8a3);
    unitAnimationPlay(shopkeeper, animation_0, 1);
    shopOverlayInit();
    dialogFree(ref_8a2);
    ref_8a9 = bustupFade(ref_8a0, rgb(0,0,0), 10);
    bustupWait(ref_8a9);
    bustupFree(ref_8a0);
    bitGet(var_0, MBIT_EXITBIT);
    bne(var_0, 0, label_8b1);
    unitRestoreFacing(shopkeeper);
    controlEnable();
    b(label_8b4);
  label_8b1:
    bne(var_0, 1, label_8b4);
    call(EXITBOX);
    b(label_8b4);
  label_8b4:
}

function MODERU()
{
  label_8b5:
    objAnimRotate(obj_4, 0, 0, 360, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 360, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 360, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 360, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 270, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 180, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 90, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 45, 60, 0);
    objAnimWait(obj_4);
    delayClear();
    delayWait(240);
    objAnimRotate(obj_4, 0, 0, 45, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 90, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 180, 60, 0);
    objAnimWait(obj_4);
    objAnimRotate(obj_4, 0, 0, 270, 60, 0);
    objAnimWait(obj_4);
    b(label_8b5);
}

function BLACK()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bne(var_0, 0, label_8d9);
    ref_8d4 = dialogAlloc();
    ref_8d5 = msgShow(msg_145);
/***************************************
[color(yellow)]Game Table[color(green)]
[tab]This is a Blackjack table...[color(white)][wait][clear]
***************************************/
    wait(ref_8d5);
    dialogFree(ref_8d4);
    b(label_8ec);
  label_8d9:
    bne(var_0, 1, label_8ec);
    shopCurrencyType(9, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    choiceSetResult(1);
    op_105(1);
    ref_8de = dialogChoiceAlloc();
    ref_8df = msgShow(msg_146);
/***************************************
[color(green)]>Blackjack
[tab][color(green)]Play the "Join Forces" machine?[color(white)]
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_8df);
    dialogFree(ref_8de);
    shopCurrencyDisplay(-110, 150, true);
    choiceGetResult(var_0);
    bne(var_0, 0, label_8e9);
    ref_8e5 = casinoGameLoad(blackjack);
    wait(ref_8e5);
    casinoGamePlay();
    b(label_8eb);
  label_8e9:
    bne(var_0, 1, label_8eb);
    b(label_8eb);
  label_8eb:
    b(label_8ec);
  label_8ec:
    controlEnable();
}

function BINGO()
{
    controlDisable();
    bitGet(var_0, MBIT_KE_MU);
    bne(var_0, 0, label_8f6);
    ref_8f1 = dialogAlloc();
    ref_8f2 = msgShow(msg_147);
/***************************************
[color(yellow)]Game Machine[color(green)]
[tab]This is a Bingo machine...[color(white)][wait][clear]
***************************************/
    wait(ref_8f2);
    dialogFree(ref_8f1);
    b(label_909);
  label_8f6:
    bne(var_0, 1, label_909);
    shopCurrencyType(9, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    choiceSetResult(1);
    op_105(1);
    ref_8fb = dialogChoiceAlloc();
    ref_8fc = msgShow(msg_148);
/***************************************
[color(green)]>Bingo
[tab][color(green)]Play the "Fortuneâ€™s Reel" bingo game?[color(white)]
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_8fc);
    dialogFree(ref_8fb);
    shopCurrencyDisplay(-110, 150, true);
    choiceGetResult(var_0);
    bne(var_0, 0, label_906);
    ref_902 = casinoGameLoad(bingo);
    wait(ref_902);
    casinoGamePlay();
    b(label_908);
  label_906:
    bne(var_0, 1, label_908);
    b(label_908);
  label_908:
    b(label_909);
  label_909:
    controlEnable();
}

function POKER01()
{
    li(var_1, 1);
    call(POKER_ALL);
}

function POKER02()
{
    li(var_1, 2);
    call(POKER_ALL);
}

function POKER03()
{
    li(var_1, 3);
    call(POKER_ALL);
}

function POKER04()
{
    li(var_1, 4);
    call(POKER_ALL);
}

function POKER05()
{
    li(var_1, 5);
    call(POKER_ALL);
}

function POKER06()
{
    li(var_1, 6);
    call(POKER_ALL);
}

function POKER07()
{
    li(var_1, 7);
    call(POKER_ALL);
}

function POKER08()
{
    li(var_1, 8);
    call(POKER_ALL);
}

function POKER09()
{
    li(var_1, 9);
    call(POKER_ALL);
}

function POKER10()
{
    li(var_1, 10);
    call(POKER_ALL);
}

function POKER_ALL()
{
    controlDisable();
    msgVar_Number(msgvar_0, var_1);
    bitGet(var_0, MBIT_KE_MU);
    bne(var_0, 0, label_932);
    ref_92d = dialogAlloc();
    ref_92e = msgShow(msg_149);
/***************************************
[color(yellow)]Game Machine[color(green)]
[tab]This is Poker machine No. [var(msg_var_0)]...[color(white)]
[wait][clear]
***************************************/
    wait(ref_92e);
    dialogFree(ref_92d);
    b(label_964);
  label_932:
    bne(var_0, 1, label_964);
    shopCurrencyType(9, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    choiceSetResult(1);
    op_105(1);
    ref_937 = dialogChoiceAlloc();
    ref_938 = msgShow(msg_150);
/***************************************
[color(green)]>Poker
[tab][color(green)]Play Wild 9 machine #[var(msg_var_0)]?[color(white)]
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_938);
    dialogFree(ref_937);
    shopCurrencyDisplay(-110, 150, true);
    choiceGetResult(var_0);
    bne(var_0, 0, label_961);
    ref_93e = casinoGameLoad(poker);
    wait(ref_93e);
    bne(var_1, 1, label_943);
    casinoGameMachine(1);
    b(label_95f);
  label_943:
    bne(var_1, 2, label_946);
    casinoGameMachine(2);
    b(label_95f);
  label_946:
    bne(var_1, 3, label_949);
    casinoGameMachine(3);
    b(label_95f);
  label_949:
    bne(var_1, 4, label_94c);
    casinoGameMachine(4);
    b(label_95f);
  label_94c:
    bne(var_1, 5, label_94f);
    casinoGameMachine(5);
    b(label_95f);
  label_94f:
    bne(var_1, 6, label_952);
    casinoGameMachine(6);
    b(label_95f);
  label_952:
    bne(var_1, 7, label_955);
    casinoGameMachine(7);
    b(label_95f);
  label_955:
    bne(var_1, 8, label_958);
    casinoGameMachine(8);
    b(label_95f);
  label_958:
    bne(var_1, 9, label_95b);
    casinoGameMachine(9);
    b(label_95f);
  label_95b:
    bne(var_1, 10, label_95e);
    casinoGameMachine(10);
    b(label_95f);
  label_95e:
    b(label_95f);
  label_95f:
    casinoGamePlay();
    b(label_963);
  label_961:
    bne(var_0, 1, label_963);
    b(label_963);
  label_963:
    b(label_964);
  label_964:
    li(var_1, 0);
    li(var_0, 0);
    controlEnable();
}

function SUROTTO01()
{
    li(var_1, 1);
    call(SUROTTO_ALL);
}

function SUROTTO02()
{
    li(var_1, 2);
    call(SUROTTO_ALL);
}

function SUROTTO03()
{
    li(var_1, 3);
    call(SUROTTO_ALL);
}

function SUROTTO04()
{
    li(var_1, 4);
    call(SUROTTO_ALL);
}

function SUROTTO05()
{
    li(var_1, 5);
    call(SUROTTO_ALL);
}

function SUROTTO06()
{
    li(var_1, 6);
    call(SUROTTO_ALL);
}

function SUROTTO07()
{
    li(var_1, 7);
    call(SUROTTO_ALL);
}

function SUROTTO08()
{
    li(var_1, 8);
    call(SUROTTO_ALL);
}

function SUROTTO_ALL()
{
    controlDisable();
    msgVar_Number(msgvar_0, var_1);
    bitGet(var_0, MBIT_KE_MU);
    bne(var_0, 0, label_989);
    ref_984 = dialogAlloc();
    ref_985 = msgShow(msg_151);
/***************************************
[color(yellow)]Game Machine[color(green)]
[tab]This is Slot machine No. [var(msg_var_0)]...[color(white)]
[wait][clear]
***************************************/
    wait(ref_985);
    dialogFree(ref_984);
    b(label_9b4);
  label_989:
    bne(var_0, 1, label_9b4);
    shopCurrencyType(9, -110, 150);
    shopCurrencyDisplay(13, 150, false);
    choiceSetResult(1);
    op_105(1);
    ref_98e = dialogChoiceAlloc();
    ref_98f = msgShow(msg_152);
/***************************************
[color(green)]>Slot machine
[tab][color(green)]Play Arouse Blank machine #[var(msg_var_0)]?[color(white)]
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_98f);
    dialogFree(ref_98e);
    shopCurrencyDisplay(-110, 150, true);
    choiceGetResult(var_0);
    bne(var_0, 0, label_9b1);
    ref_995 = casinoGameLoad(slots);
    wait(ref_995);
    bne(var_1, 1, label_99a);
    casinoGameMachine(1);
    b(label_9af);
  label_99a:
    bne(var_1, 2, label_99d);
    casinoGameMachine(2);
    b(label_9af);
  label_99d:
    bne(var_1, 3, label_9a0);
    casinoGameMachine(3);
    b(label_9af);
  label_9a0:
    bne(var_1, 4, label_9a3);
    casinoGameMachine(4);
    b(label_9af);
  label_9a3:
    bne(var_1, 5, label_9a6);
    casinoGameMachine(5);
    b(label_9af);
  label_9a6:
    bne(var_1, 6, label_9a9);
    casinoGameMachine(6);
    b(label_9af);
  label_9a9:
    bne(var_1, 7, label_9ac);
    casinoGameMachine(7);
    b(label_9af);
  label_9ac:
    bne(var_1, 8, label_9af);
    casinoGameMachine(8);
    b(label_9af);
  label_9af:
    casinoGamePlay();
    b(label_9b3);
  label_9b1:
    bne(var_0, 1, label_9b3);
    b(label_9b3);
  label_9b3:
    b(label_9b4);
  label_9b4:
    li(var_1, 0);
    li(var_0, 0);
    controlEnable();
}

function DENGENOFF()
{
    controlDisable();
    ref_9b9 = dialogAlloc();
    ref_9ba = msgShow(msg_153);
/***************************************
[color(green)]The switch is not on.[color(white)][wait][clear]
***************************************/
    wait(ref_9ba);
    dialogFree(ref_9b9);
    controlEnable();
}

function GOTODANG()
{
    controlDisable();
    bitGet(var_0, MBIT_MUCLE_R1);
    bne(var_0, 0, label_9ca);
    bitSet(MBIT_MUCHARER_1);
    bitClear(MBIT_DUN_M_TRI);
    bitSet(MBIT_DUN_M_KEIB);
    bitClear(MBIT_DUN_KYE_01);
    bitSet(EBIT_NOSAVE_B);
    timerSet(600, event_88);
    dngLoad2(mu_continent-0);
    b(label_9d3);
  label_9ca:
    bne(var_0, 1, label_9d3);
    bitSet(MBIT_MUCHARER_2);
    bitClear(MBIT_DUN_M_KEIB);
    bitSet(MBIT_DUN_M_TRI);
    bitClear(MBIT_DUN_KYE_01);
    bitSet(EBIT_NOSAVE_B);
    timerSet(600, event_88);
    dngLoad2(mu_continent-0);
    b(label_9d3);
  label_9d3:
}

function HAZIKIDO()
{
    controlDisable();
    ref_9d5 = dialogAlloc();
    ref_9d6 = msgShow(msg_154);
/***************************************
[color(green)]It is locked.[color(white)][wait][clear]
***************************************/
    wait(ref_9d6);
    dialogFree(ref_9d5);
    controlEnable();
}

function TESTBOX()
{
    b(label_a06);
    controlDisable();
    choiceSetResult(4);
    op_105(4);
    ref_9df = dialogChoiceAlloc();
    ref_9e0 = msgShow(msg_155);
/***************************************
Choose!!
[choice(5)]Casino
R1
R2
Rewards
Go through
[end_choice][clear]
***************************************/
    wait(ref_9e0);
    dialogFree(ref_9df);
    choiceGetResult(var_0);
    bne(var_0, 0, label_9ed);
    bitSet(MBIT_KE_MU);
    bitGet(var_0, MBIT_KE_MU);
    msgVar_Number(msgvar_5, var_0);
    ref_9e8 = dialogAlloc();
    ref_9e9 = msgShow(msg_156);
/***************************************
[var(msg_var_5)][wait][clear]
***************************************/
    wait(ref_9e9);
    dialogFree(ref_9e8);
    b(label_a05);
  label_9ed:
    bne(var_0, 1, label_9f6);
    bitSet(MBIT_HI_DEVIL5);
    bitGet(var_0, MBIT_HI_DEVIL5);
    msgVar_Number(msgvar_5, var_0);
    ref_9f1 = dialogAlloc();
    ref_9f2 = msgShow(msg_157);
/***************************************
[var(msg_var_5)][wait][clear]
***************************************/
    wait(ref_9f2);
    dialogFree(ref_9f1);
    b(label_a05);
  label_9f6:
    bne(var_0, 2, label_9ff);
    bitSet(MBIT_HI_DEVIL9);
    bitGet(var_0, MBIT_HI_DEVIL9);
    msgVar_Number(msgvar_5, var_0);
    ref_9fa = dialogAlloc();
    ref_9fb = msgShow(msg_158);
/***************************************
[var(msg_var_5)][wait][clear]
***************************************/
    wait(ref_9fb);
    dialogFree(ref_9fa);
    b(label_a05);
  label_9ff:
    bne(var_0, 3, label_a03);
    bitSet(LBIT_0000);
    bitSet(MBIT_MUCHARER_2);
    b(label_a05);
  label_a03:
    bne(var_0, 4, label_a05);
    b(label_a05);
  label_a05:
    controlEnable();
  label_a06:
}

function HA_SHOP_EXPLAIN_0()
{
    ref_a07 = dialogAlloc();
    ref_a08 = msgShow(msg_159);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]First off, we use coins for most things.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]Talk to me and select "Buy coins" and Iâ€™ll
[tab]give you coins to play the games in exchange
[tab]for cash.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]But it only works one way. You canâ€™t exchange
[tab]coins for money.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]What you can do is redeem them for prizes.
[tab]Talk to me and select "Redeem for prizes"
[tab]when you want to do that.
[wait][clear][color(yellow)]Manager[color(white)]
[tab]You can only spend the coins you win here
[tab]on our prizes, so Iâ€™d advise you to use
[tab]them well.
[wait][clear]
***************************************/
    wait(ref_a08);
    dialogFree(ref_a07);
}

function KEIBIIN()
{
    controlDisable();
    bitGet(var_0, EBIT_E007B);
    bne(var_0, 0, label_a18);
    unitFacePlayer(npc5);
    ref_a10 = dialogAlloc();
    ref_a11 = msgShow(msg_160);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]I am still working. Please donâ€™t interrupt.
[tab]Please avoid causing any scenes in the
[tab]store... It makes for a hassle afterwards.
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a11);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a10);
    unitRestoreFacing(npc5);
    b(label_a60);
  label_a18:
    bne(var_0, 1, label_a60);
    bitGet(var_0, MBIT_KI_DEVIL5);
    bne(var_0, 0, label_a2b);
    unitFacePlayer(npc5);
    ref_a1c = dialogAlloc();
    ref_a1d = msgShow(msg_161);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]I was watching the back...
[tab]when I saw a terrible monster.
[tab]Is that [color(orange)]Mu Continent[color(white)]â€™s master...[color(orange)]Mussie[color(white)]!?
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a1d);
    ref_a20 = msgShow(msg_162);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]With a thing like that around, I canâ€™t even work! 
[tab]If something happens, I have to write a report... 
[tab]Anyway, somebody do something!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a20);
    ref_a23 = msgShow(msg_163);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]If possible...!! I would like some proof.
[tab]Iâ€™m sure no one will believe just a report.
[tab]Someone! Please!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a23);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a1c);
    unitRestoreFacing(npc5);
    bitSet(MBIT_KI_DEVIL5);
    b(label_a5f);
  label_a2b:
    bne(var_0, 1, label_a5f);
    bitGet(var_0, MBIT_MUSSI_OREIGET);
    bne(var_0, 0, label_a54);
    bitGet(var_0, IBIT_RUMOR_KIBA);
    bne(var_0, 0, label_a39);
    unitFacePlayer(npc5);
    ref_a31 = dialogAlloc();
    ref_a32 = msgShow(msg_164);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]I saw it with these eyes!
[tab]That IS Mu Continentâ€™s master...
[tab]Mussie!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a32);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a31);
    unitRestoreFacing(npc5);
    b(label_a53);
  label_a39:
    bne(var_0, 1, label_a53);
    unitFacePlayer(npc5);
    ref_a3b = dialogAlloc();
    ref_a3c = msgShow(msg_165);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]What, is this...?
[tab]A dinosaur fossil?
[tab]...Huh, Mussieâ€™s fang!?
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a3c);
    ref_a3f = msgShow(msg_166);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]You defeated that monster...!?
[tab]Thank you! Thank you very much!
[tab]Now I can work without worry!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a3f);
    ref_a42 = msgShow(msg_167);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]...You may not need it but, take this...
[tab]Itâ€™s a token of my appreciation.
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a42);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a3b);
    delayClear();
    delayWait(30);
    msgVarSet(msgvar_1, 168);
    ref_a4a = dialogAlloc();
    ref_a4b = msgShow(msg_168);
/***************************************
[color(green)]Maya got [item_with_type(item_fffe)][color(white)].
[wait][clear]
***************************************/
    wait(ref_a4b);
    dialogFree(ref_a4a);
    unitRestoreFacing(npc5);
    partyItemAdd(agility_source, 1);
    bitClear(IBIT_RUMOR_KIBA);
    bitSet(MBIT_MUSSI_OREIGET);
    b(label_a53);
  label_a53:
    b(label_a5e);
  label_a54:
    bne(var_0, 1, label_a5e);
    unitFacePlayer(npc5);
    ref_a56 = dialogAlloc();
    ref_a57 = msgShow(msg_169);
/***************************************
[color(yellow)]Security guard[color(white)]
[tab]Mussie didnâ€™t cause any incidents...
[tab]Huh, what was I expecting? Itâ€™s best that
[tab]nothing happened! No need for a report.
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a57);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a56);
    unitRestoreFacing(npc5);
    b(label_a5e);
  label_a5e:
    b(label_a5f);
  label_a5f:
    b(label_a60);
  label_a60:
    controlEnable();
}

function KEKEKE()
{
    controlDisable();
    bitGet(var_0, MBIT_KI_DEVIL9);
    bne(var_0, 0, label_a7b);
    unitFacePlayer(npc5);
    ref_a66 = dialogAlloc();
    ref_a67 = msgShow(msg_170);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]...Nice to meet you. I am Fuyuko Tsukikage.
[tab]A horror girl who goes to Sevens...[delay(15)]
[tab]KEKEKE... Is this really your first time?
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a67);
    ref_a6a = msgShow(msg_171);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]...Oh well... did you know?
[tab]A few months ago, a taxi ran into
[tab]Mu Continent and killed several people...
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a6a);
    ref_a6d = msgShow(msg_172);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]That is probably the work of the
[tab][color(orange)]Cursed Taxi[color(white)]...
[tab]It may be on this [color(orange)]Mu Continent[color(white)] even now.
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a6d);
    ref_a70 = msgShow(msg_173);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]What for? [delay(15)]KEKEKE...[delay(15)]
[tab]To run over and kill humans!
[tab]Thatâ€™s the Cursed Taxi![delay(15)] KEKEKEKE!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a70);
    ref_a73 = msgShow(msg_174);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]I would like to get some proof and send it
[tab]to my favorite magazine, "May"...
[tab]If I have proof, itâ€™ll surely be published...
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a73);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a66);
    unitRestoreFacing(npc5);
    bitSet(MBIT_KI_DEVIL9);
    b(label_aaf);
  label_a7b:
    bne(var_0, 1, label_aaf);
    bitGet(var_0, MBIT_TAXI_OREIGET);
    bne(var_0, 0, label_aa4);
    bitGet(var_0, IBIT_RUMOR_TAXIH);
    bne(var_0, 0, label_a89);
    unitFacePlayer(npc5);
    ref_a81 = dialogAlloc();
    ref_a82 = msgShow(msg_175);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]The incident had to be caused by that taxi.
[tab]I can feel it... the Cursed Taxi is here in
[tab]Mu Continent right now! [delay(15)]KEKEKEKE!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a82);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a81);
    unitRestoreFacing(npc5);
    b(label_aa3);
  label_a89:
    bne(var_0, 1, label_aa3);
    unitFacePlayer(npc5);
    ref_a8b = dialogAlloc();
    ref_a8c = msgShow(msg_176);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]Aah! That thing you have!
[tab]Itâ€™s proof of the Cursed Taxi...[delay(15)]
[tab]Huh...? [delay(15)]This is just a [delay(15)]Taxi-driver cap?
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a8c);
    ref_a8f = msgShow(msg_177);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]I thought it was a sailorâ€™s cap...
[tab]Oh well, this is solid proof of the
[tab]Cursed Taxiâ€™s existence!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a8f);
    ref_a92 = msgShow(msg_178);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]Here, this is a reward.
[tab]Thank you, [delay(15)]Auntie!
[tab][delay(30)]KEKEKEKEKE!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_a92);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_a8b);
    delayClear();
    delayWait(30);
    msgVarSet(msgvar_1, 91);
    ref_a9a = dialogAlloc();
    ref_a9b = msgShow(msg_179);
/***************************************
[color(green)]Maya got [item_with_type(item_fffe)][color(white)].
[wait][clear]
***************************************/
    wait(ref_a9b);
    dialogFree(ref_a9a);
    unitRestoreFacing(npc5);
    partyItemAdd(akashic_ring, 1);
    bitClear(IBIT_RUMOR_TAXIH);
    bitSet(MBIT_TAXI_OREIGET);
    b(label_aa3);
  label_aa3:
    b(label_aae);
  label_aa4:
    bne(var_0, 1, label_aae);
    unitFacePlayer(npc5);
    ref_aa6 = dialogAlloc();
    ref_aa7 = msgShow(msg_180);
/***************************************
[color(yellow)]Fuyuko[color(white)]
[tab]KEKEKE, now I can send in about the
[tab]Cursed Taxi to "May"...
[tab]Now I am a true Mayian...[delay(15)]KEKEKEKEKE!
[wait][clear]
***************************************/
    unitAnimationPlay(npc5, animation_24, 1);
    wait(ref_aa7);
    unitAnimationPlay(npc5, animation_0, 1);
    dialogFree(ref_aa6);
    unitRestoreFacing(npc5);
    b(label_aae);
  label_aae:
    b(label_aaf);
  label_aaf:
    controlEnable();
}

function SEBLL_MAX()
{
}

function DECIDE_BUY()
{
    msgVar_Number(msgvar_0, var_6);
    unitFacePlayer(shopkeeper);
    ref_ab4 = bustupLoad(bustup_f6);
    bustupWait(ref_ab4);
    ref_ab6 = bustupAlloc(ref_ab4, right, rgb(0,0,0));
    bustupFade(ref_ab6, rgb(128,0,0), 30);
    ref_ab8 = dialogAlloc();
    choiceSetResult(1);
    op_105(1);
    ref_abb = msgShow(msg_181);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Thatâ€™ll be Â¥[var(msg_var_0)]. Is that okay?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_abb);
    choiceGetResult(var_7);
    bne(var_7, 0, label_ac2);
    sndMusicPlay(sound_3038, 127);
    li(var_7, 1);
    b(label_ac5);
  label_ac2:
    bne(var_7, 1, label_ac5);
    li(var_7, 0);
    b(label_ac5);
  label_ac5:
    wait(ref_abb);
    dialogFree(ref_ab8);
    ref_ac7 = bustupFade(ref_ab6, rgb(0,0,0), 10);
    bustupWait(ref_ac7);
    bustupFree(ref_ab6);
    li(var_5, 20);
}

function DECIDE_TRADE()
{
    msgVar_Number(msgvar_0, var_6);
    unitFacePlayer(shopkeeper);
    ref_ace = bustupLoad(bustup_f6);
    bustupWait(ref_ace);
    ref_ad0 = bustupAlloc(ref_ace, right, rgb(0,0,0));
    bustupFade(ref_ad0, rgb(128,0,0), 30);
    ref_ad2 = dialogAlloc();
    choiceSetResult(1);
    op_105(1);
    ref_ad5 = msgShow(msg_182);
/***************************************
[color(yellow)]Manager[color(white)]
[tab]Thatâ€™ll be [var(msg_var_0)] coins. Is that okay?
[choice(2)]Yes
No
[end_choice][clear]
***************************************/
    wait(ref_ad5);
    choiceGetResult(var_7);
    bne(var_7, 0, label_adc);
    sndMusicPlay(sound_3039, 127);
    li(var_7, 1);
    b(label_adf);
  label_adc:
    bne(var_7, 1, label_adf);
    li(var_7, 0);
    b(label_adf);
  label_adf:
    wait(ref_ad5);
    ref_ae0 = bustupFade(ref_ad0, rgb(0,0,0), 10);
    bustupWait(ref_ae0);
    bustupFree(ref_ad0);
    dialogFree(ref_ad2);
    li(var_5, 20);
}
