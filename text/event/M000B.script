function START()
{
    screenEffectInit();
    screenFade(160, 120, rgb(255,255,255), rgb(255,255,255), sub);
    objCollisionLink(circle, coll_1, obj_23);
    objVisible(obj_23, false);
    objVisible(obj_24, false);
    objVisible(obj_25, false);
    sndMusicPlay(sound_3034, 127);
    objVisible(obj_3, false);
    objVisible(obj_11, false);
    objVisible(obj_12, false);
    envTriggerSet(EXITBOX, 131, 2, line, coll_3b);
    unknownVar2(var_0);
    bne(var_0, 0, label_e);
    b(label_1b);
  label_e:
    bne(var_0, 1, label_1b);
    unknownVar1(var_0);
    bne(var_0, 4873, label_19);
    bitGet(var_0, MBIT_MODORINYARU);
    bne(var_0, 0, label_16);
    call(NYARUWARP);
    b(label_cc);
    b(label_18);
  label_16:
    bne(var_0, 1, label_18);
    b(label_18);
  label_18:
    b(label_1a);
  label_19:
    b(label_1a);
  label_1a:
    b(label_1b);
  label_1b:
    bitGet(var_0, MBIT_MODORINYARU);
    bne(var_0, 0, label_1e);
    b(label_21);
  label_1e:
    bne(var_0, 1, label_21);
    envTriggerSet(WARPBOX, 56, 1, line, coll_3a);
    b(label_21);
  label_21:
    li(var_0, 0);
    partyMemberCheck(var_0, ulala);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, katsuya);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, baofu);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, nanjo);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, elly);
    add(var_1, var_1, var_0);
    partyMemberCheck(var_0, tatsuya);
    add(var_1, var_1, var_0);
    boutrange(var_1, 0, 4, label_31);
    li(var_0, 0);
    b(label_36);
  label_31:
    ref_31 = dialogAlloc();
    ref_32 = msgShow(msg_0);
/***************************************
There’s more than four in party.
It will hang.
[wait][clear]
***************************************/
    wait(ref_32);
    dialogFree(ref_31);
    b(label_36);
  label_36:
    partyMemberCheck(var_0, ulala);
    bez(var_0, label_3c);
    ref_38 = spriteLoad(sprite_6);
    wait(ref_38);
    unitSpawn(ulala, sprite_6, 1273, 0, -1381, south, none);
    unitTriggerSet(ulala, B_URARATI, 255, 1);
  label_3c:
    partyMemberCheck(var_0, katsuya);
    bez(var_0, label_42);
    ref_3e = spriteLoad(sprite_d);
    wait(ref_3e);
    unitSpawn(katsuya, sprite_d, 869, 0, -1875, south, none);
    unitTriggerSet(katsuya, B_KATUYYY, 255, 1);
  label_42:
    partyMemberCheck(var_0, baofu);
    bez(var_0, label_48);
    ref_44 = spriteLoad(sprite_13);
    wait(ref_44);
    unitSpawn(baofu, sprite_13, 1174, 0, -2142, south, none);
    unitTriggerSet(baofu, B_PAO, 255, 1);
  label_48:
    partyMemberCheck(var_0, nanjo);
    bez(var_0, label_4e);
    ref_4a = spriteLoad(sprite_1f);
    wait(ref_4a);
    unitSpawn(nanjo, sprite_1f, 659, 0, -1619, west, none);
    unitTriggerSet(nanjo, B_NANJ, 255, 1);
  label_4e:
    partyMemberCheck(var_0, elly);
    bez(var_0, label_54);
    ref_50 = spriteLoad(sprite_23);
    wait(ref_50);
    unitSpawn(elly, sprite_23, 659, 0, -1707, west, none);
    unitTriggerSet(elly, B_ERI, 255, 1);
  label_54:
    partyMemberCheck(var_0, tatsuya);
    bez(var_0, label_5b);
    ref_56 = spriteLoad(sprite_18);
    wait(ref_56);
    unitSpawn(tatsuya, sprite_18, 1002, 0, -1177, south, none);
    unitTriggerSet(tatsuya, B_TATU, 255, 1);
    b(label_64);
  label_5b:
    bitGet(var_0, EBIT_E008C);
    bne(var_0, 0, label_5e);
    b(label_64);
  label_5e:
    bne(var_0, 1, label_64);
    ref_5f = spriteLoad(sprite_18);
    wait(ref_5f);
    unitSpawn(tatsuya, sprite_18, 1002, 0, -1177, south, none);
    unitTriggerSet(tatsuya, B_TATU, 255, 1);
    b(label_64);
  label_64:
    ref_64 = spriteLoad(sprite_c7);
    wait(ref_64);
    unitSpawn(unit_58, sprite_c7, 1258, 0, -972, north, none);
    unitTriggerSet(unit_58, BOXBABA, 255, 1);
    bitGet(var_0, EBIT_E002B);
    bne(var_0, 0, label_6b);
    b(label_76);
  label_6b:
    bne(var_0, 1, label_76);
    bitGet(var_0, EBIT_E008C);
    bne(var_0, 0, label_73);
    ref_6e = spriteLoad(sprite_2e);
    wait(ref_6e);
    unitSpawn(jun, sprite_2e, 892, 0, -1254, south, none);
    unitTriggerSet(jun, BOXKUROSU, 255, 1);
    b(label_75);
  label_73:
    bne(var_0, 1, label_75);
    b(label_75);
  label_75:
    b(label_76);
  label_76:
    bitGet(var_0, EBIT_E006F);
    bne(var_0, 0, label_79);
    b(label_88);
  label_79:
    bne(var_0, 1, label_88);
    bitGet(var_0, EBIT_E008C);
    bne(var_0, 0, label_85);
    ref_7c = spriteLoad(sprite_27);
    wait(ref_7c);
    unitSpawn(eikichi, sprite_27, 1159, 0, -1070, south, none);
    unitTriggerSet(eikichi, BOXAKICH, 255, 1);
    ref_80 = spriteLoad(sprite_2a);
    wait(ref_80);
    unitSpawn(lisa, sprite_2a, 762, 0, -1121, west, none);
    unitTriggerSet(lisa, BOXGINGIN, 255, 1);
    b(label_87);
  label_85:
    bne(var_0, 1, label_87);
    b(label_87);
  label_87:
    b(label_88);
  label_88:
    bitGet(var_0, EBIT_E007F);
    bne(var_0, 0, label_8b);
    b(label_aa);
  label_8b:
    bne(var_0, 1, label_aa);
    bitGet(var_0, MBIT_KE_JEWDEVE);
    bne(var_0, 0, label_8f);
    b(label_a9);
  label_8f:
    bne(var_0, 1, label_a9);
    bitGet(var_0, MBIT_bukishoku_irai);
    bne(var_0, 0, label_97);
    ref_92 = spriteLoad(sprite_b8);
    wait(ref_92);
    unitSpawn(npc1, sprite_b8, 900, -100, -260, south, none);
    unitTriggerSet(npc1, DENKODOMO, 255, 1);
    b(label_a8);
  label_97:
    bne(var_0, 1, label_a8);
    bitGet(var_0, MBIT_KE_DENNSETU);
    bne(var_0, 0, label_9b);
    b(label_a7);
  label_9b:
    bne(var_0, 1, label_a7);
    bitGet(var_0, MBIT_DEN_HIDEN);
    bne(var_0, 0, label_a4);
    ref_9e = spriteLoad(sprite_c8);
    wait(ref_9e);
    unitSpawn(npc2, sprite_c8, 370, 0, -1500, east, none);
    unitPalette(npc2, 1);
    unitTriggerSet(npc2, DENSHOKU, 255, 1);
    b(label_a6);
  label_a4:
    bne(var_0, 1, label_a6);
    b(label_a6);
  label_a6:
    b(label_a7);
  label_a7:
    b(label_a8);
  label_a8:
    b(label_a9);
  label_a9:
    b(label_aa);
  label_aa:
    ref_aa = spriteLoad(sprite_0);
    wait(ref_aa);
    ref_ac = spriteLoad(sprite_2);
    wait(ref_ac);
    bitGet(var_0, MBIT_JMP_ARAYA);
    bne(var_0, 0, label_bf);
    unknownVar2(var_0);
    bne(var_0, 1, label_bb);
    unknownVar1(var_0);
    bne(var_0, 4873, label_b7);
    cameraSet(northwest, 1011, 0, -956);
    playerInit(north);
    b(label_ba);
  label_b7:
    cameraSet(southwest, 994, 0, -2312);
    playerInit(south);
    b(label_ba);
  label_ba:
    b(label_be);
  label_bb:
    cameraSet(southwest, 994, 0, -2312);
    playerInit(south);
    b(label_be);
  label_be:
    b(label_c4);
  label_bf:
    bne(var_0, 1, label_c4);
    cameraSet(northwest, 1001, 0, -938);
    playerInit(north);
    bitClear(MBIT_JMP_ARAYA);
    b(label_c4);
  label_c4:
    controlDisable();
    screenEffectUnknown();
    screenFadeInner(rgb(0,0,0), 6, true);
    screenFadeOuter(rgb(0,0,0), 6, true);
    unitIdleOnAll();
    screenFadeWait(inner);
    screenFadeWait(outer);
    controlEnable();
  label_cc:
}

function B_URARATI()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_116);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_106);
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_f6);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_e8);
    bitGet(var_0, EBIT_E0077);
    bnz(var_0, label_d8);
  label_d8:
    unitFacePlayer(ulala);
    ref_d9 = bustupLoad(bustup_18);
    bustupWait(ref_d9);
    ref_db = bustupAlloc(ref_d9, left, rgb(0,0,0));
    bustupFade(ref_db, rgb(128,0,0), 30);
    ref_dd = dialogAlloc();
    ref_de = msgShow(msg_1);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Wang Long’s no good, so maybe I’ll pray
[tab]here in true traditional Japanese style...
[tab]For a special encounter...
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_de);
    dialogFree(ref_dd);
    ref_e2 = bustupFade(ref_db, rgb(0,0,0), 10);
    bustupWait(ref_e2);
    bustupFree(ref_db);
    unitAnimationPlay(ulala, animation_a, 1);
    unitRestoreFacing(ulala);
    b(label_125);
  label_e8:
    ref_e8 = bustupLoad(bustup_1a);
    bustupWait(ref_e8);
    ref_ea = bustupAlloc(ref_e8, left, rgb(0,0,0));
    bustupFade(ref_ea, rgb(128,0,0), 30);
    ref_ec = dialogAlloc();
    ref_ed = msgShow(msg_2);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Hey Ma-ya...
[tab]Do you think it was a mistake that we
[tab]spread the stuff about the New World Order...
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_10, 1);
    wait(ref_ed);
    unitAnimationPlay(ulala, animation_a, 1);
    dialogFree(ref_ec);
    ref_f2 = bustupFade(ref_ea, rgb(0,0,0), 10);
    bustupWait(ref_f2);
    bustupFree(ref_ea);
    b(label_125);
  label_f6:
    unitFacePlayer(ulala);
    ref_f7 = bustupLoad(bustup_1a);
    bustupWait(ref_f7);
    ref_f9 = bustupAlloc(ref_f7, left, rgb(0,0,0));
    bustupFade(ref_f9, rgb(128,0,0), 30);
    ref_fb = dialogAlloc();
    ref_fc = msgShow(msg_3);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Did you hear what that old woman said?
[tab]Looks like something happened here.
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_fc);
    dialogFree(ref_fb);
    ref_100 = bustupFade(ref_f9, rgb(0,0,0), 10);
    bustupWait(ref_100);
    bustupFree(ref_f9);
    unitAnimationPlay(ulala, animation_a, 1);
    unitRestoreFacing(ulala);
    b(label_125);
  label_106:
    unitFacePlayer(ulala);
    ref_107 = bustupLoad(bustup_18);
    bustupWait(ref_107);
    ref_109 = bustupAlloc(ref_107, left, rgb(0,0,0));
    bustupFade(ref_109, rgb(128,0,0), 30);
    ref_10b = dialogAlloc();
    ref_10c = msgShow(msg_4);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]"You can believe in gods, but you shouldn’t
[tab]depend on them."... I can’t remember
[tab]who said that.
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_2d, 1);
    wait(ref_10c);
    dialogFree(ref_10b);
    ref_110 = bustupFade(ref_109, rgb(0,0,0), 10);
    bustupWait(ref_110);
    bustupFree(ref_109);
    unitAnimationPlay(ulala, animation_a, 1);
    unitRestoreFacing(ulala);
    b(label_125);
  label_116:
    unitFacePlayer(ulala);
    ref_117 = bustupLoad(bustup_1b);
    bustupWait(ref_117);
    ref_119 = bustupAlloc(ref_117, left, rgb(0,0,0));
    bustupFade(ref_119, rgb(128,0,0), 30);
    ref_11b = dialogAlloc();
    ref_11c = msgShow(msg_5);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]Ma-ya, look at the sky! Did we come to the
[tab]world of Collective Unconsciousness or
[tab]whatever along with the city?!
[wait][clear]
***************************************/
    unitAnimationPlay(ulala, animation_1d, 1);
    wait(ref_11c);
    dialogFree(ref_11b);
    ref_120 = bustupFade(ref_119, rgb(0,0,0), 10);
    bustupWait(ref_120);
    bustupFree(ref_119);
    unitAnimationPlay(ulala, animation_a, 1);
    unitRestoreFacing(ulala);
  label_125:
    controlEnable();
}

function B_KATUYYY()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_19b);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_187);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_179);
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_155);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_145);
    bitGet(var_0, EBIT_E007A);
    bnz(var_0, label_134);
  label_134:
    unitFacePlayer(katsuya);
    ref_135 = bustupLoad(bustup_21);
    bustupWait(ref_135);
    ref_137 = bustupAlloc(ref_135, left, rgb(0,0,0));
    bustupFade(ref_137, rgb(128,0,0), 30);
    ref_139 = dialogAlloc();
    ref_13a = msgShow(msg_6);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]I used to see children playing here often...
[tab]but not anymore. I suppose people
[tab]no longer care about the old things.
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_13a);
    dialogFree(ref_139);
    ref_13e = bustupFade(ref_137, rgb(0,0,0), 10);
    bustupWait(ref_13e);
    bustupFree(ref_137);
    unitAnimationPlay(katsuya, animation_a, 1);
    unitRestoreFacing(katsuya);
    bitSet(MBIT_TALKKATU01);
    b(label_1a9);
  label_145:
    unitFacePlayer(katsuya);
    ref_146 = bustupLoad(bustup_23);
    bustupWait(ref_146);
    ref_148 = bustupAlloc(ref_146, left, rgb(0,0,0));
    bustupFade(ref_148, rgb(128,0,0), 30);
    ref_14a = dialogAlloc();
    ref_14b = msgShow(msg_7);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]We shouldn’t have spread that rumor
[tab]about the New World Order...
[tab]They were one step ahead of us!
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_14b);
    dialogFree(ref_14a);
    ref_14f = bustupFade(ref_148, rgb(0,0,0), 10);
    bustupWait(ref_14f);
    bustupFree(ref_148);
    unitAnimationPlay(katsuya, animation_a, 1);
    unitRestoreFacing(katsuya);
    b(label_1a9);
  label_155:
    bitGet(var_0, EBIT_E0093);
    bne(var_0, 0, label_167);
    unitFacePlayer(katsuya);
    ref_158 = bustupLoad(bustup_21);
    bustupWait(ref_158);
    ref_15a = bustupAlloc(ref_158, left, rgb(0,0,0));
    bustupFade(ref_15a, rgb(128,0,0), 30);
    ref_15c = dialogAlloc();
    ref_15d = msgShow(msg_8);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Now Mt. Iwato of Alaya...
[tab]What is [tatsuya] trying to do?
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_2d, 1);
    wait(ref_15d);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_15c);
    ref_162 = bustupFade(ref_15a, rgb(0,0,0), 10);
    bustupWait(ref_162);
    bustupFree(ref_15a);
    unitRestoreFacing(katsuya);
    b(label_178);
  label_167:
    bne(var_0, 1, label_178);
    unitFacePlayer(katsuya);
    unitAnimationPlay(katsuya, animation_14, 1);
    ref_16a = bustupLoad(bustup_23);
    bustupWait(ref_16a);
    ref_16c = bustupAlloc(ref_16a, left, rgb(0,0,0));
    bustupFade(ref_16c, rgb(128,0,0), 30);
    ref_16e = dialogAlloc();
    ref_16f = msgShow(msg_9);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]Amano-kun... let’s go back.
[tab]I want to know the rest...
[wait][clear]
***************************************/
    wait(ref_16f);
    dialogFree(ref_16e);
    ref_172 = bustupFade(ref_16c, rgb(0,0,0), 10);
    bustupWait(ref_172);
    bustupFree(ref_16c);
    unitAnimationPlay(katsuya, animation_a, 1);
    unitRestoreFacing(katsuya);
    b(label_178);
  label_178:
    b(label_1a9);
  label_179:
    ref_179 = bustupLoad(bustup_24);
    bustupWait(ref_179);
    ref_17b = bustupAlloc(ref_179, left, rgb(0,0,0));
    bustupFade(ref_17b, rgb(128,0,0), 30);
    ref_17d = dialogAlloc();
    ref_17e = msgShow(msg_10);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]He’s been fighting all this time by himself... 
[tab]It must have been hard...
[tab]. . . . . .
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_17e);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_17d);
    ref_183 = bustupFade(ref_17b, rgb(0,0,0), 10);
    bustupWait(ref_183);
    bustupFree(ref_17b);
    b(label_1a9);
  label_187:
    ref_187 = bustupLoad(bustup_21);
    bustupWait(ref_187);
    ref_189 = bustupAlloc(ref_187, left, rgb(0,0,0));
    bustupFade(ref_189, rgb(128,0,0), 30);
    ref_18b = dialogAlloc();
    ref_18c = msgShow(msg_11);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]What is it that drives [tatsuya] so much... 
[tab]Is it the guilt of letting Amano-kun die, 
[tab]or the grudge toward the one responsible...
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_6, 1);
    wait(ref_18c);
    ref_18f = msgShow(msg_12);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]No, that’s not right...
[tab]What he’s really trying to do...
[sync][wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_29, 1);
    unitWait(katsuya);
    unitAnimationPlay(katsuya, animation_6, 1);
    sync();
    wait(ref_18f);
    dialogFree(ref_18b);
    ref_196 = bustupFade(ref_189, rgb(0,0,0), 10);
    bustupWait(ref_196);
    bustupFree(ref_189);
    unitAnimationPlay(katsuya, animation_a, 1);
    b(label_1a9);
  label_19b:
    ref_19b = bustupLoad(bustup_24);
    bustupWait(ref_19b);
    ref_19d = bustupAlloc(ref_19b, left, rgb(0,0,0));
    bustupFade(ref_19d, rgb(128,0,0), 30);
    ref_19f = dialogAlloc();
    ref_1a0 = msgShow(msg_13);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]If I could, I want to show [tatsuya] to
[tab]my father. He’d be proud...
[wait][clear]
***************************************/
    unitAnimationPlay(katsuya, animation_5, 1);
    wait(ref_1a0);
    unitAnimationPlay(katsuya, animation_a, 1);
    dialogFree(ref_19f);
    ref_1a5 = bustupFade(ref_19d, rgb(0,0,0), 10);
    bustupWait(ref_1a5);
    bustupFree(ref_19d);
    b(label_1a9);
  label_1a9:
    controlEnable();
}

function B_PAO()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_206);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_1f6);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_1e6);
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_1d6);
    bitGet(var_0, EBIT_E007F);
    bnz(var_0, label_1c6);
    unitFacePlayer(baofu);
    ref_1b7 = bustupLoad(bustup_2f);
    bustupWait(ref_1b7);
    ref_1b9 = bustupAlloc(ref_1b7, left, rgb(0,0,0));
    bustupFade(ref_1b9, rgb(128,0,0), 30);
    ref_1bb = dialogAlloc();
    ref_1bc = msgShow(msg_14);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Resonance?
[tab]They seem dormant... but are those
[tab]kids Persona users as well?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_1a, 1);
    wait(ref_1bc);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1bb);
    ref_1c1 = bustupFade(ref_1b9, rgb(0,0,0), 10);
    bustupWait(ref_1c1);
    bustupFree(ref_1b9);
    unitRestoreFacing(baofu);
    b(label_216);
  label_1c6:
    unitFacePlayer(baofu);
    ref_1c7 = bustupLoad(bustup_2d);
    bustupWait(ref_1c7);
    ref_1c9 = bustupAlloc(ref_1c7, left, rgb(0,0,0));
    bustupFade(ref_1c9, rgb(128,0,0), 30);
    ref_1cb = dialogAlloc();
    ref_1cc = msgShow(msg_15);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]My work doesn’t end until I finish
[tab]things off with Tatsuzou. I’ll still
[tab]stick around for a while.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1cc);
    dialogFree(ref_1cb);
    unitAnimationPlay(baofu, animation_a, 1);
    ref_1d1 = bustupFade(ref_1c9, rgb(0,0,0), 10);
    bustupWait(ref_1d1);
    bustupFree(ref_1c9);
    unitRestoreFacing(baofu);
    b(label_216);
  label_1d6:
    unitFacePlayer(baofu);
    ref_1d7 = bustupLoad(bustup_2d);
    bustupWait(ref_1d7);
    ref_1d9 = bustupAlloc(ref_1d7, left, rgb(0,0,0));
    bustupFade(ref_1d9, rgb(128,0,0), 30);
    ref_1db = dialogAlloc();
    ref_1dc = msgShow(msg_16);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]What’s wrong?
[tab]You look pale.
[tab]D五j二 vu again?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1dc);
    dialogFree(ref_1db);
    unitAnimationPlay(baofu, animation_a, 1);
    ref_1e1 = bustupFade(ref_1d9, rgb(0,0,0), 10);
    bustupWait(ref_1e1);
    bustupFree(ref_1d9);
    unitRestoreFacing(baofu);
    b(label_216);
  label_1e6:
    unitFacePlayer(baofu);
    ref_1e7 = bustupLoad(bustup_2d);
    bustupWait(ref_1e7);
    ref_1e9 = bustupAlloc(ref_1e7, left, rgb(0,0,0));
    bustupFade(ref_1e9, rgb(128,0,0), 30);
    ref_1eb = dialogAlloc();
    ref_1ec = msgShow(msg_17);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]I knew he was a wussie. 
[tab][suou] gets moved too easily.
[tab]He needs to grow up...
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1ec);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_1eb);
    ref_1f1 = bustupFade(ref_1e9, rgb(0,0,0), 10);
    bustupWait(ref_1f1);
    bustupFree(ref_1e9);
    unitRestoreFacing(baofu);
    b(label_216);
  label_1f6:
    unitFacePlayer(baofu);
    ref_1f7 = bustupLoad(bustup_2d);
    bustupWait(ref_1f7);
    ref_1f9 = bustupAlloc(ref_1f7, left, rgb(0,0,0));
    bustupFade(ref_1f9, rgb(128,0,0), 30);
    ref_1fb = dialogAlloc();
    ref_1fc = msgShow(msg_18);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]This shrine...
[tab]Don’t you think there’s
[tab]something odd with it?
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_1fc);
    dialogFree(ref_1fb);
    ref_200 = bustupFade(ref_1f9, rgb(0,0,0), 10);
    bustupWait(ref_200);
    bustupFree(ref_1f9);
    unitAnimationPlay(baofu, animation_a, 1);
    unitRestoreFacing(baofu);
    b(label_216);
  label_206:
    unitFacePlayer(baofu);
    ref_207 = bustupLoad(bustup_2d);
    bustupWait(ref_207);
    ref_209 = bustupAlloc(ref_207, left, rgb(0,0,0));
    bustupFade(ref_209, rgb(128,0,0), 30);
    ref_20b = dialogAlloc();
    ref_20c = msgShow(msg_19);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]In any game, the one who’s laughing first
[tab]cries at the end.
[tab]He’s been laughing the whole time.
[wait][clear]
***************************************/
    unitAnimationPlay(baofu, animation_2d, 1);
    wait(ref_20c);
    unitAnimationPlay(baofu, animation_a, 1);
    dialogFree(ref_20b);
    ref_211 = bustupFade(ref_209, rgb(0,0,0), 10);
    bustupWait(ref_211);
    bustupFree(ref_209);
    unitRestoreFacing(baofu);
    b(label_216);
  label_216:
    controlEnable();
}

function B_NANJ()
{
    controlDisable();
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_23d);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_22d);
    unitFacePlayer(nanjo);
    ref_21e = bustupLoad(bustup_36);
    bustupWait(ref_21e);
    ref_220 = bustupAlloc(ref_21e, left, rgb(0,0,0));
    bustupFade(ref_220, rgb(128,0,0), 30);
    ref_222 = dialogAlloc();
    ref_223 = msgShow(msg_20);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]A mysterious case linked to Kandori and
[tab]Personas... Perhaps it is not a coincidence
[tab]that Alaya Shrine is here.
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_2d, 1);
    wait(ref_223);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_222);
    ref_228 = bustupFade(ref_220, rgb(0,0,0), 10);
    bustupWait(ref_228);
    bustupFree(ref_220);
    unitRestoreFacing(nanjo);
    b(label_24e);
  label_22d:
    unitFacePlayer(nanjo);
    ref_22e = bustupLoad(bustup_36);
    bustupWait(ref_22e);
    ref_230 = bustupAlloc(ref_22e, left, rgb(0,0,0));
    bustupFade(ref_230, rgb(128,0,0), 30);
    ref_232 = dialogAlloc();
    ref_233 = msgShow(msg_21);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]On the way here, I saw something that
[tab]looked like a cave... Could it be
[tab]Mt. Iwato of Alaya...?
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_2d, 1);
    wait(ref_233);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_232);
    ref_238 = bustupFade(ref_230, rgb(0,0,0), 10);
    bustupWait(ref_238);
    bustupFree(ref_230);
    unitRestoreFacing(nanjo);
    b(label_24e);
  label_23d:
    unitFacePlayer(nanjo);
    ref_23e = bustupLoad(bustup_36);
    bustupWait(ref_23e);
    ref_240 = bustupAlloc(ref_23e, left, rgb(0,0,0));
    bustupFade(ref_240, rgb(128,0,0), 30);
    ref_242 = dialogAlloc();
    ref_243 = msgShow(msg_22);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]It appears that [suou]’s purpose
[tab]is to make you realize... 
[tab]or rather remember something, Amano-san.
[wait][clear]
***************************************/
    unitAnimationPlay(nanjo, animation_2d, 1);
    wait(ref_243);
    ref_246 = msgShow(msg_23);
/***************************************
[color(yellow)]Nanjo[color(white)]
[tab]Do you have any ideas?
[tab]I am interested, since I’ve gotten
[tab]involved in all this.
[wait][clear]
***************************************/
    wait(ref_246);
    unitAnimationPlay(nanjo, animation_a, 1);
    dialogFree(ref_242);
    ref_24a = bustupFade(ref_240, rgb(0,0,0), 10);
    bustupWait(ref_24a);
    bustupFree(ref_240);
    unitRestoreFacing(nanjo);
  label_24e:
    controlEnable();
}

function B_ERI()
{
    controlDisable();
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_275);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_265);
    unitFacePlayer(elly);
    ref_256 = bustupLoad(bustup_3d);
    bustupWait(ref_256);
    ref_258 = bustupAlloc(ref_256, left, rgb(0,0,0));
    bustupFade(ref_258, rgb(128,0,0), 30);
    ref_25a = dialogAlloc();
    ref_25b = msgShow(msg_24);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]A mysterious case linked to Mr. Kandori and
[tab]Personas... Perhaps it is not a coincidence
[tab]that Alaya Shrine is here.
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_25b);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_25a);
    ref_260 = bustupFade(ref_258, rgb(0,0,0), 10);
    bustupWait(ref_260);
    bustupFree(ref_258);
    unitRestoreFacing(elly);
    b(label_285);
  label_265:
    unitFacePlayer(elly);
    ref_266 = bustupLoad(bustup_3d);
    bustupWait(ref_266);
    ref_268 = bustupAlloc(ref_266, left, rgb(0,0,0));
    bustupFade(ref_268, rgb(128,0,0), 30);
    ref_26a = dialogAlloc();
    ref_26b = msgShow(msg_25);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]On the way here, I saw something that
[tab]looked like a cave... could it be
[tab]Mt. Iwato of Alaya...?
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_26b);
    unitRestoreFacing(elly);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_26a);
    ref_271 = bustupFade(ref_268, rgb(0,0,0), 10);
    bustupWait(ref_271);
    bustupFree(ref_268);
    b(label_285);
  label_275:
    unitFacePlayer(elly);
    ref_276 = bustupLoad(bustup_3d);
    bustupWait(ref_276);
    ref_278 = bustupAlloc(ref_276, left, rgb(0,0,0));
    bustupFade(ref_278, rgb(128,0,0), 30);
    ref_27a = dialogAlloc();
    ref_27b = msgShow(msg_26);
/***************************************
[color(yellow)]Elly[color(white)]
[tab]Perhaps [tatsuya] wants you to remember
[tab]something, Ms. Amano?
[tab]It appears to me that way...
[wait][clear]
***************************************/
    unitAnimationPlay(elly, animation_2d, 1);
    wait(ref_27b);
    unitRestoreFacing(elly);
    unitAnimationPlay(elly, animation_a, 1);
    dialogFree(ref_27a);
    ref_281 = bustupFade(ref_278, rgb(0,0,0), 10);
    bustupWait(ref_281);
    bustupFree(ref_278);
    b(label_285);
  label_285:
    controlEnable();
}

function B_TATU()
{
    controlDisable();
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_2bf);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_2af);
    bitGet(var_0, EBIT_E009F);
    bnz(var_0, label_29f);
    unitFacePlayer(tatsuya);
    ref_28f = bustupLoad(bustup_b);
    bustupWait(ref_28f);
    ref_291 = bustupAlloc(ref_28f, right, rgb(0,0,0));
    bustupFade(ref_291, rgb(128,0,0), 30);
    bustupFlip(ref_291, true);
    ref_294 = dialogAlloc();
    ref_295 = msgShow(msg_27);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]If you go to Mt. Iwato of Alaya... 
[tab]You will be able to know all. In exchange for
[tab]the precious time of the present.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2d, 1);
    wait(ref_295);
    unitRestoreFacing(tatsuya);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_294);
    ref_29b = bustupFade(ref_291, rgb(0,0,0), 10);
    bustupWait(ref_29b);
    bustupFree(ref_291);
    b(label_2cf);
  label_29f:
    unitFacePlayer(tatsuya);
    ref_2a0 = bustupLoad(bustup_b);
    bustupWait(ref_2a0);
    ref_2a2 = bustupAlloc(ref_2a0, left, rgb(0,0,0));
    bustupFade(ref_2a2, rgb(128,0,0), 30);
    ref_2a4 = dialogAlloc();
    ref_2a5 = msgShow(msg_28);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]This is where we first met Maya-nee...
[tab]Where it all started... The focal
[tab]point that divides the two realities.
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_2d, 1);
    wait(ref_2a5);
    unitRestoreFacing(tatsuya);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2a4);
    ref_2ab = bustupFade(ref_2a2, rgb(0,0,0), 10);
    bustupWait(ref_2ab);
    bustupFree(ref_2a2);
    b(label_2cf);
  label_2af:
    unitFacePlayer(tatsuya);
    ref_2b0 = bustupLoad(bustup_b);
    bustupWait(ref_2b0);
    ref_2b2 = bustupAlloc(ref_2b0, left, rgb(0,0,0));
    bustupFade(ref_2b2, rgb(128,0,0), 30);
    ref_2b4 = dialogAlloc();
    ref_2b5 = msgShow(msg_29);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Even Tatsuzou Sudou is just being
[tab]manipulated...
[tab]The true enemy is...
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_6, 1);
    wait(ref_2b5);
    unitRestoreFacing(tatsuya);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2b4);
    ref_2bb = bustupFade(ref_2b2, rgb(0,0,0), 10);
    bustupWait(ref_2bb);
    bustupFree(ref_2b2);
    b(label_2cf);
  label_2bf:
    unitFacePlayer(tatsuya);
    ref_2c0 = bustupLoad(bustup_d);
    bustupWait(ref_2c0);
    ref_2c2 = bustupAlloc(ref_2c0, left, rgb(0,0,0));
    bustupFade(ref_2c2, rgb(128,0,0), 30);
    ref_2c4 = dialogAlloc();
    ref_2c5 = msgShow(msg_30);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]That’s right... It all started with
[tab]this shrine... I’ll go and end it
[tab]once and for all!
[wait][clear]
***************************************/
    unitAnimationPlay(tatsuya, animation_1a, 1);
    wait(ref_2c5);
    unitRestoreFacing(tatsuya);
    unitAnimationPlay(tatsuya, animation_a, 1);
    dialogFree(ref_2c4);
    ref_2cb = bustupFade(ref_2c2, rgb(0,0,0), 10);
    bustupWait(ref_2cb);
    bustupFree(ref_2c2);
    b(label_2cf);
  label_2cf:
    controlEnable();
}

function BOXBABA()
{
    controlDisable();
    bitGet(var_0, EBIT_E00AF);
    bne(var_0, 0, label_2d5);
    b(label_2ec);
  label_2d5:
    bne(var_0, 1, label_2ec);
    bitGet(var_0, MBIT_SH_H_16);
    bne(var_0, 0, label_2d9);
    b(label_2eb);
  label_2d9:
    bne(var_0, 1, label_2eb);
    bitGet(var_0, MBIT_JINJA_OBABA);
    bne(var_0, 0, label_2e8);
    bitGet(var_0, MBIT_KI_TATUNOSIN);
    bne(var_0, 0, label_2df);
    b(label_2e7);
  label_2df:
    bne(var_0, 1, label_2e7);
    bitGet(var_0, MBIT_KI_MAIHIME);
    bne(var_0, 0, label_2e4);
    b(label_3b2);
    b(label_2e6);
  label_2e4:
    bne(var_0, 1, label_2e6);
    b(label_2e6);
  label_2e6:
    b(label_2e7);
  label_2e7:
    b(label_2ea);
  label_2e8:
    bne(var_0, 1, label_2ea);
    b(label_2ea);
  label_2ea:
    b(label_2eb);
  label_2eb:
    b(label_2ec);
  label_2ec:
    bitGet(var_0, MBIT_SH_S_16);
    bne(var_0, 0, label_2ef);
    b(label_2fc);
  label_2ef:
    bne(var_0, 1, label_2fc);
    bitGet(var_0, MBIT_SH_H_16);
    bne(var_0, 0, label_2f9);
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_2f6);
    b(label_2fd);
    b(label_2f8);
  label_2f6:
    bne(var_0, 1, label_2f8);
    b(label_2f8);
  label_2f8:
    b(label_2fb);
  label_2f9:
    bne(var_0, 1, label_2fb);
    b(label_2fb);
  label_2fb:
    b(label_2fc);
  label_2fc:
    b(label_35a);
  label_2fd:
    add(var_a, var_a, 1);
    boutrange(var_a, 0, 1, label_301);
    b(label_305);
    b(label_305);
  label_301:
    bne(var_a, 2, label_305);
    sub(var_a, var_a, 2);
    b(label_30e);
    b(label_305);
  label_305:
    unitFacePlayer(unit_58);
    ref_306 = dialogAlloc();
    ref_307 = msgShow(msg_31);
/***************************************
[color(yellow)]Old Woman[color(white)]
[tab]For some reason, I felt that I had
[tab]to come here...
[tab]It seemed like someone was here...
[wait][clear][color(yellow)]Old Woman[color(white)]
[tab]I left on my own, so my daughter and son
[tab]in law are probably worried sick right now.
[tab]But it really bothered me.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_307);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_306);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_30e:
    unitFacePlayer(unit_58);
    ref_30f = dialogAlloc();
    ref_310 = msgShow(msg_32);
/***************************************
[color(yellow)]Old Woman[color(white)]
[tab]Yes, yes...
[tab]What do you want from me?
[tab]Ask me anything.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_310);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_30f);
    choiceSetResult(2);
    op_105(2);
    ref_317 = bustupLoad(bustup_1);
    bustupWait(ref_317);
    ref_319 = bustupAlloc(ref_317, center, rgb(0,0,0));
    bustupFade(ref_319, rgb(128,0,0), 30);
    ref_31b = dialogChoiceAlloc();
    ref_31c = msgShow(msg_33);
/***************************************
[tab]What do you want?
[choice(3)]Guess name
Talk
Nothing
[end_choice][clear]
***************************************/
    ref_31d = textInputInit();
    wait(ref_31c);
    dialogFree(ref_31b);
    ref_320 = bustupFade(ref_319, rgb(0,0,0), 10);
    bustupWait(ref_320);
    bustupFree(ref_319);
    wait(ref_31d);
    choiceGetResult(var_0);
    bne(var_0, 0, label_328);
    b(label_330);
    b(label_330);
  label_328:
    bne(var_0, 1, label_32c);
    unitRestoreFacing(unit_58);
    b(label_35a);
    b(label_330);
  label_32c:
    bne(var_0, 2, label_330);
    unitRestoreFacing(unit_58);
    b(label_426);
    b(label_330);
  label_330:
    ref_330 = textInputPrompt();
    wait(ref_330);
    textInputCompare(msg_34, var_0);
    bne(var_0, 0, label_33c);
    ref_334 = dialogAlloc();
    ref_335 = msgShow(msg_35);
/***************************************
[color(yellow)]Old Woman[color(white)]
[tab]Hmmm...
[tab]I’ve never heard of anyone by that name...
[tab]I think you should try asking someone else.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_335);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_334);
    unitRestoreFacing(unit_58);
    b(label_359);
  label_33c:
    bne(var_0, 1, label_359);
    ref_33d = dialogAlloc();
    ref_33e = msgShow(msg_36);
/***************************************
[color(yellow)]Old Woman[color(white)]
[tab]Yes, my name is "Setsu Nishitani"...
[tab]But have I met you somewhere...?
[tab]How is it that you know my name...?
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_33e);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_33d);
    playerConvertToUnit(maya, sprite_0, north);
    playerHide();
    unitFaceUnit(maya, unit_58);
    unitAnimationPlay(maya, animation_2d, 1);
    delayClear();
    delayWait(90);
    unitAnimationPlay(maya, animation_a, 1);
    delayClear();
    delayWait(30);
    ref_34c = dialogAlloc();
    ref_34d = msgShow(msg_37);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Hmmm... To find me... I see.
[tab]My daughter and her husband probably
[tab]did that... I caused them to worry.
[wait][clear][color(yellow)]Setsu Nishitani[color(white)]
[tab]I understand. I’ll call my daughter and
[tab]the locator myself.
[tab]Do not worry.
[wait][clear][color(yellow)]Setsu Nishitani[color(white)]
[tab]I have this thing called a cellular phone,
[tab]you know...
[tab]I’ll be alright.
[wait][clear]
***************************************/
    bitSet(MBIT_SH_HH);
    bitSet(MBIT_NISITANI_GET);
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_34d);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_34c);
    unitRestoreFacing(unit_58);
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_359);
  label_359:
    b(label_426);
  label_35a:
    bitGet(var_0, EBIT_E00B8);
    bnz(var_0, label_3a2);
    bitGet(var_0, EBIT_E00AF);
    bnz(var_0, label_392);
    bitGet(var_0, EBIT_E008F);
    bnz(var_0, label_382);
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_372);
    unitFacePlayer(unit_58);
    ref_363 = dialogAlloc();
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_368);
    msgShow(msg_38);
/***************************************
[color(yellow)]Old Woman[color(white)]

***************************************/
    b(label_36b);
  label_368:
    bne(var_0, 1, label_36b);
    msgShow(msg_39);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]

***************************************/
    b(label_36b);
  label_36b:
    ref_36b = msgShow(msg_40);
/***************************************
[tab]I hear that they have seminars for casting
[tab]away "Kegare". My daughter suggested
[tab]I go... I don’t know what I should do.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_36b);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_363);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_372:
    unitFacePlayer(unit_58);
    ref_373 = dialogAlloc();
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_378);
    msgShow(msg_41);
/***************************************
[color(yellow)]Old Woman[color(white)]

***************************************/
    b(label_37b);
  label_378:
    bne(var_0, 1, label_37b);
    msgShow(msg_42);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]

***************************************/
    b(label_37b);
  label_37b:
    ref_37b = msgShow(msg_43);
/***************************************
[tab]With all these stories about the Torifune
[tab]and the end of the world in the city...
[tab]I feel calmer here.
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_37b);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_373);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_382:
    unitFacePlayer(unit_58);
    ref_383 = dialogAlloc();
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_388);
    msgShow(msg_44);
/***************************************
[color(yellow)]Old Woman[color(white)]

***************************************/
    b(label_38b);
  label_388:
    bne(var_0, 1, label_38b);
    msgShow(msg_45);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]

***************************************/
    b(label_38b);
  label_38b:
    ref_38b = msgShow(msg_46);
/***************************************
[tab]W-What just happened...?
[tab]All of a sudden, there was a black swirl
[tab]that sucked in the kids who were here...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_38b);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_383);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_392:
    unitFacePlayer(unit_58);
    ref_393 = dialogAlloc();
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_398);
    msgShow(msg_47);
/***************************************
[color(yellow)]Old Woman[color(white)]

***************************************/
    b(label_39b);
  label_398:
    bne(var_0, 1, label_39b);
    msgShow(msg_48);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]

***************************************/
    b(label_39b);
  label_39b:
    ref_39b = msgShow(msg_49);
/***************************************
[tab]How strange...
[tab]Even though this city is flying, 
[tab]this doesn’t feel like the first time for it...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_39b);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_393);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_3a2:
    unitFacePlayer(unit_58);
    ref_3a3 = dialogAlloc();
    bitGet(var_0, MBIT_NISITANI_GET);
    bne(var_0, 0, label_3a8);
    msgShow(msg_50);
/***************************************
[color(yellow)]Old Woman[color(white)]

***************************************/
    b(label_3ab);
  label_3a8:
    bne(var_0, 1, label_3ab);
    msgShow(msg_51);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]

***************************************/
    b(label_3ab);
  label_3ab:
    ref_3ab = msgShow(msg_52);
/***************************************
[tab]W-When did you go into the shrine?
[tab]Coming out all of a sudden...
[tab]Uggh... I’m getting feverish...
[wait][clear]
***************************************/
    unitAnimationPlay(unit_58, animation_24, 1);
    wait(ref_3ab);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_3a3);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_3b2:
    bitSet(MBIT_JINJA_OBABA);
    unitFacePlayer(unit_58);
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_3b5 = dialogAlloc();
    ref_3b6 = msgShow(msg_53);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Oh, it’s you... I just remembered an
[tab]old tale...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3b6);
    ref_3b9 = msgShow(msg_54);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]It’s a sad story about a princess and a
[tab]samurai who punished the bad lord of
[tab]this land... Would you like to hear it?
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3b9);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_3b5);
    ref_3be = bustupLoad(bustup_1);
    bustupWait(ref_3be);
    ref_3c0 = bustupAlloc(ref_3be, center, rgb(0,0,0));
    bustupFade(ref_3c0, rgb(128,0,0), 30);
    ref_3c2 = dialogChoiceAlloc();
    ref_3c3 = msgShow(msg_55);
/***************************************
[tab]Would you like to hear it?
[choice(2)]Yes, please...
No thanks... we don’t have time.
[end_choice][clear]
***************************************/
    sync();
    wait(ref_3c3);
    dialogFree(ref_3c2);
    ref_3c7 = bustupFade(ref_3c0, rgb(0,0,0), 10);
    bustupWait(ref_3c7);
    bustupFree(ref_3c0);
    choiceGetResult(var_0);
    bne(var_0, 0, label_3ce);
    b(label_3de);
    b(label_3d1);
  label_3ce:
    bne(var_0, 1, label_3d1);
    b(label_3d1);
    b(label_3d1);
  label_3d1:
    delayClear();
    delayWait(60);
    ref_3d3 = dialogAlloc();
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_3d5 = msgShow(msg_56);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Well... that’s just too bad.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3d5);
    ref_3d8 = msgShow(msg_57);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Time goes by the fastest at your age.
[tab]Live your life with no regrets.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3d8);
    dialogFree(ref_3d3);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_3de:
    delayClear();
    delayWait(60);
    ref_3e0 = dialogAlloc();
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_3e2 = msgShow(msg_58);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Long ago, this land was ruled by an evil
[tab]lord named "Kiyotada Sumaru". He tormented
[tab]the people with all sorts of wicked magic.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3e2);
    ref_3e5 = msgShow(msg_59);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]His cousin, a young samurai named
[tab]Tatsunoshin, tried to punish him for that.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3e5);
    ref_3e8 = msgShow(msg_60);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]But he was no ordinary human... The samurai
[tab]went to the castle, risking life and never
[tab]saying goodbye to his lover, the princess...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3e8);
    ref_3eb = msgShow(msg_61);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]The princess grieved when she heard that
[tab]from the samurai’s servant, and she
[tab]chased after her dear lover.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3eb);
    ref_3ee = msgShow(msg_62);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]At the castle, the samurai and lord were
[tab]fighting. Trying to protect her lover, she
[tab]dies when a spear pierced through her...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3ee);
    ref_3f1 = msgShow(msg_63);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]The samurai defeated the lord, but stayed
[tab]in the burning castle with the dead
[tab]princess... asking his servant to bury her.
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_3f1);
    unitAnimationPlay(unit_58, animation_0, 1);
    dialogFree(ref_3e0);
    ref_3f6 = bustupLoad(bustup_4);
    bustupWait(ref_3f6);
    ref_3f8 = bustupAlloc(ref_3f6, center, rgb(0,0,0));
    bustupFade(ref_3f8, rgb(128,0,0), 30);
    ref_3fa = dialogChoiceAlloc();
    ref_3fb = msgShow(msg_64);
/***************************************
[tab]Asking his servant to bury her...
[choice(2)]What was the princess’ name...?
Is that so...
[end_choice][clear]
***************************************/
    sync();
    wait(ref_3fb);
    dialogFree(ref_3fa);
    ref_3ff = bustupFade(ref_3f8, rgb(0,0,0), 10);
    bustupWait(ref_3ff);
    bustupFree(ref_3f8);
    choiceGetResult(var_0);
    bne(var_0, 0, label_406);
    b(label_409);
    b(label_409);
  label_406:
    bne(var_0, 1, label_409);
    b(label_418);
    b(label_409);
  label_409:
    delayClear();
    delayWait(60);
    bitSet(MBIT_KI_MAIHIME);
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_40d = dialogAlloc();
    ref_40e = msgShow(msg_65);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab][color(orange)]Maihime Amano[color(white)]...
[tab]They say she was a beautiful princess...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_40e);
    ref_411 = msgShow(msg_66);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Now that the castle came up,
[tab]I guess it wasn’t just an old folktale...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_411);
    dialogFree(ref_40d);
    unitAnimationPlay(unit_58, animation_0, 1);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_418:
    delayClear();
    delayWait(60);
    unitAnimationPlay(unit_58, animation_24, 1);
    ref_41b = dialogAlloc();
    ref_41c = msgShow(msg_67);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]After that, the servant became a monk
[tab]and went into Mt. Katatsumuri...
[tab]His name was... Junnosuke Kuroda...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_41c);
    ref_41f = msgShow(msg_68);
/***************************************
[color(yellow)]Setsu Nishitani[color(white)]
[tab]Now that the castle came up,
[tab]I guess it wasn’t just an old folktale...
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_41f);
    dialogFree(ref_41b);
    unitAnimationPlay(unit_58, animation_0, 1);
    unitRestoreFacing(unit_58);
    b(label_426);
  label_426:
    controlEnable();
}

function BOXKUROSU()
{
    controlDisable();
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_43b);
    unitFacePlayer(jun);
    ref_42c = bustupLoad(bustup_10e);
    bustupWait(ref_42c);
    ref_42e = bustupAlloc(ref_42c, right, rgb(0,0,0));
    bustupFade(ref_42e, rgb(128,0,0), 30);
    ref_430 = dialogAlloc();
    ref_431 = msgShow(msg_69);
/***************************************
[color(yellow)]Jun[color(white)]
[tab]The New World Order...
[tab]Is the man who attacked us at the Sky
[tab]Museum part of that group too?
[wait][clear]
***************************************/
    unitAnimationPlay(jun, animation_2d, 1);
    wait(ref_431);
    unitAnimationPlay(jun, animation_a, 1);
    ref_435 = bustupFade(ref_42e, rgb(0,0,0), 10);
    bustupWait(ref_435);
    bustupFree(ref_42e);
    dialogFree(ref_430);
    unitRestoreFacing(jun);
    b(label_449);
  label_43b:
    ref_43b = bustupLoad(bustup_10f);
    bustupWait(ref_43b);
    ref_43d = bustupAlloc(ref_43b, right, rgb(0,0,0));
    bustupFade(ref_43d, rgb(128,0,0), 30);
    ref_43f = dialogAlloc();
    ref_440 = msgShow(msg_70);
/***************************************
[color(yellow)]Jun[color(white)]
[tab]The end of the world...
[tab]Why does... my heart ache...
[tab]Have we lost... something important...
[wait][clear]
***************************************/
    unitAnimationPlay(jun, animation_6, 1);
    wait(ref_440);
    unitAnimationPlay(jun, animation_a, 1);
    ref_444 = bustupFade(ref_43d, rgb(0,0,0), 10);
    bustupWait(ref_444);
    bustupFree(ref_43d);
    dialogFree(ref_43f);
    b(label_449);
  label_449:
    controlEnable();
}

function BOXAKICH()
{
    controlDisable();
    bitGet(var_0, MBIT_MEETAKITI);
    bne(var_0, 0, label_456);
    bitGet(var_0, MBIT_TALKAKICH01);
    bne(var_0, 0, label_452);
    b(label_489);
    b(label_455);
  label_452:
    bne(var_0, 1, label_455);
    b(label_510);
    b(label_455);
  label_455:
    b(label_45f);
  label_456:
    bne(var_0, 1, label_45f);
    bitGet(var_0, MBIT_TALKAKICH01);
    bne(var_0, 0, label_45b);
    b(label_45f);
    b(label_45e);
  label_45b:
    bne(var_0, 1, label_45e);
    b(label_510);
    b(label_45e);
  label_45e:
    b(label_45f);
  label_45f:
    unitFacePlayer(eikichi);
    ref_460 = bustupLoad(bustup_116);
    bustupWait(ref_460);
    ref_462 = bustupAlloc(ref_460, right, rgb(0,0,0));
    bustupFade(ref_462, rgb(128,0,0), 30);
    ref_464 = dialogAlloc();
    ref_465 = msgShow(msg_71);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]You... Why are you here?
[tab]Huh? Me?
[tab]I just... wandered... sorta...
[sync][wait][clear]
***************************************/
    unitAnimationHold(eikichi, animation_21, 60);
    unitWait(eikichi);
    unitAnimationPlay(eikichi, animation_0, 1);
    delayClear();
    delayWait(10);
    unitAnimationPlay(eikichi, animation_1f, 1);
    unitWait(eikichi);
    sync();
    wait(ref_465);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_470 = bustupFade(ref_462, rgb(0,0,0), 10);
    bustupWait(ref_470);
    bustupFree(ref_462);
    dialogFree(ref_464);
    unitAnimationPlay(eikichi, animation_28, 1);
    unitWait(eikichi);
    delayClear();
    delayWait(20);
    unitAnimationPlay(eikichi, animation_1a, 1);
    unitWait(eikichi);
    ref_47a = bustupLoad(bustup_116);
    bustupWait(ref_47a);
    ref_47c = bustupAlloc(ref_47a, right, rgb(0,0,0));
    bustupFade(ref_47c, rgb(128,0,0), 30);
    ref_47e = dialogAlloc();
    ref_47f = msgShow(msg_72);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]But, what’s up with this place...?
[tab]I feel that I know everyone here...
[tab]Is this what they call "d五j二 vu"?
[wait][clear]
***************************************/
    wait(ref_47f);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_482 = bustupFade(ref_47c, rgb(0,0,0), 10);
    bustupWait(ref_482);
    bustupFree(ref_47c);
    dialogFree(ref_47e);
    unitRestoreFacing(eikichi);
    bitSet(MBIT_TALKAKICH01);
    b(label_537);
  label_489:
    ref_489 = bustupLoad(bustup_116);
    bustupWait(ref_489);
    ref_48b = bustupAlloc(ref_489, right, rgb(0,0,0));
    bustupFade(ref_48b, rgb(128,0,0), 30);
    ref_48d = dialogAlloc();
    ref_48e = msgShow(msg_73);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]What’s up with this place...?
[tab]I feel that I know everyone here...
[tab]Is this what they call "d五j二 vu"?
[wait][clear]
***************************************/
    unitAnimationPlay(eikichi, animation_10, 1);
    wait(ref_48e);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_492 = bustupFade(ref_48b, rgb(0,0,0), 10);
    bustupWait(ref_492);
    bustupFree(ref_48b);
    dialogFree(ref_48d);
    delayClear();
    delayWait(30);
    ref_498 = bustupLoad(bustup_116);
    bustupWait(ref_498);
    ref_49a = bustupAlloc(ref_498, right, rgb(0,0,0));
    bustupFade(ref_49a, rgb(128,0,0), 30);
    ref_49c = dialogAlloc();
    ref_49d = msgShow(msg_74);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]Huh?
[wait][clear]
***************************************/
    wait(ref_49d);
    ref_49f = bustupFade(ref_49a, rgb(0,0,0), 10);
    bustupWait(ref_49f);
    bustupFree(ref_49a);
    dialogFree(ref_49c);
    unitRestoreFacing(eikichi);
    unitFacePlayer(eikichi);
    unitAnimationPlay(eikichi, animation_0, 1);
    delayClear();
    delayWait(30);
    ref_4a8 = bustupLoad(bustup_116);
    bustupWait(ref_4a8);
    ref_4aa = bustupAlloc(ref_4a8, right, rgb(0,0,0));
    bustupFade(ref_4aa, rgb(128,0,0), 30);
    ref_4ac = dialogAlloc();
    ref_4ad = msgShow(msg_75);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]. . . . . . ! ?
[wait][clear]
***************************************/
    unitAnimationHold(eikichi, animation_21, -1);
    wait(ref_4ad);
    unitAnimationStop(eikichi);
    unitAnimationPlay(eikichi, animation_0, 1);
    ref_4b2 = bustupFade(ref_4aa, rgb(0,0,0), 10);
    bustupWait(ref_4b2);
    bustupFree(ref_4aa);
    dialogFree(ref_4ac);
    unitAnimationPlay(eikichi, animation_29, 1);
    unitWait(eikichi);
    unitAnimationPlay(eikichi, animation_6, 1);
    unitWait(eikichi);
    delayClear();
    delayWait(40);
    unitRestoreFacing(eikichi);
    ref_4bd = bustupLoad(bustup_117);
    bustupWait(ref_4bd);
    ref_4bf = bustupAlloc(ref_4bd, right, rgb(0,0,0));
    bustupFade(ref_4bf, rgb(128,0,0), 30);
    ref_4c1 = dialogAlloc();
    ref_4c2 = msgShow(msg_76);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]Why is this? Is this d五j二 vu too?
[tab]We’ve never met before, right?
[tab]Get a hold of yourself, Michel!!
[wait][clear]
***************************************/
    wait(ref_4c2);
    ref_4c4 = bustupFade(ref_4bf, rgb(0,0,0), 10);
    bustupWait(ref_4c4);
    bustupFree(ref_4bf);
    dialogFree(ref_4c1);
    unitFacePlayer(eikichi);
    unitAnimationHold(eikichi, animation_11, -1);
    ref_4ca = bustupLoad(bustup_119);
    bustupWait(ref_4ca);
    ref_4cc = bustupAlloc(ref_4ca, right, rgb(0,0,0));
    bustupFade(ref_4cc, rgb(128,0,0), 30);
    ref_4ce = dialogAlloc();
    ref_4cf = msgShow(msg_77);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]W-What is it, baby?
[tab]What do you want from Michel Eikichi,
[tab]the most beautiful boy in Sumaru City?
[wait][clear]
***************************************/
    wait(ref_4cf);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_4d2 = msgShow(msg_78);
/***************************************
[color(yellow)]Eikichi Mishina[color(white)]
[tab][color(green)]A 2nd year student who is the
[tab]leader at Kasugayama High School.
[tab]I feel I’ve met him before...[color(white)]
[wait][clear]
***************************************/
    bitSet(MBIT_MEETAKITI);
    wait(ref_4d2);
    ref_4d5 = bustupFade(ref_4cc, rgb(0,0,0), 10);
    bustupWait(ref_4d5);
    bustupFree(ref_4cc);
    dialogFree(ref_4ce);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, eikichi);
    unitAnimationPlay(maya, animation_14, 1);
    unitWait(maya);
    delayClear();
    delayWait(40);
    unitAnimationPlay(maya, animation_a, 1);
    unitWait(maya);
    delayClear();
    delayWait(20);
    unitAnimationPlay(maya, animation_1f, 1);
    unitWait(maya);
    delayClear();
    delayWait(40);
    unitAnimationPlay(maya, animation_a, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    ref_4ec = bustupLoad(bustup_116);
    bustupWait(ref_4ec);
    ref_4ee = bustupAlloc(ref_4ec, right, rgb(0,0,0));
    bustupFade(ref_4ee, rgb(128,0,0), 30);
    ref_4f0 = dialogAlloc();
    ref_4f1 = msgShow(msg_79);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]Huh? Maya... Amano...?
[tab]Oh, so you’re the magazine reporter that
[tab]Nanjo-san was talking about?
[wait][clear]
***************************************/
    unitAnimationPlay(eikichi, animation_2d, 1);
    wait(ref_4f1);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_4f5 = bustupFade(ref_4ee, rgb(0,0,0), 10);
    bustupWait(ref_4f5);
    bustupFree(ref_4ee);
    dialogFree(ref_4f0);
    unitAnimationHold(eikichi, animation_11, -1);
    ref_4fa = bustupLoad(bustup_119);
    bustupWait(ref_4fa);
    ref_4fc = bustupAlloc(ref_4fa, right, rgb(0,0,0));
    bustupFade(ref_4fc, rgb(128,0,0), 30);
    ref_4fe = dialogAlloc();
    ref_4ff = msgShow(msg_80);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]Heheh, to be honest, I had snuck
[tab]into that laboratory too.
[tab]That’s where I met Nanjo-san.
[wait][clear]
***************************************/
    wait(ref_4ff);
    unitAnimationStop(eikichi);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_503 = msgShow(msg_81);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]We were able to escape from there
[tab]because of me.
[tab]Oh, do you want my autograph?
[wait][clear]
***************************************/
    unitAnimationPlay(eikichi, animation_2d, 1);
    wait(ref_503);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_507 = bustupFade(ref_4fc, rgb(0,0,0), 10);
    bustupWait(ref_507);
    bustupFree(ref_4fc);
    dialogFree(ref_4fe);
    unitRestoreFacing(eikichi);
    bitSet(MBIT_TALKAKICH01);
    unitDespawn(maya, none);
    playerInit(south);
    b(label_537);
  label_510:
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_526);
    unitFacePlayer(eikichi);
    ref_513 = bustupLoad(bustup_116);
    bustupWait(ref_513);
    ref_515 = bustupAlloc(ref_513, right, rgb(0,0,0));
    bustupFade(ref_515, rgb(128,0,0), 30);
    ref_517 = dialogAlloc();
    ref_518 = msgShow(msg_82);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]"Let’s think positive!"... Everyone in town’s
[tab]saying that lately, so it’s been
[tab]on my mind.
[sync][wait][clear]
***************************************/
    unitAnimationPlay(eikichi, animation_2d, 1);
    sync();
    wait(ref_518);
    ref_51c = msgShow(msg_83);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]I feel there used to be someone who went
[tab]around saying something like that...
[tab]Who was it...?
[sync][wait][clear]
***************************************/
    sync();
    wait(ref_51c);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_520 = bustupFade(ref_515, rgb(0,0,0), 10);
    bustupWait(ref_520);
    bustupFree(ref_515);
    dialogFree(ref_517);
    unitRestoreFacing(eikichi);
    b(label_537);
  label_526:
    unitFacePlayer(eikichi);
    ref_527 = bustupLoad(bustup_116);
    bustupWait(ref_527);
    ref_529 = bustupAlloc(ref_527, right, rgb(0,0,0));
    bustupFade(ref_529, rgb(128,0,0), 30);
    ref_52b = dialogAlloc();
    ref_52c = msgShow(msg_84);
/***************************************
[color(yellow)]Eikichi[color(white)]
[tab]Torifune... Torifu? Ne?
[tab]Tofu?
[tab]Naaaaaah...
[sync][wait][clear]
***************************************/
    unitAnimationPlay(eikichi, animation_2d, 1);
    sync();
    wait(ref_52c);
    unitAnimationPlay(eikichi, animation_a, 1);
    ref_531 = bustupFade(ref_529, rgb(0,0,0), 10);
    bustupWait(ref_531);
    bustupFree(ref_529);
    dialogFree(ref_52b);
    unitRestoreFacing(eikichi);
    b(label_537);
  label_537:
    controlEnable();
}

function BOXGINGIN()
{
    controlDisable();
    bitGet(var_0, EBIT_E0069);
    bne(var_0, 0, label_544);
    bitGet(var_0, MBIT_ALAYATALKGIN);
    bne(var_0, 0, label_540);
    b(label_569);
    b(label_543);
  label_540:
    bne(var_0, 1, label_543);
    b(label_5e0);
    b(label_543);
  label_543:
    b(label_54d);
  label_544:
    bne(var_0, 1, label_54d);
    bitGet(var_0, MBIT_ALAYATALKGIN);
    bne(var_0, 0, label_549);
    b(label_54d);
    b(label_54c);
  label_549:
    bne(var_0, 1, label_54c);
    b(label_5e0);
    b(label_54c);
  label_54c:
    b(label_54d);
  label_54d:
    unitFacePlayer(lisa);
    ref_54e = bustupLoad(bustup_111);
    bustupWait(ref_54e);
    ref_550 = bustupAlloc(ref_54e, right, rgb(0,0,0));
    bustupFade(ref_550, rgb(128,0,0), 30);
    ref_552 = dialogAlloc();
    ref_553 = msgShow(msg_85);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]Amano-san... I guess d五j二 vu really
[tab]does happen. I’ve been having
[tab]it a lot lately.
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2d, 1);
    wait(ref_553);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_557 = bustupFade(ref_550, rgb(0,0,0), 10);
    bustupWait(ref_557);
    bustupFree(ref_550);
    ref_55a = bustupLoad(bustup_112);
    bustupWait(ref_55a);
    ref_55c = bustupAlloc(ref_55a, right, rgb(0,0,0));
    bustupFade(ref_55c, rgb(128,0,0), 30);
    ref_55e = msgShow(msg_86);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]I think I know this place. That shrine
[tab]and everything... It’s not my first time
[tab]seeing them... But why...?
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_6, 1);
    wait(ref_55e);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_562 = bustupFade(ref_55c, rgb(0,0,0), 10);
    bustupWait(ref_562);
    bustupFree(ref_55c);
    dialogFree(ref_552);
    unitRestoreFacing(lisa);
    bitSet(MBIT_ALAYATALKGIN);
    b(label_60d);
  label_569:
    unitAnimationPlay(lisa, animation_28, 1);
    unitWait(lisa);
    unitAnimationPlay(lisa, animation_0, 1);
    delayClear();
    delayWait(10);
    unitAnimationPlay(lisa, animation_6, 1);
    ref_56f = bustupLoad(bustup_112);
    bustupWait(ref_56f);
    ref_571 = bustupAlloc(ref_56f, right, rgb(0,0,0));
    bustupFade(ref_571, rgb(128,0,0), 30);
    ref_573 = dialogAlloc();
    ref_574 = msgShow(msg_87);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]Alaya Shrine...
[tab]A... laya...
[tab]I wonder why... I’ve never been here before.
[wait][clear]
***************************************/
    wait(ref_574);
    unitAnimationPlay(lisa, animation_0, 1);
    ref_577 = bustupFade(ref_571, rgb(0,0,0), 10);
    bustupWait(ref_577);
    bustupFree(ref_571);
    dialogFree(ref_573);
    delayClear();
    delayWait(30);
    ref_57d = bustupLoad(bustup_111);
    bustupWait(ref_57d);
    ref_57f = bustupAlloc(ref_57d, right, rgb(0,0,0));
    bustupFade(ref_57f, rgb(128,0,0), 30);
    ref_581 = dialogAlloc();
    ref_582 = msgShow(msg_88);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]Huh?
[wait][clear]
***************************************/
    wait(ref_582);
    ref_584 = bustupFade(ref_57f, rgb(0,0,0), 10);
    bustupWait(ref_584);
    bustupFree(ref_57f);
    dialogFree(ref_581);
    unitRestoreFacing(lisa);
    unitAnimationPlay(lisa, animation_a, 1);
    unitFacePlayer(lisa);
    ref_58b = bustupLoad(bustup_113);
    bustupWait(ref_58b);
    ref_58d = bustupAlloc(ref_58b, right, rgb(0,0,0));
    bustupFade(ref_58d, rgb(128,0,0), 30);
    ref_58f = dialogAlloc();
    ref_590 = msgShow(msg_89);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]. . . . . .
[wait][clear]
***************************************/
    unitAnimationHold(lisa, animation_21, -1);
    wait(ref_590);
    unitAnimationStop(lisa);
    unitAnimationPlay(lisa, animation_0, 1);
    ref_595 = bustupFade(ref_58d, rgb(0,0,0), 10);
    bustupWait(ref_595);
    bustupFree(ref_58d);
    dialogFree(ref_58f);
    unitAnimationPlay(lisa, animation_29, 1);
    unitWait(lisa);
    ref_59b = bustupLoad(bustup_111);
    bustupWait(ref_59b);
    ref_59d = bustupAlloc(ref_59b, right, rgb(0,0,0));
    bustupFade(ref_59d, rgb(128,0,0), 30);
    ref_59f = dialogAlloc();
    ref_5a0 = msgShow(msg_90);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]S-Sorry ya...
[tab]I thought you looked like someone I knew...
[tab]I was kind of surprised... Hahaha...
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2d, 1);
    wait(ref_5a0);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5a4 = msgShow(msg_91);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]I-I’m Lisa.
[tab]Lisa Silverman.
[tab]Nice to meet you.
[sync][wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_24, 3);
    sync();
    wait(ref_5a4);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5a9 = msgShow(msg_92);
/***************************************
[color(yellow)]Lisa Silverman
[tab][color(green)]A student at Seven Sisters High School
[tab]who is a member of the group Muses.
[tab]A caucasian born and raised in Japan.
[wait][clear]
***************************************/
    wait(ref_5a9);
    ref_5ab = bustupFade(ref_59d, rgb(0,0,0), 10);
    bustupWait(ref_5ab);
    bustupFree(ref_59d);
    dialogFree(ref_59f);
    playerConvertToUnit(maya, sprite_0, east);
    playerHide();
    unitFaceUnit(maya, lisa);
    unitAnimationPlay(maya, animation_24, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    unitAnimationPlay(maya, animation_14, 1);
    unitWait(maya);
    delayClear();
    delayWait(30);
    unitAnimationPlay(maya, animation_24, 1);
    unitWait(maya);
    delayClear();
    delayWait(60);
    ref_5be = bustupLoad(bustup_113);
    bustupWait(ref_5be);
    ref_5c0 = bustupAlloc(ref_5be, right, rgb(0,0,0));
    bustupFade(ref_5c0, rgb(128,0,0), 30);
    ref_5c2 = dialogAlloc();
    ref_5c3 = msgShow(msg_93);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]Eh? You’re Amano-san?
[tab]I’ve heard about you.
[tab]You know Elly-san, right?
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2d, 1);
    wait(ref_5c3);
    ref_5c6 = bustupFade(ref_5c0, rgb(0,0,0), 10);
    bustupWait(ref_5c6);
    bustupFree(ref_5c0);
    ref_5c9 = bustupLoad(bustup_111);
    bustupWait(ref_5c9);
    ref_5cb = bustupAlloc(ref_5c9, right, rgb(0,0,0));
    bustupFade(ref_5cb, rgb(128,0,0), 30);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5ce = msgShow(msg_94);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]I was at Sumaru TV at the time, and Elly-san
[tab]saved me when that incident happened.
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2d, 1);
    wait(ref_5ce);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5d2 = msgShow(msg_95);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]If you’d like, I can help too.
[tab]I might not look it, but I’m pretty good
[tab]at Kung Fu! Achooo!!
[wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2f, 1);
    wait(ref_5d2);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5d6 = bustupFade(ref_5cb, rgb(0,0,0), 10);
    bustupWait(ref_5d6);
    bustupFree(ref_5cb);
    dialogFree(ref_5c2);
    unitRestoreFacing(lisa);
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    bitSet(MBIT_ALAYATALKGIN);
    b(label_60d);
  label_5e0:
    bitGet(var_0, EBIT_E007B);
    bnz(var_0, label_5f8);
    unitFacePlayer(lisa);
    ref_5e3 = bustupLoad(bustup_111);
    bustupWait(ref_5e3);
    ref_5e5 = bustupAlloc(ref_5e3, right, rgb(0,0,0));
    bustupFade(ref_5e5, rgb(128,0,0), 30);
    ref_5e7 = dialogAlloc();
    ref_5e8 = msgShow(msg_96);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]New World Order...
[tab]I think my producer knew that name...
[sync][wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_6, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(lisa, animation_2d, 1);
    delayClear();
    delayWait(30);
    sync();
    wait(ref_5e8);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_5f2 = bustupFade(ref_5e5, rgb(0,0,0), 10);
    bustupWait(ref_5f2);
    bustupFree(ref_5e5);
    dialogFree(ref_5e7);
    unitRestoreFacing(lisa);
    b(label_60d);
  label_5f8:
    unitFacePlayer(lisa);
    ref_5f9 = bustupLoad(bustup_112);
    bustupWait(ref_5f9);
    ref_5fb = bustupAlloc(ref_5f9, right, rgb(0,0,0));
    bustupFade(ref_5fb, rgb(128,0,0), 30);
    ref_5fd = dialogAlloc();
    ref_5fe = msgShow(msg_97);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]A huge ship under the city... no way!
[tab]Hasn’t something like this happened before?
[tab]It really feels like that!
[sync][wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_2d, 1);
    sync();
    wait(ref_5fe);
    ref_602 = msgShow(msg_98);
/***************************************
[color(yellow)]Lisa[color(white)]
[tab]But I can’t remember...
[tab]Something keeps on flickering in my head.
[tab]But why can’t I remember?
[sync][wait][clear]
***************************************/
    unitAnimationPlay(lisa, animation_1f, 1);
    sync();
    wait(ref_602);
    unitAnimationPlay(lisa, animation_a, 1);
    ref_607 = bustupFade(ref_5fb, rgb(0,0,0), 10);
    bustupWait(ref_607);
    bustupFree(ref_5fb);
    dialogFree(ref_5fd);
    unitRestoreFacing(lisa);
    b(label_60d);
  label_60d:
    controlEnable();
}

function DENKODOMO()
{
    controlDisable();
    ref_610 = cameraRotateTo(5, 60);
    wait(ref_610);
    unitFacePlayer(npc1);
    ref_613 = dialogAlloc();
    ref_614 = msgShow(msg_99);
/***************************************
[color(yellow)]Knowledgeable Dai[color(white)]
[tab]Onee-chan, did you know...?
[tab]There’s a Legendary Blacksmith in town.
[tab]Ah---! You don’t believe me, do you--!?
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_614);
    ref_617 = msgShow(msg_100);
/***************************************
[color(yellow)]Knowledgeable Dai[color(white)]
[tab]My daddy said that there is!!
[tab]Fine! Be that way! I’ll just
[tab]have the Ma’am at Shiraishi look for it!!
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_617);
    ref_61a = msgShow(msg_101);
/***************************************
[color(yellow)]Knowledgeable Dai[color(white)]
[tab]I’m getting a sword!
[tab]...But a gun is good, too.
[wait][clear]
***************************************/
    unitAnimationPlay(npc1, animation_24, 1);
    wait(ref_61a);
    unitAnimationPlay(npc1, animation_0, 1);
    dialogFree(ref_613);
    unitRestoreFacing(npc1);
    bitSet(MBIT_bukishoku_irai);
    controlEnable();
}

function DENSHOKU()
{
    controlDisable();
    bitGet(var_0, MBIT_SH_S_21);
    bne(var_0, 0, label_627);
    b(label_634);
  label_627:
    bne(var_0, 1, label_634);
    bitGet(var_0, MBIT_SH_H_21);
    bne(var_0, 0, label_631);
    bitGet(var_0, MBIT_TAKUMI_GET);
    bne(var_0, 0, label_62e);
    b(label_635);
    b(label_630);
  label_62e:
    bne(var_0, 1, label_630);
    b(label_630);
  label_630:
    b(label_633);
  label_631:
    bne(var_0, 1, label_633);
    b(label_633);
  label_633:
    b(label_634);
  label_634:
    b(label_6a1);
  label_635:
    add(var_6, var_6, 1);
    boutrange(var_6, 0, 1, label_639);
    b(label_63d);
    b(label_63d);
  label_639:
    bne(var_6, 2, label_63d);
    sub(var_6, var_6, 2);
    b(label_645);
    b(label_63d);
  label_63d:
    ref_63d = dialogAlloc();
    ref_63e = msgShow(msg_102);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab](sigh)...
[tab]My job is just too much.
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_63e);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_63d);
    bitSet(MBIT_bukishoku_irai);
    b(label_6b8);
  label_645:
    unitFacePlayer(npc2);
    ref_646 = dialogAlloc();
    ref_647 = msgShow(msg_103);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab]...Who are you?
[tab]What do you want?
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_647);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_646);
    choiceSetResult(2);
    op_105(2);
    ref_64e = bustupLoad(bustup_1);
    bustupWait(ref_64e);
    ref_650 = bustupAlloc(ref_64e, center, rgb(0,0,0));
    bustupFade(ref_650, rgb(128,0,0), 30);
    ref_652 = dialogChoiceAlloc();
    ref_653 = msgShow(msg_104);
/***************************************
[tab]What do you want?
[choice(3)]Guess name
Talk
Nothing
[end_choice][clear]
***************************************/
    ref_654 = textInputInit();
    wait(ref_653);
    dialogFree(ref_652);
    ref_657 = bustupFade(ref_650, rgb(0,0,0), 10);
    bustupWait(ref_657);
    bustupFree(ref_650);
    wait(ref_654);
    choiceGetResult(var_0);
    bne(var_0, 0, label_65f);
    b(label_666);
    b(label_666);
  label_65f:
    bne(var_0, 1, label_662);
    b(label_6ad);
    b(label_666);
  label_662:
    bne(var_0, 2, label_666);
    unitRestoreFacing(npc2);
    b(label_6b8);
    b(label_666);
  label_666:
    ref_666 = textInputPrompt();
    wait(ref_666);
    textInputCompare(msg_105, var_0);
    bne(var_0, 0, label_672);
    ref_66a = dialogAlloc();
    ref_66b = msgShow(msg_106);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab]...Eh?
[tab]Who’s that? It seems you have me
[tab]mistaken for somebody else.
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_66b);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_66a);
    unitRestoreFacing(npc2);
    b(label_6a0);
  label_672:
    bne(var_0, 1, label_6a0);
    ref_673 = dialogAlloc();
    ref_674 = msgShow(msg_107);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab]I’m Takumi Asano, but have
[tab]we met somewhere...?
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_674);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_673);
    playerConvertToUnit(maya, sprite_0, north);
    playerHide();
    unitFaceUnit(maya, npc2);
    unitAnimationPlay(maya, animation_2d, 1);
    delayClear();
    delayWait(90);
    unitAnimationPlay(maya, animation_a, 1);
    delayClear();
    delayWait(30);
    ref_682 = dialogAlloc();
    unitAnimationPlay(npc2, animation_24, 1);
    ref_684 = msgShow(msg_108);
/***************************************
[color(yellow)]Takumi Asano[color(white)]
[tab]You’re looking for the Legendary Blacksmith?
[tab]Well, it IS true my family
[tab]made wares over the generations.
[wait][clear][color(yellow)]Takumi Asano[color(white)]
[tab]But that was up until just recently.
[tab]When my father died, I also stopped... Why?
[tab]Because you can’t make a decent living.
[wait][clear][color(yellow)]Takumi Asano[color(white)]
[tab]...This is my first "real" job at age 35.
[tab]Business is hard.
[wait][clear]
***************************************/
    wait(ref_684);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_682);
    delayClear();
    delayWait(60);
    ref_68a = dialogAlloc();
    unitAnimationPlay(npc2, animation_24, 1);
    ref_68c = msgShow(msg_109);
/***************************************
[color(yellow)]Takumi Asano[color(white)]
[tab]...I’m sorry, but I can’t help you.
[tab]I have gotten used to working...
[tab]See! My hand can’t move.
[wait][clear][color(yellow)]Takumi Asano[color(white)]
[tab]I need time to rehabilitate...
[tab]I’ll let you borrow this [color(green)]secret document[color(white)].
[wait][clear][color(yellow)]Takumi Asano[color(white)]
[tab]..."Isn’t it important to you," you ask...?
[tab]Don’t worry. Everything’s in my head.
[tab]And besides, I do not need it anymore...
[wait][clear]
***************************************/
    wait(ref_68c);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_68a);
    delayClear();
    delayWait(30);
    msgVarSet(msgvar_1, 4126);
    ref_693 = dialogAlloc();
    ref_694 = msgShow(msg_110);
/***************************************
[color(green)]Maya got [item_with_type(item_fffe)].[color(white)]
[wait][clear]
***************************************/
    wait(ref_694);
    dialogFree(ref_693);
    bitSet(IBIT_HIDENSHO);
    bitSet(MBIT_DEN_HIDEN);
    bitSet(MBIT_SH_HH);
    bitSet(MBIT_TAKUMI_GET);
    unitRestoreFacing(npc2);
    unitDespawn(maya, none);
    playerInit(south);
    controlDisable();
    b(label_6a0);
  label_6a0:
    b(label_6b8);
  label_6a1:
    unitFacePlayer(npc2);
    ref_6a2 = dialogAlloc();
    ref_6a3 = msgShow(msg_111);
/***************************************
[color(yellow)]Takumi Asano[color(white)]
[tab]...Don’t worry about the secret document.
[tab]I don’t need it. Give it to a skilled
[tab]blacksmith if you see one...
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_6a3);
    ref_6a6 = msgShow(msg_112);
/***************************************
[color(yellow)]Takumi Asano[color(white)]
[tab]Huh? That’s odd...
[tab]Was my father a blacksmith?
[tab]I also feel he was a normal businessman...?
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_6a6);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_6a2);
    unitRestoreFacing(npc2);
    b(label_6b8);
  label_6ad:
    ref_6ad = dialogAlloc();
    ref_6ae = msgShow(msg_113);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab]Can you listen to me for a while...? 
[tab]This is my first "real" job, and I’m over 35...
[tab]Business is hard.
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_6ae);
    ref_6b1 = msgShow(msg_114);
/***************************************
[color(yellow)]Unrefined Man[color(white)]
[tab]I used to work out of my own home...
[tab]A "freelancer", is what you call it, right?
[wait][clear]
***************************************/
    unitAnimationPlay(npc2, animation_24, 1);
    wait(ref_6b1);
    unitAnimationPlay(npc2, animation_0, 1);
    dialogFree(ref_6ad);
    unitRestoreFacing(npc2);
    b(label_6b8);
  label_6b8:
    controlEnable();
}

function EXITBOX()
{
    controlDisable();
    mapLoad(rengedai, 0, 2);
}

function WARPBOX()
{
    controlDisable();
    objAnimRotate(obj_4, 0, -90, 0, 30, 0);
    sndMusicPlay(sound_306c, 127);
    objAnimRotate(obj_5, 0, 90, 0, 30, 0);
    objAnimWait(obj_4);
    objAnimWait(obj_5);
    dngLoad2(monad1-9);
}

function NYARUWARP()
{
    ref_6c5 = spriteLoad(sprite_0);
    wait(ref_6c5);
    ref_6c7 = spriteLoad(sprite_6);
    wait(ref_6c7);
    ref_6c9 = spriteLoad(sprite_d);
    wait(ref_6c9);
    ref_6cb = spriteLoad(sprite_13);
    wait(ref_6cb);
    ref_6cd = spriteLoad(sprite_18);
    wait(ref_6cd);
    cameraSet(northwest, 845, 0, -633);
    ref_6d0 = cameraZoom(-1408, 1);
    wait(ref_6d0);
    screenEffectUnknown();
    screenFadeInner(rgb(0,0,0), 6, true);
    screenFadeOuter(rgb(0,0,0), 6, true);
    ref_6d5 = cameraZoom(0, 120);
    screenFadeWait(inner);
    screenFadeWait(outer);
    wait(ref_6d5);
    delayClear();
    delayWait(60);
    objAnimRotate(obj_4, 0, -90, 0, 30, 0);
    sndMusicPlay(sound_306c, 127);
    objAnimRotate(obj_5, 0, 90, 0, 30, 0);
    objAnimWait(obj_4);
    objAnimWait(obj_5);
    unitSpawn(maya, sprite_0, 992, -100, -651, north, fade);
    unitMove(maya, 974, -846, face_north, slow);
    unitWait(maya);
    delayClear();
    delayWait(30);
    unitAnimationPlay(maya, animation_28, 1);
    unitWait(maya);
    unitMove(maya, 974, -2540, despawn, medium);
    cameraMoveTo(951, 0, -961, 60);
    unitSpawn(baofu, sprite_13, 983, -100, -665, north, fade);
    unitMove(baofu, 987, -940, face_north, slow);
    unitWait(baofu);
    delayClear();
    delayWait(30);
    unitAnimationPlay(baofu, animation_3, 1);
    delayClear();
    delayWait(8);
    unitAnimationPlay(baofu, animation_4, 1);
    delayClear();
    delayWait(60);
    unitAnimationPlay(baofu, animation_3, 1);
    delayClear();
    delayWait(8);
    unitAnimationPlay(baofu, animation_0, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(baofu, animation_1d, 1);
    unitWait(baofu);
    ref_6fc = bustupLoad(bustup_31);
    bustupWait(ref_6fc);
    ref_6fe = bustupAlloc(ref_6fc, left, rgb(0,0,0));
    bustupFade(ref_6fe, rgb(128,0,0), 30);
    ref_700 = dialogAlloc();
    ref_701 = msgShow(msg_115);
/***************************************
[color(yellow)]Baofu[color(white)]
[tab]Geez, we’re here again...
[tab]Can’t he do something different...
[wait][clear]
***************************************/
    wait(ref_701);
    dialogFree(ref_700);
    ref_704 = bustupFade(ref_6fe, rgb(0,0,0), 10);
    bustupWait(ref_704);
    bustupFree(ref_6fe);
    unitMove(baofu, 974, -2540, despawn, medium);
    li(var_5, 0);
    call(URARADERUTOKI);
    ref_70a = bustupLoad(bustup_18);
    bustupWait(ref_70a);
    ref_70c = bustupAlloc(ref_70a, left, rgb(0,0,0));
    bustupFade(ref_70c, rgb(128,0,0), 30);
    ref_70e = dialogAlloc();
    ref_70f = msgShow(msg_116);
/***************************************
[color(yellow)]Ulala[color(white)]
[tab]But if we come through here, 
[tab]we can always come back to the city, 
[tab]so don’t you think we’re lucky?
[wait][clear]
***************************************/
    wait(ref_70f);
    dialogFree(ref_70e);
    ref_712 = bustupFade(ref_70c, rgb(0,0,0), 10);
    bustupWait(ref_712);
    bustupFree(ref_70c);
  label_715:
    delayClear();
    delayWait(5);
    bez(var_5, label_715);
    unitAnimationPlay(katsuya, animation_1a, 1);
    ref_719 = bustupLoad(bustup_21);
    bustupWait(ref_719);
    ref_71b = bustupAlloc(ref_719, left, rgb(0,0,0));
    bustupFade(ref_71b, rgb(128,0,0), 30);
    ref_71d = dialogAlloc();
    ref_71e = msgShow(msg_117);
/***************************************
[color(yellow)]Katsuya[color(white)]
[tab]This is his doing too, right? It bothers
[tab]me because it seems like he’s trying
[tab]to show off his comfortability.
[wait][clear]
***************************************/
    wait(ref_71e);
    dialogFree(ref_71d);
    ref_721 = bustupFade(ref_71b, rgb(0,0,0), 10);
    bustupWait(ref_721);
    bustupFree(ref_71b);
    unitAnimationPlay(ulala, animation_1d, 1);
    unitWait(ulala);
    unitMove(ulala, 974, -2540, despawn, medium);
    delayClear();
    delayWait(30);
    unitMove(katsuya, 974, -2540, despawn, medium);
    unitSpawn(tatsuya, sprite_18, 982, -100, -664, north, fade);
    unitMove(tatsuya, 993, -1137, face_north, slow);
    delayClear();
    delayWait(60);
    objAnimRotate(obj_4, 0, 90, 0, 30, 0);
    sndMusicPlay(sound_306c, 127);
    objAnimRotate(obj_5, 0, -90, 0, 30, 0);
    unitWait(tatsuya);
    delayClear();
    delayWait(30);
    unitAnimationPlay(tatsuya, animation_6, 1);
    delayClear();
    delayWait(60);
    unitAnimationPlay(tatsuya, animation_0, 1);
    unitWait(tatsuya);
    unitAnimationPlay(tatsuya, animation_12, 1);
    unitWait(tatsuya);
    unitFace_2(tatsuya, south);
    unitAnimationPlay(tatsuya, animation_0, 1);
    unitWait(tatsuya);
    unitAnimationPlay(tatsuya, animation_5, 1);
    delayClear();
    delayWait(30);
    ref_741 = bustupLoad(bustup_d);
    bustupWait(ref_741);
    ref_743 = bustupAlloc(ref_741, left, rgb(0,0,0));
    bustupFade(ref_743, rgb(128,0,0), 30);
    ref_745 = dialogAlloc();
    ref_746 = msgShow(msg_118);
/***************************************
[color(yellow)][tatsuya][color(white)]
[tab]Everything begins here...
[tab]And ends here...
[tab]Is that what he wants to say...
[wait][clear]
***************************************/
    wait(ref_746);
    dialogFree(ref_745);
    ref_749 = bustupFade(ref_743, rgb(0,0,0), 10);
    bustupWait(ref_749);
    bustupFree(ref_743);
    unitAnimationPlay(tatsuya, animation_0, 1);
    delayClear();
    delayWait(30);
    unitAnimationPlay(tatsuya, animation_12, 1);
    unitWait(tatsuya);
    unitFace_2(tatsuya, north);
    unitAnimationPlay(tatsuya, animation_0, 1);
    unitWait(tatsuya);
    unitMove(tatsuya, 974, -2540, despawn, slow);
    delayClear();
    delayWait(60);
    screenEffectInit();
    screenFade(160, 120, rgb(0,0,0), rgb(0,0,0), sub);
    screenFadeInner(rgb(255,255,255), 8, false);
    screenFadeOuter(rgb(255,255,255), 8, false);
    screenFadeWait(inner);
    screenFadeWait(outer);
    bitSet(MBIT_MODORINYARU);
    mapLoad(rengedai, 0, 2);
}

function URARADERUTOKI()
{
    unitSpawn(ulala, sprite_6, 960, -100, -657, north, fade);
    unitMove(ulala, 959, -1015, face_west, medium);
    unitWait(ulala);
    unitAnimationPlay(ulala, animation_1, 1);
    delayClear();
    delayWait(8);
    unitAnimationPlay(ulala, animation_2, 1);
    unitSpawn(katsuya, sprite_d, 1019, -100, -658, north, fade);
    unitMove(katsuya, 1046, -1013, face_north, medium);
    delayClear();
    delayWait(50);
    unitAnimationPlay(ulala, animation_1, 1);
    delayClear();
    delayWait(15);
    unitAnimationPlay(ulala, animation_0, 1);
    unitWait(katsuya);
    li(var_5, 1);
}
